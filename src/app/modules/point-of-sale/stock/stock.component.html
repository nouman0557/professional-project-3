<!-- Stock Room Section-->
<section id="stock-section" *ngIf="stocksection">
    <app-toaster (closeToaster)="closeToaster()" [toasterType]="toasterType" [toasterMsg]="toasterMsg"
        [hideToster]="showToaster"></app-toaster>
    <div class="row">
        <!-- Left Section-->
        <div class="col-lg-6 p0">
            <!-- Minimizer Actions -->
            <div *ngIf="!existingPO && supplierOrder" class="iconActions">
                <a><i class="icon-minimized font16"></i></a>
                <a (click)="closeSupplierOrder()"><i class="icon-close font16"></i></a>
            </div>
            <div class="outer-wrapper">
                <div class="summary-title">
                    <h2 *ngIf="existingPO" class="text-left pl25">Product Order List</h2>
                    <h2 *ngIf="poStatus && transactionIdRMA==''" class="text-left pl25">Tracking P.O.</h2>
                    <h2 *ngIf="poStatus && transactionIdRMA!=''" class="text-left pl25">Tracking RMA</h2>
                    <h2 *ngIf="showOrderStatusComponent" class="text-left pl25">Tracking Buyback</h2>
                </div>
                <!-- Existing Orders (PO, RMA, Buyback)-->
                <div *ngIf="existingPO" class="inner-wrapper existingPO" [ngClass]="{'empty':purchaseOrders.length==0}">
                    <div class="top-info">
                        <div class="btn-group wd24percent" dropdown>
                            <div id="discount-cat-btn" class="btn-group height31px dInlineBlock">
                                <a (click)="applyActiveFilter('active')" class="btn wd50percent "
                                    [ngClass]="{'active':activeOrder == 'active' , 'notActive':activeOrder != 'active'}">Active</a>
                                <a (click)="applyActiveFilter('completed')" class="btn wd50percent"
                                    [ngClass]="{'active':activeOrder != 'active', 'notActive':activeOrder == 'active'}">Completed</a>
                            </div>
                        </div>
                        <div class="btn-group wd25percent text-center" dropdown>
                            <div class="filterLinks pOfilter newfilters">
                                <label>Filter by:</label>
                                <!-- When Active is Selected -->
                                <div *ngIf="activeOrder == 'active'" class="filterWhenActive dInlineBlock">
                                    <a (click)="applyActiveFilters('Today')" tooltip="Arrives Today" placement="bottom"
                                        href="JavaScript:void(0)" class="color000"
                                        [ngClass]="{'active': arrivalsFilters == 'Today'}">
                                        <i class="icon-today"></i>
                                    </a>
                                    <a (click)="applyActiveFilters('Tomorrow')" tooltip="Arrives tomorrow"
                                        placement="bottom" href="JavaScript:void(0)" class="color000"
                                        [ngClass]="{'active': arrivalsFilters == 'Tomorrow'}">
                                        <i class="icon-tomorrow"></i>
                                    </a>
                                    <a tooltip="Set date range" placement="bottom"
                                        (click)="openModal(open_DateRange, 'custModal wd400')" href="JavaScript:void(0)"
                                        class="color000"
                                        [ngClass]="{'active': this.toDate !='' && this.fromDate !='' }">
                                        <i class="icon-calendar_tickets"></i>
                                    </a>
                                </div>
                                <!-- When Completed is Selected -->
                                <div *ngIf="activeOrder == 'completed'" class="filterWhenCompleted dInlineBlock">
                                    <a (click)="applyCompletedFilters('ArrivalOnTime')" tooltip="Arrives on time"
                                        placement="bottom" href="JavaScript:void(0)" class="color000"
                                        [ngClass]="{'active': arrivalsFilters == 'ArrivalOnTime'}">
                                        <i class="icon-on_time"></i>
                                    </a>
                                    <a (click)="applyCompletedFilters('ArrivalLate')" tooltip="Arrives Late"
                                        placement="bottom" href="JavaScript:void(0)" class="color000"
                                        [ngClass]="{'active': arrivalsFilters == 'ArrivalLate'}">
                                        <i class="icon-on_time"></i>
                                    </a>
                                    <a tooltip="Arrives Incomplete" placement="bottom"
                                        (click)="openModal(open_DateRange, 'custModal wd400')" href="JavaScript:void(0)"
                                        class="color000"
                                        [ngClass]="{'active': this.toDate !='' && this.fromDate !='' }">
                                        <i class="icon-incomplete_a"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="cut-search-area wd50percent">
                            <div class="cut-search-area wd85Percent dInlinetable">
                                <div class="search-field input-group">
                                    <input [formControl]="searchPO" type="text" class="form-control"
                                        placeholder="Search by supplier name, PO no ">
                                    <a href="JavaScript:void(0)" class="input-group-addon">
                                        <i *ngIf="searchPO.value" (click)="searchPO.reset()"
                                            class="fas fa-times-circle"></i>
                                        <i class="icon-search"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="wd12Percent dInlinetable ml10 valignMiddle">
                                <a tooltip="Clear filters" placement="bottom" href="JavaScript:void(0)" (click)="clearAllPOFilters()" class="clearAllfilter"><i
                                        class="icon-clear_all"></i></a>
                            </div>
                        </div>
                    </div>
                    <div id="po-wrapper">
                        <div *ngIf="loadexistingPO" class="luna-loading"></div>
                        <div class="empty-text">
                            <h2><i class="fas fa-exclamation-triangle" aria-hidden="true"></i>No Orders Available</h2>
                        </div>
                        <div class="po-top-info">
                            <div class="inner wd5percent allCheckbox">
                                <span class="ml0">
                                    <input class="checkbox-custom" [checked]="isAllPOChecked()" id="cust-checkMain"
                                        name="cust-checkMain" (click)="allPOCheked($event)" type="checkbox">
                                    <label class="checkbox-custom-label" for="cust-checkMain"></label>
                                </span>
                            </div>
                            <div class="inner wd25percent"><span>P.O. Number</span></div>
                            <div class="inner labelFilter wd25percent">
                                <div class="btn-group" dropdown>
                                    <button id="button-animated" dropdownToggle type="button"
                                        class="btn dropdown-toggle supplierFilter"
                                        aria-controls="dropdown-animated">{{supplierFilter}}
                                        <span class="caret"></span>
                                    </button>
                                    <div class="filterDrop">
                                        <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu supplierFilterUl"
                                            role="menu" aria-labelledby="button-animated">
                                            <li (click)="$event.stopPropagation()"
                                                *ngFor="let supplier of supplierToFilter;let i = index;">
                                                <input [checked]="returnSelectedSuppliers(supplier._id)"
                                                    (click)="selectSupplierToFilter($event,supplier)"
                                                    id="selectsuppFilter{{i + 1}}" class="checkbox-custom"
                                                    name="selectsuppFilter{{i + 1}}" type="checkbox">
                                                <label [ngClass]="{'selected':returnSelectedSuppliers(supplier._id)}"
                                                    for="selectsuppFilter{{i + 1}}"
                                                    class="checkbox-custom-label">{{supplier.supplier_company}}</label>
                                            </li>
                                        </ul>
                                        <a (click)="getpurchaseOrders()" href="JavaScript:void(0)"
                                            class="dBlock padding5 borderRadius5 doneFilter text-center">Done</a>
                                    </div>
                                </div>
                            </div>
                            <div class="inner wd12percent"><span>Tracking</span></div>
                            <div class="inner wd15percent">
                                <span *ngIf="activeOrder == 'active'">Total</span>
                                <span *ngIf="activeOrder != 'active'">Delivered at</span>
                            </div>
                            <div class="inner labelFilter wd18percent">
                                <div class="btn-group" dropdown>
                                    <button id="button-animated" dropdownToggle type="button"
                                        class="btn dropdown-toggle statusFilter mainPOStatusFilter"
                                        aria-controls="dropdown-animated">{{statusFilter}}
                                        <span class="caret"></span>
                                    </button>
                                    <div class="filterDrop">
                                        <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu supplierFilterUl"
                                            role="menu" aria-labelledby="button-animated">
                                            <li (click)="$event.stopPropagation()"
                                                *ngFor="let status of statusesToFilter;let i = index;">
                                                <input [checked]="returnSelectedStatuses(status)"
                                                    (click)="selectStatusToFilter($event,status)" id="status{{i + 1}}"
                                                    class="checkbox-custom" name="status{{i + 1}}" type="checkbox">
                                                <label for="status{{i + 1}}"
                                                    [ngClass]="{'selected':returnSelectedStatuses(status)}"
                                                    class="checkbox-custom-label">{{status}}</label>
                                            </li>
                                        </ul>
                                        <a (click)="getpurchaseOrders()" href="JavaScript:void(0)"
                                            class="dBlock padding5 borderRadius5 doneFilter text-center">Done</a>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="inner wd5percent"><span class="mr0">Action</span></div> -->
                        </div>
                        <div class="po-inner-list" infiniteScroll (scrolled)="onScroll()" [scrollWindow]="false">
                            <ul>
                                <li [ngClass]="{'active':pOrder['_id']==currentOrderId || pOrder.checked}"
                                    *ngFor="let pOrder of purchaseOrders; let i = index"
                                    (dblclick)="purchaseOrderDetail(pOrder)">
                                    <div class="inner wd5percent allCheckbox">
                                        <span class="text-left">
                                            <input [checked]="pOrder.checked" class="checkbox-custom" type="checkbox"
                                                name="cust-POcheck{{i}}" (click)="addPOToExport($event,pOrder)"
                                                id="cust-POcheck{{i}}">
                                            <label class="checkbox-custom-label" for="cust-POcheck{{i}}"></label>
                                        </span>
                                    </div>
                                    <div class="inner wd25percent">
                                        <span class="m0">{{pOrder?.transaction_keeping_unit}}
                                            <i class="poDateStyle">|
                                                {{pOrder?.transaction_date | customDateFormat}}
                                            </i>
                                        </span>
                                    </div>
                                    <div class="inner wd25percent posRelative">
                                        <span class="m0 textWidthlimit" tooltip=""
                                            placement="left">{{pOrder?.Supplier?.supplier_company || 'Unknown'}}</span>
                                    </div>
                                    <div class="inner wd12percent shippingTrack">
                                        <div class="shippingIcons">
                                            <a (click)="openNewWindow(pOrder?.shipping_company_name, pOrder?.shipping_tracking_no)" href="JavaScript:void(0)"
                                                tooltip="{{pOrder?.shipping_company_name || 'Not Available'}}"
                                                placement="bottom"
                                                [ngClass]="{'noClick':pOrder?.dynamic_status?.status_name == 'Draft' || pOrder?.dynamic_status?.status_name == 'Paid' || pOrder?.dynamic_status?.status_name == 'Partial Payment'}"
                                                class="color000 font12 dInlineBlock lineHeight08 pr10 m0">
                                                <i class="fas fa-globe"></i>
                                            </a>
                                            <a (click)="copyText(pOrder?.shipping_tracking_no)"
                                                href="JavaScript:void(0)"
                                                tooltip="{{pOrder?.shipping_tracking_no || 'Not Available'}}"
                                                placement="bottom"
                                                [ngClass]="{'noClick':pOrder?.dynamic_status?.status_name == 'Draft' || pOrder?.dynamic_status?.status_name == 'Paid' || pOrder?.dynamic_status?.status_name == 'Partial Payment'}"
                                                class="color000 font12 dInlineBlock lineHeight08 m0">
                                                <i class="fas fa-copy"></i>
                                            </a>
                                            <span
                                                *ngIf="pOrder?.ShippingType?.threshold <= pOrder?.total_amount && pOrder?.ShippingType != null"
                                                class="color000 font12 dInlineBlock lineHeight08 m0 pl10">
                                                <i class=" icon-free_shipping"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="inner wd15percent">
                                        <span *ngIf="activeOrder == 'active'"
                                            class="m0">{{pOrder?.total_amount | currency}}</span>
                                        <span *ngIf="activeOrder != 'active' && pOrder?.transaction_date != null"
                                            class="m0">{{pOrder?.arrival_Date | customDateFormat}}</span>
                                        <span *ngIf="activeOrder != 'active' && pOrder?.arrival_Date == null"
                                            class="m0">N/A</span>
                                    </div>
                                    <div class="inner wd18percent">
                                        <span class="statusFiltericon" [ngClass]="{
                                                'POColorBG':pOrder?.transaction_type == 'purchase' , 
                                                'RMAColorBG':pOrder?.transaction_type == 'rma' , 
                                                'buyBackColorBG':pOrder?.transaction_type == 'buyback'
                                                }">
                                        </span>
                                        <span [style.color]="pOrder?.dynamic_status?.status_font_color"
                                            [style.background-color]="pOrder?.dynamic_status?.status_background_color"
                                            class="status dInlineBlock width80px mr0 font9">{{pOrder?.dynamic_status?.status_name | titlecase}}</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="bottom">
                        <div class="caution-stock dtableCell wd40percent valignMiddle">
                            <div class="filterLinks newfilters bottomFilters rmaFilters">
                                <label>Filter by:</label>
                                <a href="JavaScript:void(0)" class="color000 fontSemiBold fontPoppin"
                                    [ngClass]="{'active': orderFilterType == 'All'}"
                                    (click)="ordertypeFilter('All')">All</a>
                                <a href="JavaScript:void(0)" class="POColorText fontSemiBold fontPoppin"
                                    [ngClass]="{'active': orderFilterType == 'Purchase'}"
                                    (click)="ordertypeFilter('Purchase')">PO</a>
                                <a href="JavaScript:void(0)" class="RMAColorText fontSemiBold fontPoppin"
                                    [ngClass]="{'active': orderFilterType == 'Rma'}"
                                    (click)="ordertypeFilter('Rma')">RMA</a>
                                <a href="JavaScript:void(0)" class="buyBackColorText fontSemiBold fontPoppin"
                                    [ngClass]="{'active': orderFilterType == 'Buyback'}"
                                    (click)="ordertypeFilter('Buyback')">Buyback</a>
                            </div>
                        </div>
                        <div class="caution-stock dtableCell text-right wd60percent">
                            <div *ngIf="isAnyPOChecked()" class="ifPOUnChecked">
                                <a href="JavaScript:void(0)"
                                    (click)="stockService.printAndExportOrders(selectedOrder,isExport = false,'pdf')"
                                    class="wd100px">Print</a>
                                <a href="JavaScript:void(0)" (click)="openModal(exportOrder, 'custModal wd300')"
                                    class="wd100px">Export</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Order Status -->
                <div *ngIf="poStatus" class="inner-wrapper po-details po-receive">
                    <div *ngIf="loadOrder" class="luna-loading"></div>
                    <div class="top">
                        <div class="left wd80percent">
                            <a *ngIf='orderDetail["transaction_type"] != "rma"'
                                (click)="backToMainScreen(saveAllchanges,'custModal wd250')"
                                class="back-cust-list">Back</a>
                            <a *ngIf='orderDetail["transaction_type"] == "rma" && orderDetail?.dynamic_status?.status_name != "Draft"'
                                (click)="cancel('poStatus','existingPO')" class="back-cust-list">Back</a>
                            <a *ngIf='orderDetail["transaction_type"] == "rma" && orderDetail["total_amount"]==estimatedPayOutRMA && orderDetail?.dynamic_status?.status_name == "Draft"'
                                (click)="cancel('poStatus','existingPO')" class="back-cust-list">Back</a>
                            <a *ngIf='orderDetail["transaction_type"] == "rma" && orderDetail["total_amount"]!=estimatedPayOutRMA && orderDetail?.dynamic_status?.status_name == "Draft"'
                                (click)="openModal(finishLaterRMA,'custModal wd250')" class="back-cust-list">Back</a>
                            <h2 class="dotedOverflow">{{orderDetail?.transaction_keeping_unit}} -
                                <span>{{orderDetail?.Supplier?.supplier_company}}</span></h2>
                        </div>
                        <div class="right wd20percent">
                            <!-- <span [style.color]="orderDetail?.dynamic_status?.status_font_color"
                                [style.background-color]="orderDetail?.dynamic_status?.status_background_color"
                                class="status dBlock wd100Percent font12">{{orderDetail?.dynamic_status?.status_name}}</span> -->
                        </div>
                    </div>
                    <!-- PO Status -->
                    <div *ngIf='orderDetail["transaction_type"] != "rma"' class="orderStatusMid bgefefef">
                        <div class="topBox mb10">
                            <div class="row m0">
                                <div class="col-lg-6 pl0 pr10 noborderBottom">
                                    <div class="statusinfoBox pt15 pb15 bgWhite">
                                        <span class="dBlock colorc2c2c2 font11 fontPoppin fontSemiBold500">Current
                                            Status</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Draft'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This Order is a draft
                                            order</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Partial Payment'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This Order is
                                            partially paid</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Paid'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This Order was
                                            placed</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Canceled'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This order was
                                            canceled</span>
                                        <span
                                            *ngIf="orderDetail?.dynamic_status?.status_name == 'On Transit' && trackingNumberEdit"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">Adding tracking
                                            number</span>
                                        <span
                                            *ngIf="orderDetail?.dynamic_status?.status_name == 'On Transit' && !trackingNumberEdit"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This order is on
                                            transit</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This Order was
                                            delivered</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Partially Received'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This Order was
                                            partially received</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Completed'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This Order is
                                            complete</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Contact'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">Contact with your
                                            supplier</span>
                                    </div>
                                </div>
                                <div class="col-lg-6 pl0 pr0 noborderBottom">
                                    <div class="col-lg-6 p0 fl noborderBottom">
                                        <div class="statusinfoBox pt15 pb15 bgWhite">
                                            <span class="dBlock colorc2c2c2 font11 fontPoppin fontSemiBold500">Items in
                                                order</span>
                                            <span
                                                class="dBlock color000 font14 fontPoppin fontSemiBold">{{totalItemsInOrder}}
                                                Items</span>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 pr0 pl10 fl noborderBottom">
                                        <div class="statusinfoBox pt15 pb15 bgWhite">
                                            <span
                                                *ngIf="orderDetail?.dynamic_status?.status_name != 'Partial Payment' && orderDetail?.dynamic_status?.status_name != 'Canceled'"
                                                class="dBlock colorc2c2c2 font11 fontPoppin fontSemiBold500">Total</span>
                                            <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Partial Payment'"
                                                class="dBlock colorc2c2c2 font11 fontPoppin fontSemiBold500">Balance</span>
                                            <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Canceled'"
                                                class="dBlock colorc2c2c2 font11 fontPoppin fontSemiBold500">Total
                                                Refunded</span>
                                            <span
                                                *ngIf="orderDetail?.dynamic_status?.status_name != 'Partial Payment' && orderDetail?.dynamic_status?.status_name != 'Canceled'"
                                                class="dBlock color000 font14 fontPoppin fontSemiBold">{{orderDetail?.total_amount | currency}}</span>
                                            <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Canceled'"
                                                class="dBlock color000 font14 fontPoppin fontSemiBold">{{orderDetail?.refund_amount | currency}}</span>
                                            <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Partial Payment'"
                                                class="dBlock color000 font14 fontPoppin fontSemiBold">{{orderDetail?.remaining_amount | currency}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bottomBox">
                            <div class="statusinfoBox bgWhite">
                                <div class="row m0">
                                    <div class="col-lg-12 p0 noborderBottom mb10">
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name != 'Canceled'"
                                            class="statusWizards">
                                            <ul>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Draft') , 'currentStatus' : !setDynamicClasses('Draft') &&  setDynamicClasses('Draft') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-draft"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Draft</span>
                                                    </div>
                                                </li>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Partial Payment') , 'currentStatus' : !setDynamicClasses('Partial Payment') &&  setDynamicClasses('Partial Payment') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-partialPayment_stock"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Partial Payment</span>
                                                    </div>
                                                </li>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Paid') , 'currentStatus' : !setDynamicClasses('Paid') &&  setDynamicClasses('Paid') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-order_placed"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Paid</span>
                                                    </div>
                                                </li>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('On Transit') , 'currentStatus' : !setDynamicClasses('On Transit') &&  setDynamicClasses('On Transit') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-on_transit"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">On Transit</span>
                                                    </div>
                                                </li>
                                                <li [ngClass]="{'doneStatus' : setDynamicClasses('Delivered') , 'currentStatus' : !setDynamicClasses('Delivered') &&  setDynamicClasses('Delivered') != null}"
                                                    *ngIf="orderDetail?.dynamic_status?.status_name != 'Partially Received'">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-delivered"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Delivered</span>
                                                    </div>
                                                </li>
                                                <li [ngClass]="{'doneStatus' : setDynamicClasses('Partially Received') , 'currentStatus' : !setDynamicClasses('Partially Received') &&  setDynamicClasses('Partially Received') != null}"
                                                    *ngIf="orderDetail?.dynamic_status?.status_name == 'Partially Received'">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-delivered"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Partially Received</span>
                                                    </div>
                                                </li>
                                                <li [ngClass]="{'doneStatus' : setDynamicClasses('Completed') , 'currentStatus' : !setDynamicClasses('Completed') &&  setDynamicClasses('Completed') != null}"
                                                    *ngIf="orderDetail?.dynamic_status?.status_name != 'Contact'">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-completed"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Completed</span>
                                                    </div>
                                                </li>
                                                <li [ngClass]="{'doneStatus' : setDynamicClasses('Contact') , 'currentStatus' : !setDynamicClasses('Contact') &&  setDynamicClasses('Contact') != null}"
                                                    *ngIf="orderDetail?.dynamic_status?.status_name == 'Contact'">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="far fa-check-circle"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Contact Supplier</span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Canceled'"
                                            class="statusWizards ifCanceled">
                                            <ul>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Draft') , 'currentStatus' : !setDynamicClasses('Draft') &&  setDynamicClasses('Draft') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-draft"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Draft</span>
                                                    </div>
                                                </li>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Partial Payment') , 'currentStatus' : !setDynamicClasses('Partial Payment') &&  setDynamicClasses('Partial Payment') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-partialPayment_stock"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Partial Payment</span>
                                                    </div>
                                                </li>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Paid') , 'currentStatus' : !setDynamicClasses('Paid') &&  setDynamicClasses('Paid') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-order_placed"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Paid</span>
                                                    </div>
                                                </li>
                                                <li class="canceledStatus">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-canceled"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Canceled</span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 p0 noborderBottom">
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Draft'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">To become this into a
                                                purchase you should finalize your order.</span>
                                            <div class="statusInnerActions mt15">
                                                <!-- <a href="https://apidev.techbar.com/api/pdf?orderId={{orderDetail._id}}" class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download P.O.</a> -->
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    P.O.</a>
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(open_deletePO, 'custModal wd300')"
                                                    class="innerStatusBtns noFloat dInlineBlock wd100px">Delete P.O.</a>
                                            </div>
                                            <!-- <div class="statusdetails"></div> -->
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Partial Payment'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">The purcahse order was
                                                partially paid. This order still having a balance.</span>
                                            <div class="statusInnerActions mt15">
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    P.O.</a>
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(open_cancelPO, 'custModal wd400')"
                                                    class="innerStatusBtns noFloat dInlineBlock wd100px">Cancel P.O.</a>
                                            </div>
                                            <div class="statusdetails mt15">
                                                <div class="row ml0 mr0">
                                                    <div class="col-lg-6 p0 noborderBottom">
                                                        <label class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                            supplier's order number</label>
                                                        <input type="text" [(ngModel)]="orderNumber"
                                                            (focusout)="poSupplierOrderNumberFun(orderDetail)"
                                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock wd70percent"
                                                            placeholder="Type your supplier's order number">
                                                        <!-- <a (click)='poSupplierOrderNumberFun(orderDetail)'
                                                            class="dInlineBlock bgBlack text-center wd25percent ml10 borderRadius5 lineHeight30px">Save</a> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Paid'"
                                            class="mainDetailBox">
                                            <div *ngIf='orderNumberLoader' class="luna-loading"></div>
                                            <span class="dBlock color000 font11 mb5 fontPoppin">Congratulations! Your
                                                order hase been placed and you have successfully recorded your order and
                                                payment.</span>
                                            <div class="statusInnerActions mt15">
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    P.O.</a>
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(open_cancelPO, 'custModal wd400')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Cancel
                                                    P.O.</a>
                                                <a href="JavaScript:void(0)" (click)="addTrakingNumber()"
                                                    class="innerStatusBtns noFloat dInlineBlock wd160px">Add tracking
                                                    number</a>
                                            </div>
                                            <div class="statusdetails mt15">
                                                <div class="row ml0 mr0">
                                                    <div class="col-lg-6 p0 noborderBottom">
                                                        <label class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                            supplier's order number</label>
                                                        <input type="text" [(ngModel)]="orderNumber"
                                                            (focusout)="poSupplierOrderNumberFun(orderDetail)"
                                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock wd70percent"
                                                            placeholder="Type your supplier's order number">
                                                        <!-- <a (click)='poSupplierOrderNumberFun(orderDetail)'
                                                            class="dInlineBlock bgBlack text-center wd25percent ml10 borderRadius5 lineHeight30px">Save</a> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Canceled'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">This order was canceled
                                                by
                                                {{orderDetail?.updated_by?.first_name + ' ' + orderDetail?.updated_by?.last_name || 'N/A'}}
                                                on {{orderDetail?.updated_at | customDateFormat}}.</span>
                                            <!-- <div class="statusdetails"></div> -->
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'On Transit'"
                                            class="mainDetailBox trackingDetail">
                                            <!-- <div *ngIf='onTransitShipingNumLoader' class="luna-loading"></div> -->
                                            <span class="dBlock color000 font11 mb5 fontPoppin">Add tracking
                                                number</span>
                                            <form action="#" autocomplete="off" [formGroup]="addTrackingForm">
                                                <div class="statusdetails trackingDetail mt15"
                                                    [ngClass]="{ 'trackingDetailEdit': trackingNumberEdit}">
                                                    <div class="row ml0 mr0">
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{ 'is-invalid': addTrackingSubmitted && fAddTrackingForm.company_name.errors}"
                                                                class="color000 mb0 fontSemiBold fontPoppin font11">Tracking URL</label>
                                                                <div *ngIf="!trackingNumberEdit">
                                                                    <span  class="wd130px btnText valignMiddle dInlineBlock color000 mb0 fontPoppin font11">{{orderDetail?.shipping_company_name}}</span>
                                                                    <div class="shippinIcons p0">
                                                                        <a (click)="openNewWindow(orderDetail?.shipping_company_name, orderDetail?.shipping_tracking_no)" href="JavaScript:void(0)"
                                                                            tooltip="Track your shippment"
                                                                            placement="bottom"
                                                                            class="color000 font12 dInlineBlock lineHeight08 pr10 m0">
                                                                            <i class="fas fa-globe"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            <input
                                                                [ngClass]="{ 'bounce': addTrackingSubmitted && fAddTrackingForm.company_name.errors}"
                                                                *ngIf="trackingNumberEdit" type="text"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius5"
                                                                placeholder="https://www.fedex.com/"
                                                                formControlName="company_name">
                                                            <span class="field-error-msg" *ngIf="addTrackingSubmitted && fAddTrackingForm.company_name.errors?.required">
                                                                Company URL is required
                                                            </span>
                                                            <span class="field-error-msg" *ngIf="addTrackingSubmitted && fAddTrackingForm.company_name.errors?.pattern">
                                                                Please enter valid URL
                                                            </span>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{ 'is-invalid': addTrackingSubmitted && fAddTrackingForm.tracking_number.errors}"
                                                                class="color000 mb0 fontSemiBold fontPoppin font11">Tracking
                                                                number</label>
                                                            <div *ngIf="!trackingNumberEdit">
                                                                <span
                                                                    class="wd130px btnText valignMiddle dInlineBlock color000 mb0 fontPoppin font11">{{orderDetail.shipping_tracking_no}}</span>
                                                                <div class="shippinIcons p0">
                                                                    <a (click)="copyText(orderDetail?.shipping_tracking_no)"
                                                                        href="JavaScript:void(0)"
                                                                        tooltip="Copy your tracking number"
                                                                        placement="bottom"
                                                                        class="color000 font12 dInlineBlock lineHeight08 m0">
                                                                        <i class="fas fa-copy"></i>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                            <input
                                                                [ngClass]="{ 'bounce': addTrackingSubmitted && fAddTrackingForm.tracking_number.errors}"
                                                                *ngIf="trackingNumberEdit" type="text"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius5"
                                                                formControlName="tracking_number"
                                                                placeholder="Type your tracking number">
                                                            <span class="field-error-msg"
                                                                *ngIf="addTrackingSubmitted && fAddTrackingForm.tracking_number.errors?.required">
                                                                Tracking Number is required</span>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{ 'is-invalid': addTrackingSubmitted && fAddTrackingForm.estimated_days.errors}"
                                                                class="color000 mb0 fontSemiBold fontPoppin font11">Estimated
                                                                Delivery</label>
                                                            <span *ngIf="!trackingNumberEdit"
                                                                class="color000 mb0 fontPoppin font11">{{orderDetail?.shipping_estimated_days | date : 'MMM/dd/yyyy' }}</span>
                                                            <input *ngIf="trackingNumberEdit" type="text"
                                                                formControlName="estimated_days"
                                                                placeholder="Estimated delivery date"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius5"
                                                                [bsConfig]="{showWeekNumbers:false, minDate: todayDate, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                                                bsDatepicker placement="top"
                                                                [isOpen]="isOpenestimated_days">
                                                            <span *ngIf="trackingNumberEdit"
                                                                (click)="isOpenestimated_days = !isOpenestimated_days"
                                                                class="datePickerIcon"></span>
                                                            <span class="field-error-msg"
                                                                *ngIf="addTrackingSubmitted && fAddTrackingForm.estimated_days.errors?.required">
                                                                Estimated Days is required</span>
                                                        </div>
                                                    </div>
                                                    <div class="row mb15 ml0 mr0">
                                                        <div class="col-lg-6 pl0 noborderBottom trackNumbtn">
                                                            <div *ngIf="trackingNumberEdit" class="iftrackEdit mt10">
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="addTrackingNumber('Edit')"
                                                                    class="dInlineBlock text-center  borderRadius5">Save</a>
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="initializeAddTrackingFrom('')"
                                                                    class="dInlineBlock btnTwo color000 text-center ml10 borderRadius5">Cancel</a>
                                                            </div>
                                                            <div *ngIf="!trackingNumberEdit" class="trackEditbtns mt10">
                                                                <a href="JavaScript:void(0)"
                                                                    (click)='initializeUpdateTrackingFrom(orderDetail)'
                                                                    class="dInlineBlock text-center borderRadius5">Edit</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row mb15 ml0 mr0">
                                                        <div class="col-lg-6 p0 noborderBottom">
                                                            <label
                                                                class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                                supplier's order number</label>
                                                            <input type="text" [(ngModel)]="orderNumber"
                                                                (focusout)="poSupplierOrderNumberFun(orderDetail)"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock wd70percent"
                                                                placeholder="Type your supplier's order number"
                                                                [ngModelOptions]="{standalone: true}">
                                                            <!-- <a (click)='poSupplierOrderNumberFun(orderDetail)'
                                                                    class="dInlineBlock bgBlack text-center wd25percent ml10 borderRadius5 lineHeight30px">Save</a> -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                            <div *ngIf="!trakingNo" class="statusInnerActions mt10 text-right">
                                                <a href="JavaScript:void(0)" (click)="updatePOStatus('Delivered')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd200px">Mark this
                                                    order as delivered</a>
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(open_cancelPO, 'custModal wd400')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Cancel
                                                    P.O.</a>
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns noFloat dInlineBlock wd100px">Download
                                                    P.O.</a>
                                            </div>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">Record all the items you
                                                have received to verify that your order is completed.</span>
                                            <div class="statusdetails mt15">
                                                <div class="row ml0 mr0">
                                                    <div class="col-lg-6 pl0 noborderBottom">
                                                        <label class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                            supplier's order number</label>
                                                        <input type="text" [(ngModel)]="orderNumber"
                                                            (focusout)="poSupplierOrderNumberFun(orderDetail)"
                                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock"
                                                            placeholder="Type your supplier's order number">
                                                        <!-- <a (click)='poSupplierOrderNumberFun(orderDetail)'
                                                            class="dInlineBlock bgBlack text-center wd25percent ml10 borderRadius5 lineHeight30px">Save</a> -->
                                                    </div>
                                                    <!-- <div class="col-lg-4 pl0 noborderBottom">
                                                        <label
                                                            class="color000 mb0 fontSemiBold fontPoppin font11">Additional
                                                            Cost</label>
                                                        <span class="placeHolderinput">$</span>
                                                        <input type="text" [(ngModel)]="addPrice"
                                                            appTwoDigitDecimaNumber
                                                            (focusout)="recordAdditionalPayment()"
                                                            class="form-control cust-field font11 borderColorcbcbcb text-right borderRadius5 dInlineBlock wd70percent"
                                                            placeholder="0.00">
                                                    </div> -->
                                                </div>
                                            </div>
                                            <div class="statusInnerActions bottomMin23 mt10 text-right posRelative">
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    P.O.</a>
                                            </div>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Partially Received'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">Record all the items you
                                                have receive in this section to verify that your purchase order is
                                                complete.</span>
                                            <div class="statusdetails mt15">
                                                <div class="row ml0 mr0">
                                                    <div class="col-lg-6 pl0 noborderBottom">
                                                        <label class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                            supplier's order number</label>
                                                        <input type="text" [(ngModel)]="orderNumber"
                                                            (focusout)="poSupplierOrderNumberFun(orderDetail)"
                                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock"
                                                            placeholder="Type your supplier's order number">
                                                        <!-- <a (click)='poSupplierOrderNumberFun(orderDetail)'
                                                            class="dInlineBlock bgBlack text-center wd25percent ml10 borderRadius5 lineHeight30px">Save</a> -->
                                                    </div>
                                                    <!-- <div class="col-lg-4 pl0 noborderBottom">
                                                        <label
                                                            class="color000 mb0 fontSemiBold fontPoppin font11">Additional
                                                            Cost</label>
                                                        <span class="placeHolderinput">$</span>
                                                        <input type="text" [(ngModel)]="addPrice"
                                                            appTwoDigitDecimaNumber
                                                            (focusout)="recordAdditionalPayment()"
                                                            class="form-control cust-field font11 borderColorcbcbcb text-right borderRadius5 dInlineBlock"
                                                            placeholder="0.00">
                                                    </div> -->
                                                </div>
                                            </div>
                                            <div class="statusInnerActions bottomMin23 mt10 text-right posRelative">
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    P.O.</a>
                                            </div>

                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Completed'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">Record all the items you
                                                have receive in this section to verify that your purchase order is
                                                complete.</span>
                                            <div class="statusInnerActions mt10">
                                                <!-- (click)="createDirectRMA()" -->
                                                <a href="JavaScript:void(0)"
                                                    class="innerStatusBtns noFloat dInlineBlock wd100px">Create RMA</a>
                                            </div>
                                            <div class="statusdetails mt15">
                                                <div class="row ml0 mr0">
                                                    <div class="col-lg-6 pl0 noborderBottom">
                                                        <label class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                            supplier's order number</label>
                                                        <input type="text" [(ngModel)]="orderNumber"
                                                            (focusout)="poSupplierOrderNumberFun(orderDetail)"
                                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock"
                                                            placeholder="Type your supplier's order number">
                                                        <!-- <a (click)='poSupplierOrderNumberFun(orderDetail)'
                                                            class="dInlineBlock bgBlack text-center wd25percent ml10 borderRadius5 lineHeight30px">Save</a> -->
                                                    </div>
                                                    <div class="col-lg-4 pl0 noborderBottom">
                                                        <label
                                                            class="color000 mb0 fontSemiBold fontPoppin font11">Additional
                                                            Cost</label>
                                                        <span class="placeHolderinput">$</span>
                                                        <input type="text" [(ngModel)]="addPrice"
                                                            appTwoDigitDecimaNumber
                                                            (focusout)="recordAdditionalPayment()"
                                                            class="form-control cust-field font11 borderColorcbcbcb text-right borderRadius5 dInlineBlock"
                                                            placeholder="0.00">
                                                        <!-- <a (click)='poSupplierOrderNumberFun(orderDetail)'
                                                            class="dInlineBlock bgBlack text-center wd25percent ml10 borderRadius5 lineHeight30px">Save</a> -->
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="statusInnerActions bottomMin15 mt10 text-right posRelative">
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    P.O.</a>
                                            </div>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Contact'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">Your order has missing
                                                product. What would you like to do next?</span>
                                            <!-- <div class="statusdetails"></div> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- RMA Status -->
                    <div *ngIf='orderDetail["transaction_type"] == "rma"' class="orderStatusMid bgefefef">
                        <div class="topBox mb10">
                            <div class="row m0">
                                <div class="col-lg-6 pl0 pr10 noborderBottom">
                                    <div class="statusinfoBox pt15 pb15 bgWhite">
                                        <span class="dBlock colorc2c2c2 font11 fontPoppin fontSemiBold500">Current
                                            Status</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Draft'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This RMA is a draft
                                        </span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Submitted'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This RMA was
                                            submitted</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Canceled'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This RMA was
                                            canceled</span>
                                        <span
                                            *ngIf="orderDetail?.dynamic_status?.status_name == 'On Transit' && trackingNumberEdit"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">Adding tracking
                                            number</span>
                                        <span
                                            *ngIf="orderDetail?.dynamic_status?.status_name == 'On Transit' && !trackingNumberEdit"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This RMA is on
                                            transit</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">This RMA was
                                            delivered</span>
                                        <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Completed'"
                                            class="dBlock color000 font12 fontPoppin fontSemiBold">RMA amount
                                            refund</span>
                                    </div>
                                </div>
                                <div class="col-lg-6 pl0 pr0 noborderBottom">
                                    <div class="col-lg-6 p0 fl noborderBottom">
                                        <div class="statusinfoBox pt15 pb15 bgWhite">
                                            <span class="dBlock colorc2c2c2 font11 fontPoppin fontSemiBold500">Return
                                                Items </span>
                                            <span
                                                class="dBlock color000 font14 fontPoppin fontSemiBold">{{returnItemRMA}}
                                                Items</span>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 pr0 pl10 fl noborderBottom">
                                        <div class="statusinfoBox pt15 pb15 bgWhite">
                                            <span *ngIf="orderDetail?.dynamic_status?.status_name != 'Completed'"
                                                class="dBlock colorc2c2c2 font11 fontPoppin fontSemiBold500">Estimated
                                                RMA</span>
                                            <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Completed'"
                                                class="dBlock colorc2c2c2 font11 fontPoppin fontSemiBold500">Actual
                                                RMA</span>
                                            <span *ngIf="orderDetail?.dynamic_status?.status_name != 'Completed'"
                                                class="dBlock color000 font14 fontPoppin fontSemiBold">{{estimatedPayOutRMA | currency}}</span>
                                            <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Completed'"
                                                class="dBlock color000 font14 fontPoppin fontSemiBold">{{orderDetail['total_amount'] | currency}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bottomBox">
                            <div class="statusinfoBox bgWhite">
                                <div class="row m0">
                                    <div class="col-lg-12 p0 noborderBottom mb10">
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name != 'Canceled'"
                                            class="statusWizards rmaBackwizard">
                                            <ul>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Draft') , 'currentStatus' : !setDynamicClasses('Draft') &&  setDynamicClasses('Draft') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-draft"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Draft</span>
                                                    </div>
                                                </li>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Submitted') , 'currentStatus' : !setDynamicClasses('Submitted') &&  setDynamicClasses('Submitted') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-submitted"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Submitted</span>
                                                    </div>
                                                </li>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('On Transit') , 'currentStatus' : !setDynamicClasses('On Transit') &&  setDynamicClasses('On Transit') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-on_transit"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">On Transit</span>
                                                    </div>
                                                </li>
                                                <li [ngClass]="{'doneStatus' : setDynamicClasses('Delivered') , 'currentStatus' : !setDynamicClasses('Delivered') &&  setDynamicClasses('Delivered') != null}"
                                                    *ngIf="orderDetail?.dynamic_status?.status_name != 'Partially Received'">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-delivered"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Delivered</span>
                                                    </div>
                                                </li>
                                                <li [ngClass]="{'doneStatus' : setDynamicClasses('Completed') , 'currentStatus' : !setDynamicClasses('Completed') &&  setDynamicClasses('Completed') != null}"
                                                    *ngIf="orderDetail?.dynamic_status?.status_name != 'Contact'">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-completed"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Completed</span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Canceled'"
                                            class="statusWizards ifCanceled rmaBackwizard">
                                            <ul>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Draft') , 'currentStatus' : !setDynamicClasses('Draft') &&  setDynamicClasses('Draft') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-draft"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Draft</span>
                                                    </div>
                                                </li>
                                                <li
                                                    [ngClass]="{'doneStatus' : setDynamicClasses('Submitted') , 'currentStatus' : !setDynamicClasses('Submitted') &&  setDynamicClasses('Submitted') != null}">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-submitted"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Submitted</span>
                                                    </div>
                                                </li>
                                                <li class="canceledStatus">
                                                    <div class="title">
                                                        <span class="step-icon top-icon"><i
                                                                class="icon-canceled"></i></span>
                                                        <span class="step-icon bottom-icon"></span>
                                                        <span class="step-text">Canceled</span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 p0 noborderBottom">
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Draft'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">To sent this RMA to your
                                                supplier, you should finalize the process. </span>
                                            <div class="statusInnerActions mt15">
                                                <!-- <a href="https://apidev.techbar.com/api/pdf?orderId={{orderDetail._id}}" class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download P.O.</a> -->
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    RMA</a>
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(open_deleteRMA, 'custModal wd300')"
                                                    class="innerStatusBtns noFloat dInlineBlock wd100px">Delete RMA</a>
                                            </div>
                                            <!-- <div class="statusdetails"></div> -->
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Submitted'"
                                            class="mainDetailBox">
                                            <div *ngIf='rmaSupNumberLoader' class="luna-loading"></div>
                                            <span class="dBlock color000 font11 mb5 fontPoppin">Your RMA has been
                                                submitted</span>
                                            <div class="statusInnerActions mt15">
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    RMA</a>
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(open_cancelRMA, 'custModal smallToster wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Cancel
                                                    RMA</a>
                                                <a href="JavaScript:void(0)" (click)="addTrakingNumber()"
                                                    class="innerStatusBtns noFloat dInlineBlock wd160px">Add tracking
                                                    number</a>
                                            </div>
                                            <div class="statusdetails mt15">
                                                <div class="row ml0 mr0">
                                                    <div class="col-lg-6 p0 noborderBottom">
                                                        <label class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                            supplier's RMA number</label>
                                                        <input type="text" (keypress)="validateCharacters($event)"
                                                            [(ngModel)]="orderDetail.supplier_rma_number"
                                                            value="{{orderDetail.supplier_rma_number}}"
                                                            (focusout)="updateRMAStatusFun($event.target)"
                                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock wd70percent"
                                                            placeholder="Type your supplier's RMA number">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Canceled'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">
                                                The RMA was canceled by
                                                {{orderDetail?.cancel_by?.first_name + ' ' + orderDetail?.cancel_by?.last_name || 'N/A'}}
                                                and authorized by
                                                {{orderDetail?.cancel_by?.first_name + ' ' + orderDetail?.cancel_by?.last_name || 'N/A'}}
                                                on {{orderDetail?.cancel_at | customDateFormat}}.
                                            </span>
                                            <!-- <div class="statusdetails"></div> -->
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'On Transit'"
                                            class="mainDetailBox trackingDetail">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">Add tracking
                                                number</span>
                                            <form action="#" autocomplete="off" [formGroup]="addTrackingForm">
                                                <!-- <div *ngIf='onTransitShipingNumLoader' class="luna-loading"></div> -->
                                                <div class="statusdetails trackingDetail mt15"
                                                    [ngClass]="{ 'trackingDetailEdit': trackingNumberEdit}">
                                                    <div class="row ml0 mr0">
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{ 'is-invalid': addTrackingSubmitted && fAddTrackingForm.company_name.errors}"
                                                                class="color000 mb0 fontSemiBold fontPoppin font11">Tracking URL</label>
                                                                <div *ngIf="!trackingNumberEdit">
                                                                    <span
                                                                        class="wd130px btnText valignMiddle dInlineBlock color000 mb0 fontPoppin font11">{{orderDetail?.shipping_company_name}}</span>
                                                                    <div class="shippinIcons p0">
                                                                        <a href="{{orderDetail?.shipping_company_name}}"
                                                                            tooltip="Click to track your shippment"
                                                                            placement="bottom" target="_blank"
                                                                            class="color000 font12 dInlineBlock lineHeight08 pr10 m0">
                                                                            <i class="fas fa-globe"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            <input
                                                                [ngClass]="{ 'bounce': addTrackingSubmitted && fAddTrackingForm.company_name.errors}"
                                                                *ngIf="trackingNumberEdit" type="text"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius5"
                                                                placeholder="Type your company's shipping url"
                                                                formControlName="company_name">
                                                            <span class="field-error-msg"
                                                                *ngIf="addTrackingSubmitted && fAddTrackingForm.company_name.errors?.required">
                                                                Company Name is required</span>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{ 'is-invalid': addTrackingSubmitted && fAddTrackingForm.tracking_number.errors}"
                                                                class="color000 mb0 fontSemiBold fontPoppin font11">Tracking
                                                                number</label>
                                                            <div *ngIf="!trackingNumberEdit">
                                                                <span
                                                                    class="wd130px btnText valignMiddle dInlineBlock color000 mb0 fontPoppin font11">{{orderDetail.shipping_tracking_no}}</span>
                                                                <div class="shippinIcons p0">
                                                                    <a (click)="copyText(orderDetail?.shipping_tracking_no)"
                                                                        href="JavaScript:void(0)"
                                                                        tooltip="Copy your tracking number"
                                                                        placement="bottom"
                                                                        class="color000 font12 dInlineBlock lineHeight08 m0">
                                                                        <i class="fas fa-copy"></i>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                            <input
                                                                [ngClass]="{ 'bounce': addTrackingSubmitted && fAddTrackingForm.tracking_number.errors}"
                                                                *ngIf="trackingNumberEdit" type="text"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius5"
                                                                formControlName="tracking_number"
                                                                placeholder="Type your tracking number">
                                                            <span class="field-error-msg"
                                                                *ngIf="addTrackingSubmitted && fAddTrackingForm.tracking_number.errors?.required">
                                                                Tracking Number is required</span>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{ 'is-invalid': addTrackingSubmitted && fAddTrackingForm.estimated_days.errors}"
                                                                class="color000 mb0 fontSemiBold fontPoppin font11">Estimated
                                                                Delivery</label>
                                                            <span *ngIf="!trackingNumberEdit"
                                                                class="color000 mb0 fontPoppin font11">{{orderDetail?.arrival_Date | customDateFormat }}</span>
                                                            <input *ngIf="trackingNumberEdit" type="text"
                                                                formControlName="estimated_days"
                                                                placeholder="Estimated delivery date"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius5"
                                                                [bsConfig]="{showWeekNumbers:false, minDate: todayDate, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                                                bsDatepicker placement="top"
                                                                [isOpen]="isOpenestimated_days">
                                                            <span *ngIf="trackingNumberEdit"
                                                                (click)="isOpenestimated_days = !isOpenestimated_days"
                                                                class="datePickerIcon"></span>
                                                            <span class="field-error-msg"
                                                                *ngIf="addTrackingSubmitted && fAddTrackingForm.estimated_days.errors?.required">
                                                                Estimated Days is required</span>
                                                        </div>
                                                    </div>
                                                    <div class="row mb15 ml0 mr0">
                                                        <div class="col-lg-6 pl0 noborderBottom trackNumbtn">
                                                            <div *ngIf="trackingNumberEdit" class="iftrackEdit mt10">
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="addRMATrackingNumber()"
                                                                    [ngClass]="{ 'disabled': onTransitShipingNumLoader}"
                                                                    class="dInlineBlock text-center  borderRadius5">Save</a>
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="initializeRMATrackingFrom('')"
                                                                    class="dInlineBlock btnTwo color000 text-center ml10 borderRadius5">Cancel</a>
                                                            </div>
                                                            <div *ngIf="!trackingNumberEdit" class="trackEditbtns mt10">
                                                                <a href="JavaScript:void(0)"
                                                                    (click)='initializeUpdateTrackingFrom(orderDetail)'
                                                                    class="dInlineBlock text-center borderRadius5">Edit</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row mb15 ml0 mr0">
                                                        <div class="col-lg-6 p0 noborderBottom">
                                                            <label
                                                                class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                                supplier's RMA number</label>
                                                            <input type="text" (keypress)="validateCharacters($event)"
                                                                [(ngModel)]="orderDetail.supplier_rma_number"
                                                                value="{{orderDetail.supplier_rma_number}}"
                                                                (focusout)="updateRMAStatusFun($event.target)"
                                                                [ngModelOptions]="{standalone: true}"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock wd70percent"
                                                                placeholder="Type your supplier's RMA number">
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                            <div class="statusInnerActions mt10 text-right">
                                                <a *ngIf="orderDetail?.shipping_tracking_no !=null"
                                                    href="JavaScript:void(0)" (click)="updateRMAStatusFun('Delivered')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd200px">Mark this
                                                    RMA as delivered</a>
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    RMA</a>
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(open_cancelRMA, 'custModal smallToster wd300')"
                                                    class="innerStatusBtns noFloat dInlineBlock wd100px">Cancel RMA</a>
                                            </div>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">The supplier receive
                                                your package. It's going to calculate the amount
                                                it this going refund you. </span>
                                            <div class="statusdetails mt15">
                                                <div class="row ml0 mr0">
                                                    <div class="col-lg-6 pl0 noborderBottom">
                                                        <label class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                            supplier's RMA number</label>
                                                        <input type="text" (keypress)="validateCharacters($event)"
                                                            [(ngModel)]="orderDetail.supplier_rma_number"
                                                            value="{{orderDetail.supplier_rma_number}}"
                                                            (focusout)="updateRMAStatusFun($event.target)"
                                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock wd70percent"
                                                            placeholder="Type your supplier's RMA number">
                                                    </div>
                                                    <!-- <div class="col-lg-4 pl0 noborderBottom">
                                                            <label class="color000 mb0 fontSemiBold fontPoppin font11">Additional Cost</label>
                                                            <span class="placeHolderinput">$</span>
                                                            <input type="text" [(ngModel)]="orderNumber"
                                                                class="form-control cust-field font11 borderColorcbcbcb text-right borderRadius5 dInlineBlock"
                                                                placeholder="0.00">
                                                        </div> -->
                                                </div>
                                            </div>
                                            <div class="statusInnerActions bottomMin15 mt10 text-right posRelative">
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    RMA</a>
                                            </div>
                                        </div>
                                        <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Completed'"
                                            class="mainDetailBox">
                                            <span class="dBlock color000 font11 mb5 fontPoppin">The actual amount refund
                                                is: ${{orderDetail['total_amount'] ||'N/A'}}</span>
                                            <div class="statusInnerActions mt10">
                                                <a href="JavaScript:void(0)" (click)="openStoreCredit()"
                                                    class="innerStatusBtns noFloat dInlineBlock wd110px">Check Store
                                                    Credit</a>
                                            </div>
                                            <div class="statusdetails mt15">
                                                <div class="row ml0 mr0">
                                                    <div class="col-lg-6 pl0 noborderBottom">
                                                        <label class="color000 mb0 fontSemiBold fontPoppin font11">Add
                                                            supplier's RMA number</label>
                                                        orderDetail['supplier_rma_number']
                                                        <input type="text" (keypress)="validateCharacters($event)"
                                                            [(ngModel)]="orderDetail.supplier_rma_number"
                                                            value="{{orderDetail.supplier_rma_number}}"
                                                            (focusout)="updateRMAStatusFun($event.target)"
                                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius5 dInlineBlock wd70percent"
                                                            placeholder="Type your supplier's RMA number">
                                                    </div>
                                                    <!-- <div class="col-lg-4 pl0 noborderBottom">
                                                        <label class="color000 mb0 fontSemiBold fontPoppin font11">Additional Cost</label>
                                                        <span class="placeHolderinput">$</span>
                                                        <input type="text" [(ngModel)]="orderNumber"
                                                            class="form-control cust-field font11 borderColorcbcbcb text-right borderRadius5 dInlineBlock"
                                                            placeholder="0.00">
                                                    </div> -->
                                                </div>
                                            </div>
                                            <div class="statusInnerActions bottomMin15 mt10 text-right posRelative">
                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(downloadOrder, 'custModal wd300')"
                                                    class="innerStatusBtns mr10 noFloat dInlineBlock wd100px">Download
                                                    RMA</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Buyback Status -->
                <order-statues *ngIf="showOrderStatusComponent" (onShowToaster)="toasterFunction($event[0],$event[1])"
                    (onCancelOrderProcess)="cancel($event[0],$event[1])" (onShowStoreCredit)="showStoreCredit($event)"
                    [orderId]='currentOrderId'></order-statues>
            </div>
        </div>
        <!-- Right Section-->
        <div class="col-lg-6 p0">
            <!-- Minimizer Actions -->
            <div class="iconActions">
                <a><i class="icon-minimized font16"></i></a>
                <a><i class="icon-close font16"></i></a>
            </div>
            <div class="switchable-wrapper">
                <!-- Right Tabs -->
                <div class="summary-title">
                    <ul class="nav nav-pills" id="pills-st-tab">
                        <li [ngClass]="{'nav-item':true, 'active':manageproducts}"><a (click)="loadSection('P')"
                                class="nav-link active" id="pills-tab-st-one">{{productCurrentAction}}</a></li>
                        <li [ngClass]="{'nav-item':true, 'active':managesuppliers}"><a (click)="loadSection('S')"
                                class="nav-link" id="pills-tab-s-two" data-toggle="pill">Manage Suppliers</a></li>
                        <li [ngClass]="{'nav-item':true, 'active': restock || poDetails}">
                            <a (click)="loadSection('R')" class="nav-link" id="pills-tab-st-three">{{orderText}}</a>
                        </li>
                    </ul>
                </div>
                <div class="tab-content" id="pills-s-tabContent">
                    <!-- Manage Product-->
                    <div *ngIf="manageproducts" class="tab-pane fade active show" id="tab-st-one">
                        <!-- Existing Product-->
                        <div *ngIf="existingSP" id="stock-product" [ngClass]="{'empty':allProducts.length == 0}">
                            <div class="top-info managePtopbar  posRelative zIndex100">
                                <div class="dInlinetable wd20percent">
                                    <div id="discount-cat-btn" class="btn-group height31px dInlineBlock">
                                        <a [ngClass]="{'active': !archiveProducts , 'notActive' : archiveProducts}"
                                            (click)="changeProductFilter('archiveProducts' , false)"
                                            class="btn wd50percent">Active</a>
                                        <a [ngClass]="{'active': archiveProducts , 'notActive' : !archiveProducts}"
                                            (click)="changeProductFilter('archiveProducts' , true)"
                                            class="btn wd50percent">Archived</a>
                                    </div>
                                </div>
                                <div class="dInlinetable valignMiddle wd3percent ml10 pt5 posRelative">
                                    <a class="clearAllfilter dotMainbox" href="JavaScript:void(0)"
                                        (click)="openSelectAllProducts();$event.stopPropagation()">
                                        <span class="dotMenu"></span>
                                        <span class="dotMenu"></span>
                                        <span class="dotMenu"></span>
                                    </a>
                                    <div class="dropdown-content importBox selectAllitemsBox"
                                        *ngIf="SelectAllDropProducts" style="display: block;">
                                        <div class='dotBoxitems'>
                                            <ul>
                                                <li *ngIf="!allProductSelected()"><a (click)="selectedAllProducts(true)"
                                                        href="javascript:void(0);">Select all</a></li>
                                                <li *ngIf="allProductSelected()"><a (click)="selectedAllProducts(false)"
                                                        href="javascript:void(0);">Unselect all</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="dInlinetable wd35percent valignMiddle">
                                    <div class="filterLinks newfilters productsFiltertop">
                                        <label>Filter by:</label>
                                        <a href="JavaScript:void(0)" class="color000 fontSemiBold fontPoppin"
                                            [ngClass]="{'active': productFilter == 'All'}"
                                            (click)="changeProductFilter('productFilter' , 'All')">All</a>
                                        <a href="JavaScript:void(0)" class="colorGreen fontSemiBold fontPoppin"
                                            [ngClass]="{'active': productFilter == 'Plenty'}"
                                            (click)="changeProductFilter('productFilter' , 'Plenty')">Plenty</a>
                                        <a href="JavaScript:void(0)" class="colorOrange fontSemiBold fontPoppin"
                                            [ngClass]="{'active': productFilter == 'Low'}"
                                            (click)="changeProductFilter('productFilter' , 'Low')">Low</a>
                                        <a href="JavaScript:void(0)" class="colorRed fontSemiBold fontPoppin"
                                            [ngClass]="{'active': productFilter == 'None'}"
                                            (click)="changeProductFilter('productFilter' , 'None')">None</a>
                                    </div>
                                </div>
                                <div class="cut-search-area wd40percent">
                                    <div class="cut-search-area dInlinetable" style="width: 84% !important;">
                                        <div class="search-field input-group">
                                            <input [formControl]="searchP" type="text" class="form-control"
                                                placeholder="Search product by name, supplier, SKU number... ">
                                            <a href="JavaScript:void(0)" class="input-group-addon">
                                                <i *ngIf="searchP.value" (click)="searchP.reset()"
                                                    class="fas fa-times-circle"></i>
                                                <i class="icon-search"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="wd12Percent dInlinetable ml10 valignMiddle">
                                        <a tooltip="Clear filters" placement="bottom" href="JavaScript:void(0)" (click)="resetProductFilter()"
                                            class="clearAllfilter"><i class="icon-clear_all"></i></a>
                                    </div>
                                </div>
                            </div>
                            <div id="po-wrapper">
                                <div *ngIf="loadexistingSP" class="luna-loading"></div>
                                <div class="empty-text">
                                    <h2><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>No Products
                                        Available
                                    </h2>
                                </div>
                                <div (click)="openProductSettings(false)" class="catWrapper padding10px" infiniteScroll
                                    (scrolled)="onProductScroll()" [scrollWindow]="false">
                                    <ul id="productList" class="dtable wd100Percent text-left ">
                                        <li [ngClass]="{'zIndex99': product.bundleDrop , 'zIndex99' : product.cCardFlipProduct}"
                                            *ngFor="let product of allProducts; let i= index;"
                                            class="dInlinetable wd140px m6 posRelative">
                                            <div class="catOuter" [ngClass]="{'is-flipped' : product.cCardFlipProduct}">
                                                <div class="cardBox">
                                                    <div class="catInner cardForntBox height190px">
                                                        <div class="catTop dtable wd100Percent">
                                                            <div class="catLeft dInlinetable wd50percent text-left">
                                                                <p class="color808080 dInlineBlock noWrap maxWd50px font11">Stock:
                                                                    <!-- Simple Product -->
                                                                    <span
                                                                        *ngIf="product.is_product && !product.is_bundle_product && product.is_track_stock"
                                                                        [ngClass]="{'colorRed': product.ProductStockPrice[0]?.qty_available <= 0 ,
                                                                    'colorOrange': product.ProductStockPrice[0]?.qty_available <= product.ProductStockPrice[0]?.alert_quantity && product.ProductStockPrice[0]?.qty_available > 0 , 
                                                                    'colorGreen': product.ProductStockPrice[0]?.qty_available >= product.ProductStockPrice[0]?.alert_quantity } "
                                                                        class="text-center">{{product['ProductStockPrice'][0]?.qty_available}}
                                                                    </span>
                                                                    
                                                                    <!-- Simple Product without track stock -->
                                                                    <span
                                                                        *ngIf="product.is_product && !product.is_bundle_product && !product.is_track_stock"
                                                                        class="text-center color000 fontSemiBold ">N/A</span>
                                                                    
                                                                        <!-- Simple Service -->
                                                                    <span *ngIf="!product.is_product" class="ifService"><i class="icon-service color808080 font11"></i></span>

                                                                    <!-- Bundle Product without manufactured-->
                                                                    <span
                                                                        [ngClass]="{'colorRed': product.max_bundle == 0 , 'colorGreen' : product.max_bundle != 0 }"
                                                                        *ngIf="product.is_product && (product.is_bundle_product && !product.bundle_products?.is_manufactured_qty)" class="fontSemiBold">{{product.max_bundle}}<b class="font8 pl1">Max</b>
                                                                    </span>

                                                                    <!-- Bundle Product with manufactured  -->
                                                                    <span
                                                                        [ngClass]="{'colorRed': product.max_bundle == 0 , 'colorGreen' : product.max_bundle != 0 }"
                                                                        *ngIf="product.is_product && (product.is_bundle_product && product.bundle_products?.is_manufactured_qty)"
                                                                        class="fontSemiBold">{{product.max_bundle}}
                                                                    </span>
                                                                </p>
                                                            </div>
                                                            <div class="catRight dInlinetable wd50percent text-right">
                                                                <!-- When there is any bundle Product or service -->
                                                                <div *ngIf='product.is_bundle_product'
                                                                    class="dInlineBlock valignMiddle pr5">
                                                                    <a (click)="openBundle(i);$event.stopPropagation()"
                                                                        href="JavaScript:void(0)"
                                                                        tooltip="Bundle Product" placement="bottom"
                                                                        class="color808080 font11">
                                                                        <i class="icon-see_bundle"></i>
                                                                    </a>
                                                                </div>
                                                                <!--  -->
                                                                <div class="dInlineBlock valignMiddle pr5">
                                                                    <a (click)="openCatDetail(i)"
                                                                        href="JavaScript:void(0)"
                                                                        tooltip="More Infornation" placement="bottom"
                                                                        class="color808080 font11">
                                                                        <i class="fas fa-info-circle"></i>
                                                                    </a>
                                                                </div>
                                                                <div class="dInlineBlock">
                                                                    <input id="selectProduct1{{i}}"
                                                                        class="checkbox-custom"
                                                                        [checked]="product.selected"
                                                                        (change)="selectedProductsFun(i,$event)"
                                                                        name="selectProduct1{{i}}" type="checkbox">
                                                                    <label for="selectProduct1{{i}}"
                                                                        tooltip="Select Item" placement="bottom"
                                                                        class="checkbox-custom-label"></label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="catMid text-center height125px">
                                                            <!-- When Budlen icon is clicked -->
                                                            <div class="dropdown-content" *ngIf="product.bundleDrop">
                                                                <div class="top">
                                                                    <div class="inner">
                                                                        <span>Composed of:</span>
                                                                    </div>
                                                                    <a (click)="openBundle(i)" href="JavaScript:void(0)"
                                                                        class="colorWhite font9 closeIcon">
                                                                        <i class="icon-close"></i>
                                                                    </a>
                                                                </div>
                                                                <!-- When Manufacture procuct is No -->
                                                                <div *ngIf='!product.is_product' class='bottom'>
                                                                    <ul>
                                                                        <li
                                                                            *ngFor="let productid of product?.bundle_products['bundleProduct'] ; let i = index">
                                                                            <span>{{ productid['bundleProductID']?.product_name}}
                                                                            </span>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                                <!-- When Manufactured product is Yes
                                                                && !product.bundle_products["is_manufactured_qty"] -->
                                                                <div *ngIf='product.is_product'
                                                                    class='bottom manufacturedProduct'>
                                                                    <ul>
                                                                        <li
                                                                            *ngFor="let productid of product?.bundle_products['bundleProduct'] ; let j = index">
                                                                            <span
                                                                                *ngIf='productid["bundleProductID"].is_product && !product.bundle_products["is_manufactured_qty"]'>
                                                                                <input id="bundleProduct1{{j}}"
                                                                                    class="checkbox-custom"
                                                                                    name="bundleProduct1{{j}}"
                                                                                    type="checkbox">
                                                                                <label for="bundleProduct1{{j}}"
                                                                                    class="checkbox-custom-label">{{productid['bundleProductID']?.product_name}}
                                                                                    <span
                                                                                        *ngIf="productid['bundleProductID']?.ProductStockPrice[0]?.qty_available > productid['bundleProductID']?.ProductStockPrice[0]?.alert_quantity"
                                                                                        class="composedqtyBox">(<i
                                                                                            class="colorGreen">{{productid['bundleProductID']?.ProductStockPrice[0]?.qty_available || '0'}}</i>)</span>
                                                                                    <span
                                                                                        *ngIf="productid['bundleProductID']?.ProductStockPrice[0]?.qty_available > 0 && productid['bundleProductID']?.ProductStockPrice[0]?.qty_available<= productid['bundleProductID']?.ProductStockPrice[0]?.alert_quantity"
                                                                                        class="composedqtyBox">(<i
                                                                                            class="colorOrange">{{productid['bundleProductID']?.ProductStockPrice[0]?.qty_available || '0'}}</i>)</span>
                                                                                    <span
                                                                                        *ngIf="productid['bundleProductID']?.ProductStockPrice[0]?.qty_available <= 0"
                                                                                        class="composedqtyBox">(<i
                                                                                            class="colorRed">{{productid['bundleProductID']?.ProductStockPrice[0]?.qty_available || '0'}}</i>)</span>
                                                                                </label>
                                                                                <!-- <div *ngIf="productid['bundleProductID']?.ProductStockPrice[0]['qty_available']>5"
                                                                                    class="qtyBox bgcolorGreen colorfff">
                                                                                    {{productid['bundleProductID']?.ProductStockPrice[0]['qty_available'] || '0'}}
                                                                                </div>
                                                                                <div class="qtyBox bgcolorOrange colorfff"
                                                                                    *ngIf="productid['bundleProductID']?.ProductStockPrice[0]['qty_available']!=0 && productid['bundleProductID']?.ProductStockPrice[0]['qty_available']<=5 ">
                                                                                    {{productid['bundleProductID']?.ProductStockPrice[0]['qty_available'] || '0'}}
                                                                                </div>
                                                                                <div *ngIf="productid['bundleProductID']?.ProductStockPrice[0]['qty_available']==0"
                                                                                    class="qtyBox bgcolorRed colorfff">
                                                                                    {{productid['bundleProductID']?.ProductStockPrice[0]['qty_available'] || '0'}}
                                                                                </div> -->
                                                                            </span>
                                                                            <span
                                                                                *ngIf='!productid["bundleProductID"].is_product || product.bundle_products["is_manufactured_qty"]'>
                                                                                <label for="bundleProduct1{{j}}"
                                                                                    class="checkbox-custom-label">{{productid['bundleProductID']?.product_name}}</label>
                                                                            </span>
                                                                        </li>
                                                                    </ul>
                                                                    <a href="JavaScript:void(0)"
                                                                        class="bgcolorGreen colorWhite mx-auto wd100px borderRadius20 dBlock text-center padding5">Restock</a>
                                                                </div>
                                                            </div>
                                                            <a href="JavaScript:void(0)">
                                                                <div *ngIf="product['image'] != null"
                                                                    [ngStyle]="{'background-image':'url('+ [baseUrl+product.image] +')'}!"
                                                                    class="productImg height65px">
                                                                    <!-- <img src="{{baseUrl+product.image}}" > -->
                                                                    <!-- <div [ngStyle]="{'background-image':'url('+ [baseUrl+product.image] +')'}!">
                                                                    </div> -->
                                                                    <div class="imgHover">
                                                                        <span class="dBlock colorGreen">
                                                                            Last 30 days:{{product.sale_item ||'0' }}
                                                                        </span>
                                                                        <span *ngIf="product.is_product"
                                                                            class="dBlock colorWhite">
                                                                            Incoming: {{product.incoming_item ||'0' }}
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf="product['image'] == null"
                                                                    class="productImg height65px">
                                                                    <!-- Incomplete Product -->
                                                                    <i *ngIf="product.is_product && !product.is_completed_product"
                                                                        class="fa fa-exclamation-circle"></i>

                                                                    <!-- Simple Product -->
                                                                    <i *ngIf="product.is_product && !product.is_bundle_product && product.is_completed_product"
                                                                        class="icon-product"></i>

                                                                    <!-- Simple Service -->
                                                                    <i *ngIf="!product.is_product && !product.is_bundle_product"
                                                                        class="icon-service"></i>

                                                                    <!-- Bundle Service -->
                                                                    <i *ngIf="!product.is_product && product.is_bundle_product"
                                                                        class="icon-bundle_service"></i>

                                                                    <!-- Bundle Product -->
                                                                    <i *ngIf="product.is_product && product.is_bundle_product && !product.bundle_products.is_manufactured_qty"
                                                                        class="icon-bundle_product"></i>

                                                                    <!-- Manufactured Bundle Product -->
                                                                    <i *ngIf="product.is_product && product.is_bundle_product && product.bundle_products.is_manufactured_qty"
                                                                        class="icon-manufacture_bundle_product"></i>

                                                                    <div *ngIf="product.is_completed_product"
                                                                        class="imgHover">
                                                                        <span class="dBlock colorGreen">
                                                                            Last 30 days:{{product.sale_item ||'0' }}
                                                                        </span>
                                                                        <span *ngIf="product.is_product"
                                                                            class="dBlock colorWhite">
                                                                            Incoming: {{product.incoming_item ||'0' }}
                                                                        </span>
                                                                    </div>
                                                                    <div *ngIf="!product.is_completed_product"
                                                                        class="imgHover">
                                                                        <span class="dBlock addIncompleteProductbtn"
                                                                            (click)="editProduct(product)">
                                                                            Complete Product
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                            <div class="proSupName maxWd115px">
                                                                <p class="color000 text-left fontSemiBold font11"
                                                                    tooltip="{{product.product_name}}"
                                                                    placement="bottom">
                                                                    {{product.product_name}}
                                                                </p>
                                                                <span
                                                                    class="dBlock text-left color808080 fontRegular">SKU:
                                                                    {{product.sku}}</span>
                                                            </div>
                                                        </div>
                                                        <div class="catBottom dtable wd100Percent">
                                                            <div class=" catLeft dInlinetable wd30percent text-left">
                                                            </div>
                                                            <div class="catRight dInlinetable wd70percent text-right">
                                                                <span
                                                                    class="color808080">${{product.ProductStockPrice[0]?.default_sell_price || product.sell_price |number }}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="catDetails cardBackBox">
                                                        <div class="catInner height190px">
                                                            <div class="catTop dtable wd100Percent">
                                                                <div class="catLeft dInlinetable wd30percent text-left">
                                                                </div>
                                                                <div
                                                                    class="catRight dInlinetable wd70percent text-right">
                                                                    <div class="dInlineBlock pr5 valignMiddle">
                                                                        <a [ngClass]="{'noClick':!product.is_completed_product}"
                                                                            (click)="openlinkedDevices(i);$event.stopPropagation()"
                                                                            href="JavaScript:void(0)"
                                                                            class="color808080 font14"
                                                                            tooltip="Linked Devices" placement="bottom">
                                                                            <i class="icon-link_devices"></i>
                                                                        </a>
                                                                    </div>
                                                                    <div class="dInlineBlock pr5 valignMiddle">
                                                                        <a (click)="openDeleteProductModal(open_removeproduct,'custModal wd210',product)"
                                                                            href="JavaScript:void(0)" tooltip="Archive"
                                                                            placement="bottom"
                                                                            class="color808080 font12">
                                                                            <i class="icon-archive"></i>
                                                                        </a>
                                                                    </div>
                                                                    <div class="dInlineBlock pr5 valignMiddle">
                                                                        <a (click)="editProduct(product)"
                                                                            href="JavaScript:void(0)" tooltip="Edit"
                                                                            placement="bottom"
                                                                            class="color808080 font12">
                                                                            <i class="icon-edit"></i>
                                                                        </a>
                                                                    </div>
                                                                    <div class="dInlineBlock">
                                                                        <input id="selectProduct1{{i}}"
                                                                            class="checkbox-custom"
                                                                            [checked]="product.selected"
                                                                            (change)="selectedProductsFun(i,$event)"
                                                                            name="selectProduct1{{i}}" type="checkbox">
                                                                        <label for="selectProduct1{{i}}"
                                                                            tooltip="Select Item" placement="bottom"
                                                                            class="checkbox-custom-label"></label>
                                                                    </div>
                                                                    <div class="dInlineBlock valignMiddle">
                                                                        <a (click)="closeCatDetail(i)"
                                                                            href="JavaScript:void(0)" tooltip="Close"
                                                                            placement="bottom"
                                                                            class="color808080 font10">
                                                                            <i class="icon-close"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="catMid" style="top:5px;">
                                                                <!-- When Linked Device icon is clicked -->
                                                                <div class="dropdown-content linkedDevicesBox"
                                                                    *ngIf="product.linkedDevicesOpen"
                                                                    style="display: block;">
                                                                    <div class="top">
                                                                        <div class="inner">
                                                                            <span>Linked devices:</span>
                                                                        </div>
                                                                        <a (click)="openlinkedDevices(i)"
                                                                            href="JavaScript:void(0)"
                                                                            class="colorWhite font9 closeIcon">
                                                                            <i class="icon-close"></i>
                                                                        </a>
                                                                    </div>
                                                                    <div class='bottom'>
                                                                        <ul>
                                                                            <li *ngFor="let device of product?.servicesBrandModel">
                                                                                <span>{{device?.ServiceBrand?.brand_name + '-' + device?.ServiceDeviceModel?.name | titlecase }}</span>
                                                                            </li>
                                                                            <li *ngIf="product?.servicesBrandModel?.length == 0">
                                                                                <span>{{product?.Brand?.brand_name + '-' + product?.DeviceModel?.name | titlecase }}</span>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                                <div class="text-left lineHeight1point2 font11">
                                                                    <span class="color808080 dBlock">Selling
                                                                        Price:</span>
                                                                    <span
                                                                        class="color000 fontSemiBold dBlock">{{product.ProductStockPrice[0]?.default_sell_price || product.sell_price | currency}}</span>
                                                                </div>
                                                                <div class="text-left lineHeight1point2 font11">
                                                                    <span class="color808080 dBlock">Last 30
                                                                        days:</span>
                                                                    <span
                                                                        class="color000 fontSemiBold dBlock">{{product.sale_item ||'0'}}</span>
                                                                </div>
                                                                <div class="text-left lineHeight1point2 font11">
                                                                    <span class="color808080 dBlock">Total Sales:</span>
                                                                    <span
                                                                        class="color000 fontSemiBold dBlock">{{product.total_sale || '0' | currency }}</span>
                                                                </div>
                                                                <hr class="mb5 mt5">
                                                                <div class="text-left lineHeight1point2 font11">
                                                                    <span class="color808080 dBlock">Last Cost:</span>
                                                                    <span
                                                                        class="color000 fontSemiBold dBlock">{{product.ProductStockPrice[0]?.last_cost || product.last_cost || '$0.00'}}</span>
                                                                </div>
                                                                <div class="text-left lineHeight1point2 font11">
                                                                    <span class="color808080 dBlock">Average
                                                                        Cost:</span>
                                                                    <span
                                                                        class="color000 fontSemiBold dBlock">{{product.ProductStockPrice[0]?.average_cost || product.average_cost || '$0.00'}}</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="bottomActionBar">
                                <div class="dtableCell wd60percent">
                                    <div class="filterLinks pOfilter bottomBarFilter newfilters noposRelative">
                                        <label>Quick filter:</label>
                                        <div class="filterWhenActive dInlineBlock">
                                            <a tooltip="Products" placement="top"
                                                [ngClass]="{'active': productTypeFiler == 'Product'}"
                                                (click)="changeProductFilter('productTypeFiler' , 'Product')"
                                                href="JavaScript:void(0)" class="color000">
                                                <i class="icon-product"></i>
                                            </a>
                                            <a tooltip="Services" [ngClass]="{'active': productTypeFiler == 'Service'}"
                                                (click)="changeProductFilter('productTypeFiler' , 'Service')"
                                                placement="top" href="JavaScript:void(0)" class="color000">
                                                <i class="icon-service"></i>
                                            </a>
                                            <a tooltip="Bundle Service"
                                                [ngClass]="{'active': productTypeFiler == 'BundleService'}"
                                                (click)="changeProductFilter('productTypeFiler' , 'BundleService')"
                                                placement="top" href="JavaScript:void(0)" class="color000">
                                                <i class="icon-bundle_service"></i>
                                            </a>
                                            <a tooltip="Bundle Product"
                                                [ngClass]="{'active': productTypeFiler == 'BundleProduct'}"
                                                (click)="changeProductFilter('productTypeFiler' , 'BundleProduct')"
                                                placement="top" href="JavaScript:void(0)" class="color000">
                                                <i class="icon-bundle_product"></i>
                                            </a>
                                            <a tooltip="Manufacture Bundle Product"
                                                [ngClass]="{'active': productTypeFiler == 'ManufactureProduct'}"
                                                (click)="changeProductFilter('productTypeFiler' , 'ManufactureProduct')"
                                                placement="top" href="JavaScript:void(0)" class="color000">
                                                <i class="icon-manufacture_bundle_product"></i>
                                            </a>
                                            <a tooltip="Incomplete"
                                                [ngClass]="{'active': productTypeFiler == 'IncompleteProduct'}"
                                                (click)="changeProductFilter('productTypeFiler' , 'IncompleteProduct')"
                                                placement="top" href="JavaScript:void(0)" class="color000">
                                                <i class="fas fa-exclamation-circle"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="dtableCell wd40percent text-right">
                                    <a href="JavaScript:void(0)" class="innerStatusBtns noFloat dInlineBlock mr5 minwd90px"
                                    (click)="openManageSrvices()">Services</a>
                                    <a href="JavaScript:void(0)" class="innerStatusBtns noFloat dInlineBlock minwd90px"
                                        (click)="addNewProductBtn()">Add Item</a>
                                    <div class="btn-group settingBtn">
                                        <a class="innerStatusBtns dInlineBlock minWd30px" href="JavaScript:void(0)"
                                            (click)="openProductSettings(true);$event.stopPropagation()">
                                            <i class="icon-settings"></i>
                                        </a>
                                        <div class="dropdown-content settingOptions listItemsFour"
                                            *ngIf="productSettingsOpen" style="display: block;">
                                            <ul>
                                                <!-- (click)="changeValue('selectParentAccount','Import Products')" -->
                                                <li role="menuitem"
                                                    (click)="openImportModal(open_importSupplier, 'box-importPO','Product(s)')">
                                                    <a class="dropdown-item">Import Product(s)</a>
                                                </li>
                                                <li (click)='exportProduct()'
                                                    (click)="changeValue('selectParentAccount','Export Products')"
                                                    role="menuitem"><a class="dropdown-item">Export Product(s)</a>
                                                </li>
                                                <li (click)="openPrintLabelModal(openPrintLabel, 'custModal wd600')"
                                                    role="menuitem">
                                                    <a class="dropdown-item">Print Label(s)</a>
                                                </li>
                                                <li *ngIf="!archiveProducts"
                                                    (click)="openDeleteAllProModal(open_removeAllProducts,'custModal wd210',sup)"
                                                    role="menuitem"><a class="dropdown-item">Archive Product(s)</a>
                                                </li>
                                                <li (click)="openActiveProModal(open_activeproduct,'custModal wd210',sup)"
                                                    *ngIf="archiveProducts" role="menuitem"><a
                                                        class="dropdown-item">Active Product(s)</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Add new Product-->
                        <div *ngIf="addNewProduct" class="addNewProduct" id="stock-product">
                            <div class="top-info">
                                <h2 *ngIf="addstockProductForm.controls.is_product.value"
                                    class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd70percent">
                                    Add the following data to create a product</h2>
                                <h2 *ngIf="!addstockProductForm.controls.is_product.value"
                                    class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd70percent">
                                    Add the following data to create a Service</h2>

                                <h2 *ngIf="addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value"
                                    class="color808080 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-right wd30percent">
                                    Step <span>{{step}}</span> of 3</h2>

                                <h2 *ngIf="!addstockProductForm.controls.is_product.value || addstockProductForm.controls.is_bundle_product.value"
                                    class="color808080 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-right wd30percent">
                                    Step <span>{{step}}</span> of 2</h2>
                            </div>
                            <div id="po-wrapper" class="bgWhite">
                                <div class="midWrapper">
                                    <tabset #staticTabs>
                                        <tab heading="Item" tabOrder="1">
                                            <form action="#" autocomplete="off" [formGroup]="addstockProductForm">
                                                <div class="col-lg-2 fl p0">
                                                    <div class="row mb15">
                                                        <div class="col-lg-12 noborderBottom">
                                                            <div class="addbusinessLogo">
                                                                <a *ngIf="photo == ''"
                                                                    (click)="model_ProfilePhoto(open_profilePhoto,'box-saveorder profilepopUp wd600','')">
                                                                    <div class="profileImage">
                                                                        <!-- Simple Product -->
                                                                        <i *ngIf="addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value"
                                                                            class="icon-product"></i>
                                                                        <!-- Simple Service -->
                                                                        <i *ngIf="!addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value"
                                                                            class="icon-service"></i>
                                                                        <!-- Bundle Service -->
                                                                        <i *ngIf="!addstockProductForm.controls.is_product.value && addstockProductForm.controls.is_bundle_product.value"
                                                                            class="icon-bundle_service"></i>
                                                                        <!-- Bundle Product -->
                                                                        <i *ngIf="addstockProductForm.controls.is_product.value && addstockProductForm.controls.is_bundle_product.value && !manufacturedQuantity"
                                                                            class="icon-bundle_product"></i>
                                                                        <!-- Manufactured Bundle Product -->
                                                                        <i *ngIf="addstockProductForm.controls.is_product.value && addstockProductForm.controls.is_bundle_product.value && manufacturedQuantity"
                                                                            class="icon-manufacture_bundle_product"></i>
                                                                        <span class="fontPoppin color4D4D4D">Add</span>
                                                                    </div>
                                                                </a>
                                                                <a *ngIf='photo != ""'
                                                                    (click)="model_ProfilePhoto(open_profilePhoto,'box-saveorder profilepopUp wd600',photo)">
                                                                    <div class="profileImage">
                                                                        <img src="{{photo}}" />
                                                                        <span class="fontPoppin color4D4D4D">Edit</span>
                                                                    </div>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row mb15">
                                                        <div class="col-lg-12 noborderBottom">
                                                            <label *ngIf="addstockProductForm.controls.is_product.value"
                                                                class="color000 mb0 fontPoppin fontSemiBold"
                                                                for="stp_createBundleProduct">Create a bundle Product?
                                                            </label>
                                                            <label
                                                                *ngIf="!addstockProductForm.controls.is_product.value"
                                                                class="color000 mb0 fontPoppin fontSemiBold"
                                                                for="stp_createBundleProduct">Create a bundle Service?
                                                            </label>
                                                            <div id="discount-cat-btn" class="btn-group">
                                                                <a class="btn"
                                                                    [ngClass]="{'active':addstockProductForm.controls.is_bundle_product.value , 'notActive':!addstockProductForm.controls.is_bundle_product.value}"
                                                                    (click)="setFormValues('addstockProductForm','is_bundle_product',true)">Yes</a>
                                                                <a class="btn"
                                                                    [ngClass]="{'active':!addstockProductForm.controls.is_bundle_product.value , 'notActive':addstockProductForm.controls.is_bundle_product.value}"
                                                                    (click)="setFormValues('addstockProductForm','is_bundle_product',false)">No</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-10 fl pr0">
                                                    <div class="items-form-content pr15 innerHeight cust-inner input">
                                                        <div class="row mb15">
                                                            <div class="col-lg-8 noborderBottom">
                                                                <label
                                                                    *ngIf="addstockProductForm.controls.is_product.value"
                                                                    [ngClass]="{'bounce is-invalid':addStockProductSubmitted && faddStockProduct.product_name.errors}"
                                                                    class="color000 mb0" for="stp_name">Product Name
                                                                </label>
                                                                <label
                                                                    *ngIf="!addstockProductForm.controls.is_product.value"
                                                                    [ngClass]="{'bounce is-invalid':addStockProductSubmitted && faddStockProduct.product_name.errors}"
                                                                    class="color000 mb0" for="stp_name">Service Name
                                                                </label>
                                                                <input
                                                                    [ngClass]="{'bounce':addStockProductSubmitted && faddStockProduct.product_name.errors}"
                                                                    type="text" formControlName="product_name"
                                                                    name="stp_name" id="stp_name"
                                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                    placeholder="Example: Screen Replacement for iPhone 6 (WHITE)">
                                                                <span class="bounce is-invalid"
                                                                    *ngIf="addStockProductSubmitted && faddStockProduct.product_name.errors">
                                                                    Product name is required</span>
                                                            </div>
                                                            <div class="col-lg-4 pl0 noborderBottom">
                                                                <label class="color000 mb0" for="stp_productType">Type
                                                                    of product</label>
                                                                <div id="discount-cat-btn" class="btn-group noborder">
                                                                    <a class="btn"
                                                                        [ngClass]="{'active':addstockProductForm.controls.is_product.value , 'notActive':!addstockProductForm.controls.is_product.value}"
                                                                        (click)="setFormValues('addstockProductForm','is_product',true)">Product</a>
                                                                    <a class="btn serviceSelected"
                                                                        [ngClass]="{'active':!addstockProductForm.controls.is_product.value , 'notActive':addstockProductForm.controls.is_product.value}"
                                                                        (click)="setFormValues('addstockProductForm','is_product',false)">
                                                                        <i class="icon-service pr5"></i>
                                                                        Service
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row mb15">
                                                            <div [ngClass]="{'col-lg-8':addstockProductForm.controls.is_product.value , 'col-lg-12':!addstockProductForm.controls.is_product.value || addstockProductForm.controls.is_bundle_product.value}"
                                                                class="col-lg-12 noborderBottom">
                                                                <label
                                                                    [ngClass]="{'bounce is-invalid':addStockProductSubmitted && faddStockProduct.sku.errors}"
                                                                    class="color000 mb0" for="stp-storeSKU">Store SKU
                                                                </label>
                                                                <div class="posRelative skuNum">
                                                                    <input
                                                                        [ngClass]="{'bounce':addStockProductSubmitted && faddStockProduct.sku.errors}"
                                                                        type="text" (focusout)="checkProductSKUNumber()"
                                                                        formControlName="sku" name="stp-storeSKU"
                                                                        class="form-control cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                        placeholder="Example: 019283">
                                                                    <span class="skuImg">
                                                                        <a (click)="generateStoreSKU()"
                                                                            href="JavaScript:void(0)">Generate Code</a>
                                                                    </span>
                                                                    <span class="bounce is-invalid"
                                                                        *ngIf="addStockProductSubmitted && faddStockProduct.sku.errors">
                                                                        SKU is required</span>
                                                                    <span class="bounce is-invalid"
                                                                        *ngIf="!productSKUUnique"> SKU already exist
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <div *ngIf="addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value"
                                                                class="col-lg-4 pl0 noborderBottom">
                                                                <label class="color000 mb0"
                                                                    for="stp_trackStockProduct">Track Stock</label>
                                                                <div id="discount-cat-btn" class="btn-group noborder">
                                                                    <a class="btn"
                                                                        [ngClass]="{'active':addstockProductForm.controls.is_track_stock.value , 'notActive':!addstockProductForm.controls.is_track_stock.value}"
                                                                        (click)="setFormValues('addstockProductForm','is_track_stock',true)">Yes</a>
                                                                    <a class="btn"
                                                                        [ngClass]="{'active':!addstockProductForm.controls.is_track_stock.value , 'notActive':addstockProductForm.controls.is_track_stock.value}"
                                                                        (click)="setFormValues('addstockProductForm','is_track_stock',false)">No</a>
                                                                </div>
                                                            </div>
                                                            <!-- <div [ngClass]="{'col-lg-4':addstockProductForm.controls.is_bundle_product.value}"
                                                                *ngIf="addstockProductForm.controls.is_product.value"
                                                                class="col-lg-3 pl0 noborderBottom">
                                                                <label class="color000 mb0"
                                                                    for="stp_trackStockProduct">Serial Number</label>
                                                                <div id="discount-cat-btn" class="btn-group noborder">
                                                                    <a class="btn"
                                                                        [ngClass]="{'active':addstockProductForm.controls.is_serial_number.value , 'notActive':!addstockProductForm.controls.is_serial_number.value}"
                                                                        (click)="setFormValues('addstockProductForm','is_serial_number',true)">Yes</a>
                                                                    <a class="btn"
                                                                        [ngClass]="{'active':!addstockProductForm.controls.is_serial_number.value , 'notActive':addstockProductForm.controls.is_serial_number.value}"
                                                                        (click)="setFormValues('addstockProductForm','is_serial_number',false)">No</a>
                                                                </div>
                                                            </div> -->
                                                        </div>
                                                        <div class="row mb15" *ngIf="diplayOptions()">
                                                            <div class="col-lg-12 noborderBottom pl0 pr0">
                                                                <!-- <div class="col-lg-4 fl noborderBottom">
                                                                    <label
                                                                        [ngClass]="{'bounce is-invalid':addStockProductSubmitted && faddStockProduct.opening_stock.errors}"
                                                                        class="color000 mb0"
                                                                        for="stp-openinStock">Opening Stock
                                                                    </label>
                                                                    <input appTwoDigitDecimaNumber
                                                                        [ngClass]="{'bounce':addStockProductSubmitted && faddStockProduct.opening_stock.errors}"
                                                                        type="text"
                                                                        [readonly]="!addstockProductForm.controls.is_product.value"
                                                                        formControlName="opening_stock"
                                                                        name="stp-openinStock"
                                                                        class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                                        placeholder="Example: 10">
                                                                    <span class="bounce is-invalid"
                                                                        *ngIf="addStockProductSubmitted && faddStockProduct.opening_stock.errors">
                                                                        Opening Stock is required</span>
                                                                </div> -->
                                                                <div class="col-lg-6 fl noborderBottom">
                                                                    <label
                                                                        [ngClass]="{'bounce is-invalid':addStockProductSubmitted && faddStockProduct.ideal_qty.errors}"
                                                                        class="color000 mb0 font10"
                                                                        for="stp-idealStockQty">
                                                                        Ideal Stock Qty.
                                                                        <span class="tool m0"
                                                                            tooltip="Ideal stock quantity to maintain"
                                                                            placement="right">
                                                                            <p class="text-center font9">?</p>
                                                                        </span>
                                                                    </label>
                                                                    <input appTwoDigitDecimaNumber
                                                                        [ngClass]="{'bounce':addStockProductSubmitted && faddStockProduct.ideal_qty.errors}"
                                                                        type="text"
                                                                        [readonly]="!addstockProductForm.controls.is_product.value"
                                                                        formControlName="ideal_qty"
                                                                        name="stp-idealStockQty"
                                                                        class="form-control cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                        placeholder="Example: 10">
                                                                    <span class="bounce is-invalid"
                                                                        *ngIf="addStockProductSubmitted && faddStockProduct.ideal_qty.errors">
                                                                        Ideal Quantity is required</span>
                                                                </div>
                                                                <div class="col-lg-6 fl pl0 noborderBottom">
                                                                    <label
                                                                        [ngClass]="{'bounce is-invalid':addStockProductSubmitted && faddStockProduct.alert_qty.errors}"
                                                                        class="color000 mb0 font10"
                                                                        for="stp-alertStockQty">
                                                                        Alert Stock Qty.
                                                                        <span class="tool m0"
                                                                            tooltip="Re-order level of the stock"
                                                                            placement="right">
                                                                            <p class="text-center font9">?</p>
                                                                        </span>
                                                                    </label>
                                                                    <input appTwoDigitDecimaNumber
                                                                        [ngClass]="{'bounce':addStockProductSubmitted && faddStockProduct.alert_qty.errors}"
                                                                        type="text"
                                                                        [readonly]="!addstockProductForm.controls.is_product.value"
                                                                        formControlName="alert_qty"
                                                                        name="stp-alertStockQty"
                                                                        class="form-control cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                        placeholder="Example: 3">
                                                                    <span class="bounce is-invalid"
                                                                        *ngIf="addStockProductSubmitted && faddStockProduct.alert_qty.errors">Alert
                                                                        Quantity is required</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="addstockProductForm.controls.is_product.value || addstockProductForm.controls.is_bundle_product.value"
                                                            class="row mb15">
                                                            <div class="col-lg-6 noborderBottom pr0">
                                                                <label
                                                                    [ngClass]="{'bounce is-invalid':addStockProductSubmitted && faddStockProduct.Brand.errors}"
                                                                    class="color000 mb0" for="stp_brand">Brand</label>
                                                                <!-- <input
                                                                    [ngClass]="{'bounce':addStockProductSubmitted && faddStockProduct.alert_qty.errors}"
                                                                    type="text" formControlName="Brand" name="brand"
                                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                    placeholder="ZXCEEME"> -->
                                                                <!-- <div class="btn-group wd100Percent noborder addProductDropdown" dropdown>
                                                                    <button id="button-animated" dropdownToggle
                                                                        type="button"
                                                                        class="btn dropdown-toggle cust-field font12 borderColorcbcbcb borderRadius5"
                                                                        aria-controls="dropdown-animated">{{brand}}
                                                                        <span class="caret"></span>
                                                                    </button>
                                                                    <ul id="dropdown-animated" *dropdownMenu
                                                                        class="dropdown-menu" role="menu"
                                                                        aria-labelledby="button-animated">
                                                                        <li (click)="$event.stopPropagation()">
                                                                            <div *ngIf="addBtnBoxBrand" class="addNewbtn text-center">
                                                                                <a (click)="showAddFieldBrand()">
                                                                                    <i aria-hidden="true" class="pr5 fa fa-plus"></i>
                                                                                    Add a new brand
                                                                                </a>
                                                                            </div>
                                                                            <div *ngIf="addFieldBoxBrand" class="input-group ">
                                                                                <input [(ngModel)]="brandName"
                                                                                    type="text"
                                                                                    class="form-control addbrandInput cust-field font12 height28 borderTRR0 borderBRR0"
                                                                                    placeholder="Example: OP2 Screen"
                                                                                    [ngModelOptions]="{standalone: true}">
                                                                                <span class="input-group-btn addbtnInput" (click)="createBrand()">Add</span>
                                                                            </div>
                                                                        </li>
                                                                        <li (click)="changeValueOfBrand('brand',br.brand_name,br._id)"
                                                                            *ngFor="let br of allBrands;"
                                                                            role="menuitem">
                                                                            <a class="dropdown-item">{{br.brand_name}}</a>
                                                                        </li>
                                                                    </ul>
                                                                </div> -->
                                                                <div class="btn-group cust-group wd100Percent" dropdown>
                                                                    <div class="custSelect dark ngDropSelect">
                                                                         <ng-select [addTag]="addProductBrand" id="Devicebrand"  name="Devicebrand" 
                                                                          [ngModelOptions]="{standalone: true}" (change)="getAllBrandWiseModels(brand)"
                                                                          [(ngModel)]="brand" placeholder="Example: Apple iPhone 6S">
                                                                            <ng-option  *ngFor="let brand of allBrands" [value]="brand._id">{{brand?.brand_name}}</ng-option>
                                                                            <ng-template ng-footer-tmp>
                                                                                <div class="create-new" (click)="CreateNew()">Create New </div>
                                                                             </ng-template>
                                                                         </ng-select>
                                                                    </div>
                                                                </div>
                                                                <span *ngIf="addStockProductSubmitted && faddStockProduct.Brand.errors" class="bounce is-invalid">
                                                                    Brand is required
                                                                </span>
                                                            </div>
                                                            <div class="col-lg-6 noborderBottom">
                                                                <label [ngClass]="{'bounce is-invalid':addStockProductSubmitted && faddStockProduct.DeviceModel.errors}"
                                                                    class="color000 mb0" for="stp_model">
                                                                    Model
                                                                </label>
                                                                    <div class="custSelect dark ngDropSelect">
                                                                        <ng-select  [addTag]="addProductBrandModel"  id="DeviceModel12" name="DeviceModel12" 
                                                                        (change)="changeProductSelectedModel(model)" [ngModelOptions]="{standalone: true}" 
                                                                        [loading]="deviceModelLoading" [(ngModel)]="model" class=""  placeholder="Example: Apple iPhone 6S">
                                                                            <ng-option  *ngFor="let model of allModels" [value]="model._id">{{model.name}}</ng-option>
                                                                            <ng-template ng-footer-tmp>
                                                                                <div class="create-new" (click)="createSystemDevice(deviceModel,deviceBrand)">Create New </div>
                                                                             </ng-template>
                                                                        </ng-select>
                                                                   </div>
                                                                <!-- <div class="btn-group wd100Percent noborder addProductDropdown" dropdown>
                                                                    <button id="button-animated" dropdownToggle
                                                                        type="button"
                                                                        class="btn dropdown-toggle cust-field font12 borderColorcbcbcb borderRadius5"
                                                                        aria-controls="dropdown-animated">{{model}}
                                                                        <span class="caret"></span>
                                                                    </button>
                                                                    <ul id="dropdown-animated" *dropdownMenu
                                                                        class="dropdown-menu" role="menu"
                                                                        aria-labelledby="button-animated">
                                                                        <li (click)="$event.stopPropagation()">
                                                                            <div *ngIf="addBtnBoxModel" class="addNewbtn text-center">
                                                                                <a (click)="showAddFieldModel()">
                                                                                    <i aria-hidden="true" class="pr5 fa fa-plus"></i>
                                                                                    Add a new Model
                                                                                </a>
                                                                            </div>
                                                                            <div *ngIf="addFieldBoxModel" class="input-group ">
                                                                                <input [(ngModel)]="modelName"
                                                                                    type="text"
                                                                                    class="form-control addModelInput cust-field font12 height28 borderTRR0 borderBRR0"
                                                                                    placeholder="Example: OP2 Screen"
                                                                                    [ngModelOptions]="{standalone: true}">
                                                                                    <span class="input-group-btn addbtnInput" (click)="createModel()">Add</span>
                                                                            </div>
                                                                        </li>
                                                                        <li (click)="changeValueOfModel('model',br.name,br._id)"
                                                                            *ngFor="let br of allModels;"
                                                                            role="menuitem">
                                                                            <a class="dropdown-item">{{br.name}}</a>
                                                                        </li>
                                                                    </ul>
                                                                </div> -->
                                                                <span
                                                                    *ngIf="addStockProductSubmitted && faddStockProduct.DeviceModel.errors"
                                                                    class="bounce is-invalid">
                                                                    Model is required
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="row mb15" *ngIf="!addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value">
                                                            <div class="col-lg-12 noborderBottom">
                                                                <label class="color000 mb0" for="stp_model">Link Service with Devices</label>
                                                                <div id="restock" class="deviceAttached" [ngClass]="{'noClick': !addstockProductForm.controls.isAddedDeviceModel.value}" >
                                                                    <div id="stock-supplier" class="selectItems createBuyBack">
                                                                        <div id="po-wrapper">
                                                                            <div class="po-inner-list">
                                                                                <form>
                                                                                    <accordion [isAnimated]="true" [closeOthers]="true">
                                                                                        <accordion-group>
                                                                                            <ul accordion-heading>
                                                                                                <li class="">
                                                                                                    <div class="inner text-left">
                                                                                                        <span class="dInlineBlock wd98Percent m0 fontPoppin font12 fontSemiBold">Brands and Models</span>
                                                                                                        <i class="fas fa-angle-right dInlineBlock font14"></i>
                                                                                                    </div>
                                                                                                </li>
                                                                                            </ul>
                                                                                            <ul>
                                                                                                <li class="listHeader">
                                                                                                    <div class="dtable wd100Percent">
                                                                                                        <div class="inner wd20percent dtableCell">
                                                                                                            <span class="color000">Brand</span>
                                                                                                        </div>
                                                                                                        <div class="inner wd20percent dtableCell">
                                                                                                            <span class="color000">Model Number</span>
                                                                                                        </div>
                                                                                                        <!-- <div class="inner wd20percent dtableCell">
                                                                                                            <span class="color000">Model Number</span>
                                                                                                        </div> -->
                                                                                                        <div class="inner wd20percent dtableCell">
                                                                                                            <span class="color000">Min Price</span>
                                                                                                        </div>
                                                                                                        <div class="inner wd20percent dtableCell">
                                                                                                            <span class="color000 font9">Max Price</span>
                                                                                                        </div>
                                                                                                        <div class="inner wd20percent dtableCell">
                                                                                                            <span class="color000 font9">Actions</span>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </li>
                                                                                                <accordion [isAnimated]="true" [closeOthers]="false" class="innerAccBM">
                                                                                                    <accordion-group *ngFor="let service of linkedServices; let i = index;">
                                                                                                        <ul accordion-heading>
                                                                                                            <li>
                                                                                                                <div class="dtable wd100Percent">
                                                                                                                    <div class="inner wd20percent dtableCell valignMiddle" (click)="noOpenAccordianOnInput($event)">
                                                                                                                        <span class="color000">{{service?.brandName}}</span>
                                                                                                                    </div>
                                                                                                                    <div class="inner wd20percent dtableCell valignMiddle" (click)="noOpenAccordianOnInput($event)">
                                                                                                                        <span class="color000">{{service?.modelName}}</span>
                                                                                                                    </div>
                                                                                                                    <!-- <div class="inner wd20percent dtableCell valignMiddle" (click)="noOpenAccordianOnInput($event)">
                                                                                                                        <span class="color000">SM-N950F</span>
                                                                                                                    </div> -->
                                                                                                                    <div class="inner wd20percent dtableCell valignMiddle" (click)="noOpenAccordianOnInput($event)">
                                                                                                                        <span *ngIf="!service?.editService" class="color000">{{service?.min}}</span>
                                                                                                                        <input *ngIf="service?.editService" [(ngModel)]="linkedServices[i].min" numeric decimals="2" negative="0" type="text" class="form-control additionalItemsinput padding13px" [ngModelOptions]="{standalone: true}">
                                                                                                                    </div>
                                                                                                                    <div class="inner wd20percent dtableCell valignMiddle" (click)="noOpenAccordianOnInput($event)">
                                                                                                                        <span *ngIf="!service?.editService" class="color000">{{service?.max}}</span>
                                                                                                                        <input *ngIf="service?.editService" [(ngModel)]="linkedServices[i].max" numeric decimals="2" negative="0" type="text" class="form-control additionalItemsinput padding13px" [ngModelOptions]="{standalone: true}">
                                                                                                                    </div>
                                                                                                                    <div class="inner wd20percent dtableCell valignMiddle">
                                                                                                                        <a *ngIf="!service?.editService" (click)="service.editService = true;" (click)="noOpenAccordianOnInput($event)"
                                                                                                                            href="JavaScript:void(0)" class="color808080 font12 dInlineBlock">
                                                                                                                            <i class="far fa-edit"></i>
                                                                                                                        </a>
                                                                                                                        <a *ngIf="service?.editService" (click)="service.editService = false;" href="JavaScript:void(0)" (click)="noOpenAccordianOnInput($event)"
                                                                                                                            class="color808080 font12 dInlineBlock">
                                                                                                                            <i class="far fa-save"></i>
                                                                                                                        </a>
                                                                                                                        <a (click)="openUnLinkDeviceModal(open_unlinkModel,'custModal wd250', i, true);" (click)="noOpenAccordianOnInput($event)"
                                                                                                                            href="JavaScript:void(0)" class="color808080 font12 dInlineBlock pl5 pr5">
                                                                                                                            <i class="fas fa-trash-alt"></i>
                                                                                                                        </a>
                                                                                                                        <a href="JavaScript:void(0)" class="dropArrow color808080 font12 dInlineBlock">
                                                                                                                            <i class="fas fa-angle-right dInlineBlock font14"></i>
                                                                                                                        </a>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </li>
                                                                                                        </ul>
                                                                                                        <ul>
                                                                                                            <li>
                                                                                                                <div *ngIf="service?.itemAttachId == null" class="text-center">
                                                                                                                    <a (click)="openAttachItem(i)" class="fontPoppin fontSemiBold color808080 addAnotherBtn">
                                                                                                                        <i aria-hidden="true" class="pr5 fa fa-plus"></i>Link item with the service (Optional)
                                                                                                                    </a>
                                                                                                                </div>
                                                                                                                <div *ngIf="!service?.addItem && service?.itemAttachId != null"  class="dtable wd100Percent">
                                                                                                                    <div class="inner wd90Percent dtableCell valignMiddle">
                                                                                                                        <div class="custSelect dark ngDropSelect inputDropSelect h18  text-left">
                                                                                                                            <ng-select [items]="linkingItems" bindLabel="product_name" placeholder="'Ex: SM-N950F'" 
                                                                                                                                (keyup)="getItems($event.target.value,i)" [(ngModel)]="linkedServices[i].itemAttached" name='service model'>
                                                                                                                            </ng-select>
                                                                                                                    </div>
                                                                                                                    </div>
                                                                                                                    <div class="inner wd10percent dtableCell valignMiddle">
                                                                                                                        <a href="JavaScript:void(0)" (click)="selectItem(i)" class="addAdditionalItemsBtn dBlock">Add</a>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                                <div *ngIf="service?.addItem"  class="dtable wd100Percent">
                                                                                                                    <div class="inner wd90Percent dtableCell valignMiddle">
                                                                                                                        <span *ngIf="!service?.editItem" class="color000 text-left">{{service?.itemAttached?.product_name}}</span>
                                                                                                                        <!-- <ng-select *ngIf="service?.addItem" [(ngModel)]="selectedDevItem" [ngModelOptions]="{standalone: true}" class=""  placeholder="Type the item name">
                                                                                                                            <ng-option  *ngFor="let dItem of devItems" [value]="dItem.id">{{dItem.name}}</ng-option>
                                                                                                                        </ng-select> -->
                                                                                                                        <div class="custSelect dark ngDropSelect inputDropSelect h18 text-left">
                                                                                                                            <ng-select *ngIf="service?.editItem" [items]="linkingItems" bindLabel="product_name" placeholder="'Ex: SM-N950F'" 
                                                                                                                                    (keyup)="getItems($event.target.value,i)" [(ngModel)]="linkedServices[i].itemAttached" name='service model'>
                                                                                                                            </ng-select>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div class="inner wd10percent dtableCell valignMiddle">
                                                                                                                        <a *ngIf="!service?.editItem" (click)="editAttachItem(i)" href="JavaScript:void(0)"
                                                                                                                            class="color808080 font12 dInlineBlock">
                                                                                                                            <i class="far fa-edit"></i>
                                                                                                                        </a>
                                                                                                                        <a *ngIf="service?.editItem" (click)="editAttachItem(i)" href="JavaScript:void(0)"
                                                                                                                            class="color808080 font12 dInlineBlock">
                                                                                                                            <i class="far fa-save"></i>
                                                                                                                        </a>
                                                                                                                        <a (click)="openUnLinkDeviceModal(open_unlinkModel,'custModal wd250', i, false);"
                                                                                                                            href="JavaScript:void(0)" class="color808080 font12 dInlineBlock pl10">
                                                                                                                            <i class="fas fa-trash-alt"></i>
                                                                                                                        </a>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </li>
                                                                                                        </ul>
                                                                                                    </accordion-group>
                                                                                                </accordion>
                                                                                                <li class="addMoreBrands">
                                                                                                    <div *ngIf="isAddModel" class="text-center">
                                                                                                        <a (click)="openIsNewModel()" class="fontPoppin fontSemiBold color808080 addAnotherBtn">
                                                                                                            <i aria-hidden="true" class="pr5 fa fa-plus"></i>Add brand and model
                                                                                                        </a>
                                                                                                    </div>
                                                                                                    <div *ngIf="isNewModel"  class="dtable wd100Percent">
                                                                                                        <div class="inner wd20percent dtableCell valignMiddle">
                                                                                                            <div class="custSelect dark ngDropSelect inputDropSelect h18">
                                                                                                                <!-- [addTag]="addBrand"  Nomi-->
                                                                                                                <!-- <ng-select [items]="allBrands" bindLabel="brand_name" placeholder="Ex: Apple" 
                                                                                                                    (ngModelChange)="attachBrandToService($event)" [(ngModel)]="serviceBrand" name='service brand'>
                                                                                                                </ng-select> -->
                                                                                                                <!-- <div class="btn-group cust-group wd100Percent" dropdown>
                                                                                                                    <div class="custSelect dark ngDropSelect"> -->
                                                                                                                         <ng-select [addTag]="addProductBrand" id="Devicebrand"  name="Devicebrand" 
                                                                                                                          [ngModelOptions]="{standalone: true}" (change)="attachBrandToService(brand)"
                                                                                                                          [(ngModel)]="brand" placeholder="Exp. Apple">
                                                                                                                            <ng-option  *ngFor="let brand of allBrands" [value]="brand">{{brand?.brand_name}}</ng-option>
                                                                                                                          
                                                                                                                         </ng-select>
                                                                                                                    <!-- </div>
                                                                                                                </div> -->
                                                                                                                <!-- <ng-select (selected)="selected($event)" [(ngModel)]="serviceBrandName" [ngModelOptions]="{standalone: true}" placeholder="Ex: Apple">
                                                                                                                    <ng-option *ngFor="let dBrands of allBrands;" [value]="dBrands.id">{{dBrands.name}}</ng-option>
                                                                                                                </ng-select> -->
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="inner wd20percent dtableCell valignMiddle">
                                                                                                            <div class="custSelect dark ngDropSelect inputDropSelect h18">
                                                                                                                <ng-select  [addTag]="addProductBrandModel"  id="DeviceModel12" name="DeviceModel12" 
                                                                                                                (change)="changeServiceModel(model)" [ngModelOptions]="{standalone: true}" 
                                                                                                                [loading]="deviceModelLoading" [(ngModel)]="model" class=""  placeholder="Exp. iPhone">
                                                                                                                    <ng-option  *ngFor="let model of allModels" [value]="model">{{model.name}}</ng-option>
                                                                                                                </ng-select>
                                                                                                                
                                                                                                                <!-- <ng-select [items]="allModels" bindLabel="name" placeholder='Ex: SM-N950F' 
                                                                                                                    [(ngModel)]="serviceModel" name='service model'>
                                                                                                                </ng-select> -->
                                                                                                                <!-- <ng-select [(ngModel)]="selectedDevModelNo" [ngModelOptions]="{standalone: true}" placeholder="Ex: SM-N950F">
                                                                                                                    <ng-option (ngModelChange)="attachModelToService(dModelNo)" *ngFor="let dModelNo of allModels;" 
                                                                                                                        [value]="dModelNo.id">{{dModelNo.name}}
                                                                                                                    </ng-option>
                                                                                                                </ng-select> -->
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="inner wd20percent dtableCell valignMiddle">
                                                                                                            <input [(ngModel)]="serviceMinPrice" [ngModelOptions]="{standalone: true}" numeric decimals="2" negative="0" type="text" class="form-control additionalItemsinput padding13px" placeholder="$00.00">
                                                                                                        </div>
                                                                                                        <div class="inner wd20percent dtableCell valignMiddle">
                                                                                                            <input [(ngModel)]="serviceMaxPrice" [ngModelOptions]="{standalone: true}" numeric decimals="2" negative="0" type="text" class="form-control additionalItemsinput padding13px" placeholder="$00.00">
                                                                                                        </div>
                                                                                                        <div class="inner wd20percent dtableCell valignMiddle">
                                                                                                            <a href="JavaScript:void(0)" (click)="addService()" class="addAdditionalItemsBtn dBlock">Add</a>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </li>
                                                                                            </ul>
                                                                                        </accordion-group>
                                                                                    </accordion>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="allDevicesCheck catRight">
                                                                    <input
                                                                        [checked]="!addstockProductForm.controls.isAddedDeviceModel.value"
                                                                        (click)="setLinkDevices()" id="linkAllDevices"
                                                                        class="checkbox-custom" name="linkAllDevices"
                                                                        type="checkbox">
                                                                    <label for="linkAllDevices"
                                                                        class="checkbox-custom-label font11">Link to all
                                                                        devices</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="mb15 mt25"
                                                            *ngIf="addstockProductForm.controls.is_bundle_product.value">
                                                            <div class="row mb5">
                                                                <div class="col-lg-12 noborderBottom">
                                                                    <span
                                                                        *ngIf="addstockProductForm.controls.is_product.value"
                                                                        class="color000 fontSemiBold fontPoppin mb0 bundleLine posRelative">
                                                                        Bundle Product
                                                                    </span>
                                                                    <span
                                                                        *ngIf="!addstockProductForm.controls.is_product.value"
                                                                        class="color000 fontSemiBold fontPoppin mb0 bundleLine posRelative">
                                                                        Bundle Service
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <div class="custRows  mb25">
                                                                <div class="row mb5">
                                                                    <div class="noborderBottom pr0"
                                                                        [ngClass]="{'col-lg-7':!addstockProductForm.controls.is_product.value , 'col-lg-5':addstockProductForm.controls.is_product.value}">
                                                                        <label
                                                                            *ngIf="addstockProductForm.controls.is_product.value"
                                                                            class="color000 mb0"
                                                                            for="stp-bundleProductName">Items that will
                                                                            make your bundle product</label>
                                                                        <label
                                                                            *ngIf="!addstockProductForm.controls.is_product.value"
                                                                            class="color000 mb0"
                                                                            for="stp-bundleProductName">Services that will
                                                                            make your bundle service</label>
                                                                    </div>
                                                                    <div class="col-lg-2 text-center noborderBottom">
                                                                        <label class="color000 mb0 fontPoppin"
                                                                            for="stp-bundleProductName">Qty.</label>
                                                                    </div>
                                                                    <div class="col-lg-2 text-center noborderBottom pl0"
                                                                        *ngIf="addstockProductForm.controls.is_product.value">
                                                                        <label class="color000 mb0 fontPoppin"
                                                                            for="stp-bundleProductName">Avg Cost</label>
                                                                    </div>
                                                                    <div
                                                                        class="col-lg-2 text-center noborderBottom pl0">
                                                                        <label class="color000 mb0 fontPoppin"
                                                                            for="stp-bundleProductName">Selling
                                                                            Price</label>
                                                                    </div>
                                                                </div>
                                                                <div *ngFor="let b of bundleProducts; let i = index;"
                                                                    class="row mb5">
                                                                    <div class="noborderBottom pr0"
                                                                        [ngClass]="{'col-lg-7':!addstockProductForm.controls.is_product.value , 'col-lg-5':addstockProductForm.controls.is_product.value}">
                                                                        <input readonly
                                                                            [(ngModel)]="bundleProducts[i].name"
                                                                            type="text" name="stp-bundleProductName"
                                                                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            placeholder="Example: Search product that will make your bundle product">
                                                                    </div>
                                                                    <div class="col-lg-2 noborderBottom">
                                                                        <input [(ngModel)]="bundleProducts[i].quantity"
                                                                            appTwoDigitDecimaNumber
                                                                            (focusout)="recalculateBundleCost(i,true)"
                                                                            type="text" name="stp-bundleProductQty"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            class="form-control text-center cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                            placeholder="Qty">
                                                                    </div>
                                                                    <div class="col-lg-2 noborderBottom"
                                                                        *ngIf="addstockProductForm.controls.is_product.value">
                                                                        <input [(ngModel)]="bundleProducts[i].avgCost"
                                                                            appTwoDigitDecimaNumber readonly
                                                                            (focusout)="recalculateBundleCost()"
                                                                            type="text" name="stp-bundleProductQty"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            class="form-control text-center cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                            placeholder="Cost">
                                                                    </div>
                                                                    <div class="col-lg-2 noborderBottom pl0">
                                                                        <input readonly
                                                                            [(ngModel)]="bundleProducts[i].selling_price"
                                                                            type="text" name="stp-bundleProductCost"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            class="form-control text-center  cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                            placeholder="Price">
                                                                    </div>
                                                                    <div class="col-lg-1 noborderBottom pl0">
                                                                        <a (click)="deleteBundleProduct(i)"
                                                                            href="JavaScript:void(0)"
                                                                            class="color808080 font14 deleteRow">
                                                                            <i class="fa fa-trash"
                                                                                aria-hidden="true"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="row newRow mb5">
                                                                    <div class="noborderBottom pr0"
                                                                        [ngClass]="{'col-lg-7':!addstockProductForm.controls.is_product.value , 'col-lg-5':addstockProductForm.controls.is_product.value}">
                                                                        <input
                                                                            [ngClass]="{bounce : isInvalidBundle && isObjectEmpty(currentP)}"
                                                                            type="text" name="stp-bundleProductName"
                                                                            [(ngModel)]="productToFetch"
                                                                            (ngModelChange)='searchExistingProduct($event)'
                                                                            name="serach-product"
                                                                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            placeholder="Example: Search product that will make your bundle product">
                                                                        <ul class="compaign_list" *ngIf="productList">
                                                                            <li (click)="seletBundleProduct(pro)"
                                                                                *ngFor="let pro of allSearchedProducts;"
                                                                                class="pr-suggestion-list">
                                                                                <a>{{pro.product_name}}</a>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="col-lg-2 noborderBottom">
                                                                        <input
                                                                            [ngClass]="{bounce : isInvalidBundle && qty == 0}"
                                                                            type="text" name="stp-bundleProductQTY"
                                                                            [(ngModel)]="qty"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            class="form-control text-center cust-field font12 borderColorcbcbcb borderRadius5"
                                                                            placeholder="0">
                                                                    </div>
                                                                    <div class="col-lg-2 noborderBottom pl0"
                                                                        *ngIf="addstockProductForm.controls.is_product.value">
                                                                        <input
                                                                            [ngClass]="{bounce : isInvalidBundle && avgCost == ''}"
                                                                            type="text" name="stp-bundleProductCost"
                                                                            [(ngModel)]="avgCost"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            class="form-control text-center cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                            placeholder="$0.00">
                                                                    </div>
                                                                    <div class="col-lg-2 noborderBottom pl0">
                                                                        <input
                                                                            [ngClass]="{bounce : isInvalidBundle && cost == 0}"
                                                                            type="text" name="stp-bundleProductCost"
                                                                            [(ngModel)]="cost"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            class="form-control text-center cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                            placeholder="$0.00">
                                                                    </div>
                                                                    <!-- <div class="col-lg-1 noborderBottom pl0">
                                                                        <a (click)="addProductToBundle()"
                                                                            href="JavaScript:void(0)"
                                                                            class="color808080 font14 addRow">
                                                                            <i class="fa fa-plus"
                                                                                aria-hidden="true"></i>
                                                                        </a>
                                                                    </div> -->
                                                                </div>
                                                                <span class="bounce is-invalid"
                                                                    *ngIf="addStockProductSubmitted && addstockProductForm.controls.is_bundle_product.value && bundleProducts.length < 2">
                                                                    Please add at least two items in bundle
                                                                </span>
                                                            </div>
                                                            <div class="row mb10">
                                                                <div [ngClass]="{'col-lg-7':!addstockProductForm.controls.is_product.value , 'col-lg-5':addstockProductForm.controls.is_product.value}"
                                                                    class="pr0 noborderBottom text-right">
                                                                    <span
                                                                        class="color000 fontPoppin fontSemiBold">Total</span>
                                                                </div>
                                                                <div class="col-lg-2 noborderBottom text-center">
                                                                    <span
                                                                        class="color000 fontPoppin fontSemiBold">{{totalQuantity}}</span>
                                                                </div>
                                                                <div *ngIf="addstockProductForm.controls.is_product.value"
                                                                    class="col-lg-2 noborderBottom pl0 text-center">
                                                                    <span
                                                                        class="color000 fontPoppin fontSemiBold">${{totalAvergaeCost}}</span>
                                                                </div>
                                                                <div class="col-lg-2 noborderBottom pl0 text-center">
                                                                    <span
                                                                        class="color000 fontPoppin fontSemiBold">${{totalBundleCost}}</span>
                                                                </div>
                                                            </div>
                                                            <div class="row mb5">
                                                                <div *ngIf="addstockProductForm.controls.is_product.value"
                                                                    class="col-lg-10 noborderBottom">
                                                                    <div class="dtable wd100Percent">
                                                                        <div
                                                                            class=" catLeft dInlinetable wd40percent text-left">
                                                                            <label class="color000 mb0 fontPoppin"
                                                                                for="stp_trackBundleProduct">Manufactured
                                                                                Quantity?
                                                                            </label>
                                                                        </div>
                                                                        <div
                                                                            class="catRight dInlinetable wd60percent text-left">
                                                                            <div id="discount-cat-btn"
                                                                                class="btn-group height25 wd30percent noborder">
                                                                                <a class="btn padding5"
                                                                                    [ngClass]="{'active':manufacturedQuantity , 'notActive':!manufacturedQuantity}"
                                                                                    (click)="setManufacturedQuantity(true)">Yes</a>
                                                                                <a class="btn padding5"
                                                                                    [ngClass]="{'active':!manufacturedQuantity , 'notActive':manufacturedQuantity}"
                                                                                    (click)="setManufacturedQuantity(false)">No</a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <div class="row"
                                                                *ngIf="addstockProductForm.controls.is_product.value">
                                                                <div class="col-lg-12 noborderBottom">
                                                                    <span class="color808080 font10">The stock depends on
                                                                        the items which make this bundle product</span>
                                                                </div>
                                                            </div>
                                                            <hr class="mb10 mt10 color808080">

                                                        </div>
                                                        <!-- <div class="row  mb15">
                                                            <div class="col-lg-12 noborderBottom">
                                                                <label
                                                                    [ngClass]="{'bounce is-invalid':addStockProductSubmitted && compatibleDeviceToFetch.length == 0 && !addstockProductForm.controls.is_link_to_all_device.value}"
                                                                    class="color000 mb0" for="stp-linkProduct">
                                                                    Link product to all compatible devices
                                                                </label>
                                                                <tag-input
                                                                    *ngIf="!addstockProductForm.controls.is_link_to_all_device.value"
                                                                    [ngClass]="{'bounce':addStockProductSubmitted && compatibleDeviceToFetch.length == 0}"
                                                                    [onlyFromAutocomplete]="false"
                                                                    [separatorKeyCodes]="[13]"
                                                                    [secondaryPlaceholder]="'Example: iPhone'"
                                                                    [placeholder]="'Enter a new device'"
                                                                    (onAdd)="addNewComDev($event)"
                                                                    [(ngModel)]="compatibleDeviceToFetch"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                    <tag-input-dropdown [autocompleteItems]="items"
                                                                        [showDropdownIfEmpty]="true"
                                                                        [dynamicUpdate]="false">
                                                                        <ng-template let-item="item" let-index="index">
                                                                            {{ item.display }}
                                                                        </ng-template>
                                                                    </tag-input-dropdown>
                                                                </tag-input>
                                                                <input
                                                                    *ngIf="addstockProductForm.controls.is_link_to_all_device.value"
                                                                    class="form-control text-left cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                    placeholder="All devices attached" readonly
                                                                    type="text" name="dev">
                                                                <span class="bounce is-invalid"
                                                                    *ngIf="addStockProductSubmitted && compatibleDeviceToFetch.length == 0 && !addstockProductForm.controls.is_link_to_all_device.value">
                                                                    Please select at least one device
                                                                </span>
                                                                <div class="allDevicesCheck catRight">
                                                                    <input
                                                                        [checked]="addstockProductForm.controls.is_link_to_all_device.value"
                                                                        (click)="setLinkDevices()" id="linkAllDevices"
                                                                        class="checkbox-custom" name="linkAllDevices"
                                                                        type="checkbox">
                                                                    <label for="linkAllDevices"
                                                                        class="checkbox-custom-label font11">Link to all
                                                                        devices</label>
                                                                </div>
                                                            </div>
                                                        </div> -->
                                                        <div class="row  mb15">
                                                            <div class="col-lg-12 noborderBottom">
                                                                <label class="color000 mb0" for="stp-tags">Tags</label>
                                                                <tag-input
                                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                    [(ngModel)]="allTagsObjects" [addOnBlur]="true"
                                                                    [editable]="true" [identifyBy]="'id'"
                                                                    [displayBy]="'name'"
                                                                    [ngModelOptions]="{standalone: true}"
                                                                    [separatorKeyCodes]="[13,9]"
                                                                    [secondaryPlaceholder]="'Example: Battery'"
                                                                    [placeholder]="'Enter a new tag'">
                                                                </tag-input>
                                                            </div>
                                                        </div>
                                                        <div class="row  mb15">
                                                            <div class="col-lg-12 noborderBottom">
                                                                <label
                                                                    [ngClass]="{'bounce is-invalid':addStockProductSubmitted && faddStockProduct.description.errors}"
                                                                    class="color000 mb0"
                                                                    for="stp-description">Description</label>
                                                                <input
                                                                    [ngClass]="{'bounce':addStockProductSubmitted && faddStockProduct.description.errors}"
                                                                    type="text" formControlName="description"
                                                                    name="stp-description"
                                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5 mb0"
                                                                    placeholder="Type a description">
                                                                <span class="bounce is-invalid"
                                                                    *ngIf="addStockProductSubmitted && faddStockProduct.description.errors">Description
                                                                    is required</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </tab>
                                        <tab tabOrder="2"
                                            *ngIf="addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value"
                                            heading="Supplier" tabOrder="2">
                                            <h2 class="color000 mb10 font12 fontPoppin fontSemiBold">Type all your
                                                Supplier's SKU of the products compatible with the product being added.
                                            </h2>
                                            <div id="po-wrapper" class="p0 noHeight">
                                                <div class="po-top-info suptopListPadding">
                                                    <div class="inner wd5percent"><span>#</span></div>
                                                    <div class="inner wd40percent"><span>Supplier Name</span></div>
                                                    <div class="inner wd20percent"><span class="text-center">SKU
                                                            Number</span>
                                                    </div>
                                                    <div class="inner wd20percent">
                                                        <span class="text-center">Current Stock</span>
                                                    </div>
                                                    <div class="inner wd15percent"><span>Action</span></div>
                                                </div>
                                                <div
                                                    class="add-to-list slide-fade po-inner-list innerHeight415 supinListPadding">
                                                    <ul id="list">
                                                        <li class="show"
                                                            *ngFor="let supp of supplierSelectedForAddProduct; let i = index;">
                                                            <div class="inner wd5percent">
                                                                <span>{{i + 1}}</span>
                                                            </div>
                                                            <div class="inner wd40percent">
                                                                <span class="paddingLR5">{{supp.name || 'Unknown'}}</span>
                                                            </div>
                                                            <div class="inner wd20percent text-center">
                                                                <span class="paddingLR5">{{supp.SKU}}</span>
                                                            </div>
                                                            <div class="inner wd20percent text-center">
                                                                <span class="paddingLR5">{{supp.current_stock}}</span>
                                                            </div>
                                                            <div class="inner wd20percent">
                                                                <div class="dInlinetable text-center supActionBtnWrapp">
                                                                    <div class="dInlineBlock pr10 valignMiddle">
                                                                        <a (click)="setSupplierIndexes(i,'up')"
                                                                            href="JavaScript:void(0)"
                                                                            [ngClass]="{'onTop':i == 0}"
                                                                            class="supActionBtn">
                                                                            <i class="fa fa-arrow-up"
                                                                                aria-hidden="true"></i>
                                                                        </a>
                                                                    </div>
                                                                    <div class="dInlineBlock pr10 valignMiddle">
                                                                        <a [ngClass]="{'onBottom':i == supplierSelectedForAddProduct.length - 1 }"
                                                                            (click)="setSupplierIndexes(i,'down')"
                                                                            href="JavaScript:void(0)"
                                                                            class="supActionBtn">
                                                                            <i class="fa fa-arrow-down"
                                                                                aria-hidden="true"></i>
                                                                        </a>
                                                                    </div>
                                                                    <div class="dInlineBlock valignMiddle">
                                                                        <a (click)="openRemoveSupplierModal(open_removeProductSupplier,'custModal wd210',i)"
                                                                            href="JavaScript:void(0)"
                                                                            class="supActionBtn">
                                                                            <i class="fa fa-trash"
                                                                                aria-hidden="true"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                    <div class="linkSuppler po-top-info dtable wd100Percent newRow p0">
                                                        <div class="dtableCell wd45percent">
                                                            <input type="text" (click)="displayAllSuppliers(true)"
                                                                [ngClass]="{bounce: invalidSupplier && isObjectEmpty(currentlySupplierSelected)}"
                                                                [(ngModel)]="searchSupplierForAddProduct"
                                                                (ngModelChange)='searchBusinesswiseSupplier($event)'
                                                                name="stp-supplierName"
                                                                class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="Type Supplier's name" autocomplete="off">
                                                            <div class="ulWrapper" *ngIf="showSearchedSupplierList">
                                                                <ul>
                                                                    <li (click)="selecteSupplier(supp)"
                                                                        *ngFor="let supp of suppliers; let i = index;">
                                                                        <a>{{supp.supplier_company }}</a>
                                                                    </li>
                                                                </ul>
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="openAddSupplierForProduct()"
                                                                    id="add-to-list"
                                                                    class="addbtnDroplist dBlock borderRadius5 text-center">
                                                                    Add Supplier
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="dtableCell wd20percent">
                                                            <input type="text" (click)="displayAllSuppliers(false)"
                                                                [ngClass]="{bounce: invalidSupplier && currentlySupplierSelectedSKU == ''}"
                                                                [(ngModel)]="currentlySupplierSelectedSKU"
                                                                name="stp-supplierSKU"
                                                                class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="Type SKU number" autocomplete="off">
                                                        </div>
                                                        <div class="dtableCell wd20percent">
                                                            <input type="text" [(ngModel)]="currentStock"
                                                                name="stp-supplierSKU"
                                                                class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="current stock"
                                                                (keypress)="numberOnly($event)" autocomplete="off">
                                                        </div>
                                                        <div class="dtableCell text-center wd15percent">
                                                            <!-- (click)="model_Compare(open_CompareProductSKU,'custModal wd600')" -->
                                                            <a href="JavaScript:void(0)" [ngClass]="{'non-click' : addingSupplierInStock}"
                                                                (click)="addSelectedSupplier(open_CompareProductSKU,'custModal wd600')"
                                                                class="color808080 font12 addSuppSKU">
                                                                <i class="fa fa-plus" aria-hidden="true"></i> Add
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <span class="bounce is-invalid"
                                                        *ngIf="supplierInfoCompleted && addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value && supplierSelectedForAddProduct.length == 0">
                                                        Please add at least one supplier
                                                    </span>
                                                    <span class="bounce is-invalid" *ngIf="isSameSKU">
                                                        Supplier already added with same SKU number
                                                    </span>
                                                </div>
                                            </div>
                                        </tab>
                                        <tab tabOrder="3" heading="Pricing">
                                            <form action="#" autocomplete="off" [formGroup]="addstockPriceForm">
                                                <!-- Simple Product -->
                                                <div *ngIf="addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value"
                                                    class="items-form-content">
                                                    <div class="row mb15">
                                                        <div class="col-lg-4 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.sell_price.errors}"
                                                                class="color000 mb0" for="stp-sellingPrice">Selling
                                                                Price
                                                            </label>
                                                            <input appTwoDigitDecimaNumber
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.sell_price.errors}"
                                                                type="text" (focusout)="calculatePricesFromSellPrice()"
                                                                formControlName="sell_price" name="stp-sellingPrice"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.sell_price.errors">
                                                                Sell price is required</span>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label class="color000 mb0" for="stp-taxType">Select a tax
                                                                type
                                                            </label>
                                                            <div class="btn-group wd100Percent" dropdown>
                                                                <button id="button-animated" dropdownToggle
                                                                    type="button"
                                                                    class="btn dropdown-toggle  cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    aria-controls="dropdown-animated">{{selectTaxType}}
                                                                    <span class="caret"></span>
                                                                </button>
                                                                <ul id="dropdown-animated" *dropdownMenu
                                                                    class="dropdown-menu" role="menu"
                                                                    aria-labelledby="button-animated">
                                                                    <li (click)="selectTax('none')" role="menuitem">
                                                                        <a class="dropdown-item">none</a>
                                                                    </li>
                                                                    <li *ngFor="let tax of allTaxes;"
                                                                        (click)="selectTax(tax)" role="menuitem">
                                                                        <a class="dropdown-item">{{tax.name}}
                                                                            ({{tax.amount}}%)</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors}"
                                                                class="color000 mb0"
                                                                for="stp-sellingPriceIncTax">Selling Price (Inc Tax)
                                                            </label>
                                                            <!-- (focusout) = "calcuatePriceFromSellPriceIncTax()" -->
                                                            <input appTwoDigitDecimaNumber readonly
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors}"
                                                                type="text" formControlName="sell_price_inc_tax"
                                                                name="stp-sellingPriceIncTax"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors">
                                                                Sell price including tax is required</span>
                                                        </div>
                                                    </div>
                                                    <div class="row mb15">
                                                        <div class="col-lg-4 noborderBottom">
                                                            <label class="color000 mb0" for="stp-profitby">Profit By
                                                            </label>
                                                            <div id="discount-cat-btn" class="btn-group ">
                                                                <a class="btn profitBy"
                                                                    [ngClass]="{'active':!addstockPriceForm.controls.is_profit_percentage.value , 'notActive':addstockPriceForm.controls.is_profit_percentage.value}"
                                                                    (click)="setFormValues('addstockPriceForm','is_profit_percentage',false)">$</a>
                                                                <a class="btn profitBy"
                                                                    [ngClass]="{'active':addstockPriceForm.controls.is_profit_percentage.value , 'notActive':!addstockPriceForm.controls.is_profit_percentage.value}"
                                                                    (click)="setFormValues('addstockPriceForm','is_profit_percentage',true)">
                                                                    % </a>
                                                                <input appTwoDigitDecimaNumber
                                                                    (focusout)="setProfitValues('profit_amount','profit_value',true)"
                                                                    *ngIf="addstockPriceForm.controls.is_profit_percentage.value"
                                                                    type="text" name="stp-profitby"
                                                                    class="form-control text-right noBorderRadiusLeft noBorderLeft cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    placeholder="10%" formControlName="profit_value">
                                                                <input appTwoDigitDecimaNumber
                                                                    (focusout)="setProfitValues('profit_value' , 'profit_amount',true)"
                                                                    *ngIf="!addstockPriceForm.controls.is_profit_percentage.value"
                                                                    type="text" name="stp-profitby"
                                                                    class="form-control text-right noBorderRadiusLeft noBorderLeft cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    placeholder="$10.00"
                                                                    formControlName="profit_amount">
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label class="color000 mb0" for="stp-lastCost">Last Cost
                                                            </label>
                                                            <input appTwoDigitDecimaNumber type="text"
                                                                (focusout)="calculateAverageCost()"
                                                                formControlName="last_cost" name="stp-lastCost"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label class="color000 mb0" for="stp-averageCost">Average
                                                                Cost
                                                            </label>
                                                            <input appTwoDigitDecimaNumber type="text" readonly
                                                                formControlName="average_cost" name="stp-averageCost"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                        </div>
                                                    </div>
                                                    <div class="row mb15">
                                                        <div class="col-lg-4 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.income_account.errors}"
                                                                class="color000 mb0" for="stp_incomeAccount">Income
                                                                Account
                                                            </label>
                                                            <div class="input-group ">
                                                                <input
                                                                    [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.income_account.errors}"
                                                                    type="text" [(ngModel)]="incomeAccSearch"
                                                                    (ngModelChange)='getAccountDetails($event , "Income")'
                                                                    [ngModelOptions]="{standalone: true}"
                                                                    name="serach-income"
                                                                    class="form-control cust-field font12 borderColorcbcbcb height32"
                                                                    placeholder="Example: Repair with parts">
                                                                <!-- <a (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600')" class="input-group-btn attachBtn color808080 borderColorcbcbcb borderLeft0"><i
                                                                                                            class="fa fa-plus" aria-hidden="true"></i></a> -->
                                                            </div>
                                                            <div class="ulWrapper inventoryAccDrop" *ngIf="incomeList">
                                                                <ul class="compaign_list padding5px">
                                                                    <li (click)="setAccountDetail('income_account',acc)"
                                                                        *ngFor="let acc of allAcounts;"
                                                                        class="pr-suggestion-list">
                                                                        <a><span>{{acc.account_code}}</span>{{acc.account_name}}
                                                                            <span
                                                                                *ngIf="acc.parent_account_Id != null">Sub-account</span>
                                                                        </a>
                                                                    </li>
                                                                    <!-- <li
                                                                        (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600', 'Income')">
                                                                        <a
                                                                            class="dBlock bgBlack borderRadius5 text-center colorWhite">Add
                                                                            income account</a>
                                                                    </li> -->
                                                                </ul>
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600', 'Income')"
                                                                    class="addbtnDroplist dBlock borderRadius5 text-center">Add
                                                                    income account
                                                                </a>
                                                            </div>
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.income_account.errors">
                                                                Income account is required</span>

                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.expense_account.errors}"
                                                                class="color000 mb0" for="stp_COGS">COGS</label>
                                                            <div class="input-group ">
                                                                <input
                                                                    [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.expense_account.errors}"
                                                                    type="text" [(ngModel)]="cogsAccSearch"
                                                                    (ngModelChange)='getAccountDetails($event , "COGS")'
                                                                    [ngModelOptions]="{standalone: true}"
                                                                    class="form-control cust-field font12 borderColorcbcbcb height32"
                                                                    placeholder="Example: Repair with parts">
                                                                <!-- <a (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600')" class="input-group-btn attachBtn color808080 borderColorcbcbcb borderLeft0"><i
                                                                                                            class="fa fa-plus" aria-hidden="true"></i></a> -->
                                                            </div>
                                                            <div class="ulWrapper inventoryAccDrop" *ngIf="COGSList">
                                                                <ul class="compaign_list padding5px">
                                                                    <li (click)="setAccountDetail('expense_account',acc)"
                                                                        *ngFor="let acc of allAcounts;"
                                                                        class="pr-suggestion-list">
                                                                        <a><span>{{acc.account_code}}</span>{{acc.account_name}}
                                                                            <span
                                                                                *ngIf="acc.parent_account_Id != null">Sub-account</span>
                                                                        </a>
                                                                    </li>
                                                                    <!-- <li
                                                                        (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600' , 'COGS')">
                                                                        <a
                                                                            class="dBlock bgBlack borderRadius5 text-center colorWhite">Add
                                                                            COGS</a>
                                                                    </li> -->
                                                                </ul>
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600' , 'COGS')"
                                                                    class="addbtnDroplist dBlock borderRadius5 text-center">Add
                                                                    COGS
                                                                </a>
                                                            </div>
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.expense_account.errors">COGS
                                                                is required</span>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.inventory_account.errors}"
                                                                class="color000 mb0"
                                                                for="stp_inventoryAccount">Inventory Account</label>
                                                            <div class="input-group ">
                                                                <input
                                                                    [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.inventory_account.errors}"
                                                                    type="text" [(ngModel)]="inventoryAccSearch"
                                                                    (ngModelChange)='getAccountDetails($event , "Inventory")'
                                                                    [ngModelOptions]="{standalone: true}"
                                                                    class="form-control cust-field font12 borderColorcbcbcb height32"
                                                                    placeholder="Example: Repair with parts">
                                                                <!-- <a (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600')" class="input-group-btn attachBtn color808080 borderColorcbcbcb borderLeft0"><i
                                                                                                            class="fa fa-plus" aria-hidden="true"></i></a> -->
                                                            </div>
                                                            <div class="ulWrapper inventoryAccDrop rightSide"
                                                                *ngIf="inventoryList">
                                                                <ul class="compaign_list padding5px">
                                                                    <li (click)="setAccountDetail('inventory_account',acc)"
                                                                        *ngFor="let acc of allAcounts;"
                                                                        class="pr-suggestion-list">
                                                                        <a><span>{{acc.account_code}}</span>{{acc.account_name}}
                                                                            <span
                                                                                *ngIf="acc.parent_account_Id != null">Sub-account</span>
                                                                        </a>
                                                                    </li>
                                                                    <!-- <li (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600' , 'Inventory')">
                                                                        <a
                                                                            class="dBlock bgBlack borderRadius5 text-center colorWhite">Add
                                                                            inventory account</a>
                                                                    </li> -->
                                                                </ul>
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600' , 'Inventory')"
                                                                    class="addbtnDroplist dBlock borderRadius5 text-center">Add
                                                                    inventory account</a>
                                                            </div>
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.inventory_account.errors">Inventory
                                                                account is required</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Bundle Product -->
                                                <div *ngIf="addstockProductForm.controls.is_product.value && addstockProductForm.controls.is_bundle_product.value"
                                                    class="items-form-content">
                                                    <div class="row mb15">
                                                        <div class="col-lg-3 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.sell_price.errors}"
                                                                class="color000 mb0" for="stp-sellingPrice">Price with
                                                                bundle</label>
                                                            <input (focusout)="calculateBundlPrices()"
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.sell_price.errors}"
                                                                appTwoDigitDecimaNumber type="text"
                                                                formControlName="sell_price"
                                                                name="stp-sellingPriceWithBundle"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00" />
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.sell_price.errors">
                                                                Sell price is required</span>
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.price_without_bundle.errors}"
                                                                class="color808080 mb0" for="stp-sellingPrice">Price
                                                                without bundle</label>
                                                            <input readonly
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.price_without_bundle.errors}"
                                                                appTwoDigitDecimaNumber type="text"
                                                                formControlName="price_without_bundle"
                                                                name="stp-sellingPriceWithoutBundle"
                                                                class="form-control bgWhite text-center cust-field font12 noborder fontSemiBold borderRadius5 color000"
                                                                placeholder="$0.00" />
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.price_without_bundle.errors">
                                                                Price without bundle is required</span>
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label class="color808080 mb0" for="stp-sellingPrice">Amount
                                                                discounted
                                                            </label>
                                                            <input readonly appTwoDigitDecimaNumber type="text"
                                                                formControlName="discount_amount"
                                                                name="amount-discounted"
                                                                class="form-control bgWhite text-center cust-field font12 noborder fontSemiBold borderRadius5 color000"
                                                                placeholder="$0.00" />
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label class="color808080 mb0"
                                                                for="stp-sellingPrice">Percentage discounted</label>
                                                            <input readonly appTwoDigitDecimaNumber type="text"
                                                                formControlName="percentage_discount"
                                                                name="percentage-discounted"
                                                                class="form-control bgWhite text-center cust-field font12 noborder fontSemiBold borderRadius5 color000"
                                                                placeholder="$0.00" />
                                                        </div>
                                                    </div>
                                                    <div class="row mb15">
                                                        <div class="col-lg-3 noborderBottom">
                                                            <label class="color000 mb0" for="stp-taxType">Select a tax
                                                                type
                                                            </label>
                                                            <div class="btn-group wd100Percent" dropdown>
                                                                <button id="button-animated" dropdownToggle
                                                                    type="button"
                                                                    class="btn dropdown-toggle  cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    aria-controls="dropdown-animated">{{selectTaxType}}
                                                                    <span class="caret"></span>
                                                                </button>
                                                                <ul id="dropdown-animated" *dropdownMenu
                                                                    class="dropdown-menu" role="menu"
                                                                    aria-labelledby="button-animated">
                                                                    <li (click)="selectTax('none')" role="menuitem">
                                                                        <a class="dropdown-item">none</a>
                                                                    </li>
                                                                    <li *ngFor="let tax of allTaxes;"
                                                                        (click)="selectTax(tax)" role="menuitem">
                                                                        <a class="dropdown-item">{{tax.name}}
                                                                            ({{tax.amount}}%)</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors}"
                                                                class="color000 mb0"
                                                                for="stp-sellingPriceIncTax">Selling Price (Inc Tax)
                                                            </label>
                                                            <input appTwoDigitDecimaNumber readonly
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors}"
                                                                type="text" formControlName="sell_price_inc_tax"
                                                                name="stp-sellingPriceIncTax"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors">
                                                                Sell price including tax is required</span>
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label class="color000 mb0" for="stp-profitby">Profit By
                                                            </label>
                                                            <div id="discount-cat-btn" class="btn-group ">
                                                                <a class="btn profitBy"
                                                                    [ngClass]="{'active':!addstockPriceForm.controls.is_profit_percentage.value , 'notActive':addstockPriceForm.controls.is_profit_percentage.value}"
                                                                    (click)="setFormValues('addstockPriceForm','is_profit_percentage',false)">$</a>
                                                                <a class="btn profitBy"
                                                                    [ngClass]="{'active':addstockPriceForm.controls.is_profit_percentage.value , 'notActive':!addstockPriceForm.controls.is_profit_percentage.value}"
                                                                    (click)="setFormValues('addstockPriceForm','is_profit_percentage',true)">
                                                                    % </a>
                                                                <input appTwoDigitDecimaNumber
                                                                    (focusout)="calculateBundlePricesFromProfit()"
                                                                    *ngIf="addstockPriceForm.controls.is_profit_percentage.value"
                                                                    type="text" name="stp-profitby"
                                                                    class="form-control text-right noBorderRadiusLeft noBorderLeft cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    placeholder="10%" formControlName="profit_value">
                                                                <input appTwoDigitDecimaNumber
                                                                    (focusout)="calculateBundlePricesFromProfit()"
                                                                    *ngIf="!addstockPriceForm.controls.is_profit_percentage.value"
                                                                    type="text" name="stp-profitby"
                                                                    class="form-control text-right noBorderRadiusLeft noBorderLeft cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    placeholder="$10.00"
                                                                    formControlName="profit_amount">
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label class="color000 mb0" for="stp-averageCost">Total Cost
                                                            </label>
                                                            <input appTwoDigitDecimaNumber type="text" readonly
                                                                formControlName="total_cost" name="stp-averageCost"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                        </div>
                                                    </div>
                                                    <div class="row mb15">
                                                        <div class="col-lg-4 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.income_account.errors}"
                                                                class="color000 mb0" for="stp_incomeAccount">Income
                                                                Account
                                                            </label>
                                                            <div class="input-group ">
                                                                <input
                                                                    [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.income_account.errors}"
                                                                    type="text" [(ngModel)]="incomeAccSearch"
                                                                    (ngModelChange)='getAccountDetails($event , "Income")'
                                                                    [ngModelOptions]="{standalone: true}"
                                                                    class="form-control cust-field font12 borderColorcbcbcb height32"
                                                                    placeholder="Example: Repair with parts">
                                                                <!-- <a (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600')" class="input-group-btn attachBtn color808080 borderColorcbcbcb borderLeft0"><i
                                                                                                            class="fa fa-plus" aria-hidden="true"></i></a> -->
                                                            </div>
                                                            <div class="ulWrapper inventoryAccDrop" *ngIf="incomeList">
                                                                <ul class="compaign_list padding5px">
                                                                    <li (click)="setAccountDetail('income_account',acc)"
                                                                        *ngFor="let acc of allAcounts;"
                                                                        class="pr-suggestion-list">
                                                                        <a><span>{{acc.account_code}}</span>{{acc.account_name}}
                                                                            <span
                                                                                *ngIf="acc.parent_account_Id != null">Sub-account</span>
                                                                        </a>
                                                                    </li>
                                                                    <!-- <li
                                                                        (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600', 'Income')">
                                                                        <a
                                                                            class="dBlock bgBlack borderRadius5 text-center colorWhite">Add
                                                                            income account</a>
                                                                    </li> -->
                                                                </ul>
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600', 'Income')"
                                                                    class="addbtnDroplist dBlock borderRadius5 text-center">Add
                                                                    income account</a>
                                                            </div>
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.income_account.errors">
                                                                Income account is required</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Simple Service -->
                                                <div *ngIf="!addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value"
                                                    class="items-form-content">
                                                    <div class="row mb15">
                                                        <div class="col-lg-4 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.sell_price.errors}"
                                                                class="color000 mb0" for="stp-sellingPrice">Selling
                                                                Price
                                                            </label>
                                                            <input appTwoDigitDecimaNumber
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.sell_price.errors}"
                                                                type="text" (focusout)="calculatePricesFromSellPrice()"
                                                                formControlName="sell_price" name="stp-sellingPrice"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.sell_price.errors">
                                                                Sell price is required</span>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label class="color000 mb0" for="stp-taxType">Select a tax
                                                                type
                                                            </label>
                                                            <div class="btn-group wd100Percent" dropdown>
                                                                <button id="button-animated" dropdownToggle
                                                                    type="button"
                                                                    class="btn dropdown-toggle  cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    aria-controls="dropdown-animated">{{selectTaxType}}
                                                                    <span class="caret"></span>
                                                                </button>
                                                                <ul id="dropdown-animated" *dropdownMenu
                                                                    class="dropdown-menu" role="menu"
                                                                    aria-labelledby="button-animated">
                                                                    <li (click)="selectTax('none')" role="menuitem">
                                                                        <a class="dropdown-item">none</a>
                                                                    </li>
                                                                    <li *ngFor="let tax of allTaxes;"
                                                                        (click)="selectTax(tax)" role="menuitem">
                                                                        <a class="dropdown-item">{{tax.name}}
                                                                            ({{tax.amount}}%)</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-4 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors}"
                                                                class="color000 mb0"
                                                                for="stp-sellingPriceIncTax">Selling Price (Inc Tax)
                                                            </label>
                                                            <input appTwoDigitDecimaNumber readonly
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors}"
                                                                type="text" formControlName="sell_price_inc_tax"
                                                                name="stp-sellingPriceIncTax"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors">
                                                                Sell price including tax is required</span>
                                                        </div>
                                                    </div>
                                                    <div class="row mb15">
                                                        <div class="col-lg-4 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.income_account.errors}"
                                                                class="color000 mb0" for="stp_incomeAccount">Income
                                                                Account
                                                            </label>
                                                            <div class="input-group ">
                                                                <input
                                                                    [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.income_account.errors}"
                                                                    type="text" [(ngModel)]="incomeAccSearch"
                                                                    (ngModelChange)='getAccountDetails($event , "Income")'
                                                                    [ngModelOptions]="{standalone: true}"
                                                                    class="form-control cust-field font12 borderColorcbcbcb height32"
                                                                    placeholder="Example: Repair with parts">
                                                                <!-- <a (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600')" class="input-group-btn attachBtn color808080 borderColorcbcbcb borderLeft0"><i
                                                            class="fa fa-plus" aria-hidden="true"></i></a> -->
                                                            </div>
                                                            <div class="ulWrapper inventoryAccDrop" *ngIf="incomeList">
                                                                <ul class="compaign_list padding5px">
                                                                    <li (click)="setAccountDetail('income_account',acc)"
                                                                        *ngFor="let acc of allAcounts;"
                                                                        class="pr-suggestion-list">
                                                                        <a><span>{{acc.account_code}}</span>{{acc.account_name}}
                                                                            <span
                                                                                *ngIf="acc.parent_account_Id != null">Sub-account</span>
                                                                        </a>
                                                                    </li>
                                                                    <!-- <li
                                                                        (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600', 'Income')">
                                                                        <a
                                                                            class="dBlock bgBlack borderRadius5 text-center colorWhite">Add
                                                                            income account</a>
                                                                    </li> -->
                                                                </ul>
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600', 'Income')"
                                                                    class="addbtnDroplist dBlock borderRadius5 text-center">Add
                                                                    income account</a>
                                                            </div>
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.income_account.errors">
                                                                Income account is required</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Bundle Service -->
                                                <div *ngIf="!addstockProductForm.controls.is_product.value && addstockProductForm.controls.is_bundle_product.value"
                                                    class="items-form-content">
                                                    <div class="row mb15">
                                                        <div class="col-lg-3 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.sell_price.errors}"
                                                                class="color000 mb0" for="stp-sellingPrice">Price with
                                                                bundle</label>
                                                            <input (focusout)="calculateBundlPrices()"
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.sell_price.errors}"
                                                                appTwoDigitDecimaNumber type="text"
                                                                formControlName="sell_price"
                                                                name="stp-sellingPriceWithBundle"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00" />
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.sell_price.errors">
                                                                Sell price is required</span>
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.price_without_bundle.errors}"
                                                                class="color808080 mb0" for="stp-sellingPrice">Price
                                                                without bundle</label>
                                                            <input readonly
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.price_without_bundle.errors}"
                                                                appTwoDigitDecimaNumber type="text"
                                                                formControlName="price_without_bundle"
                                                                name="stp-sellingPriceWithoutBundle"
                                                                class="form-control bgWhite text-center cust-field font12 noborder fontSemiBold borderRadius5 color000"
                                                                placeholder="$0.00" />
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.price_without_bundle.errors">
                                                                Price without bundle is required</span>
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label class="color808080 mb0" for="stp-sellingPrice">Amount
                                                                discounted
                                                            </label>
                                                            <input readonly appTwoDigitDecimaNumber type="text"
                                                                formControlName="discount_amount"
                                                                name="amount-discounted"
                                                                class="form-control bgWhite text-center cust-field font12 noborder fontSemiBold borderRadius5 color000"
                                                                placeholder="$0.00" />
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label class="color808080 mb0"
                                                                for="stp-sellingPrice">Percentage discounted</label>
                                                            <input readonly appTwoDigitDecimaNumber type="text"
                                                                formControlName="percentage_discount"
                                                                name="percentage-discounted"
                                                                class="form-control bgWhite text-center cust-field font12 noborder fontSemiBold borderRadius5 color000"
                                                                placeholder="$0.00" />
                                                        </div>
                                                    </div>
                                                    <div class="row mb15">
                                                        <div class="col-lg-3 noborderBottom">
                                                            <label class="color000 mb0" for="stp-taxType">Select a tax
                                                                type
                                                            </label>
                                                            <div class="btn-group wd100Percent" dropdown>
                                                                <button id="button-animated" dropdownToggle
                                                                    type="button"
                                                                    class="btn dropdown-toggle  cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    aria-controls="dropdown-animated">{{selectTaxType}}
                                                                    <span class="caret"></span>
                                                                </button>
                                                                <ul id="dropdown-animated" *dropdownMenu
                                                                    class="dropdown-menu" role="menu"
                                                                    aria-labelledby="button-animated">
                                                                    <li (click)="selectTax('none')" role="menuitem">
                                                                        <a class="dropdown-item">none</a>
                                                                    </li>
                                                                    <li *ngFor="let tax of allTaxes;"
                                                                        (click)="selectTax(tax)" role="menuitem">
                                                                        <a class="dropdown-item">{{tax.name}}
                                                                            ({{tax.amount}}%)</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors}"
                                                                class="color000 mb0"
                                                                for="stp-sellingPriceIncTax">Selling Price (Inc Tax)
                                                            </label>
                                                            <input appTwoDigitDecimaNumber readonly
                                                                [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors}"
                                                                type="text" formControlName="sell_price_inc_tax"
                                                                name="stp-sellingPriceIncTax"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.sell_price_inc_tax.errors">
                                                                Sell price including tax is required</span>
                                                        </div>
                                                        <div class="col-lg-3 pl0 noborderBottom">
                                                            <label class="color000 mb0" for="stp-profitby">Profit By
                                                            </label>
                                                            <div id="discount-cat-btn" class="btn-group ">
                                                                <a class="btn profitBy"
                                                                    [ngClass]="{'active':!addstockPriceForm.controls.is_profit_percentage.value , 'notActive':addstockPriceForm.controls.is_profit_percentage.value}"
                                                                    (click)="setFormValuesForBundleService('addstockPriceForm','is_profit_percentage',false)">$</a>
                                                                <a class="btn profitBy"
                                                                    [ngClass]="{'active':addstockPriceForm.controls.is_profit_percentage.value , 'notActive':!addstockPriceForm.controls.is_profit_percentage.value}"
                                                                    (click)="setFormValuesForBundleService('addstockPriceForm','is_profit_percentage',true)">
                                                                    % </a>
                                                                <input appTwoDigitDecimaNumber
                                                                    *ngIf="addstockPriceForm.controls.is_profit_percentage.value"
                                                                    type="text" name="stp-profitby"
                                                                    class="form-control text-right noBorderRadiusLeft noBorderLeft cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    placeholder="10%" formControlName="profit_value">
                                                                <input appTwoDigitDecimaNumber
                                                                    *ngIf="!addstockPriceForm.controls.is_profit_percentage.value"
                                                                    type="text" name="stp-profitby"
                                                                    class="form-control text-right noBorderRadiusLeft noBorderLeft cust-field font12 borderColorcbcbcb borderRadius5"
                                                                    placeholder="$10.00"
                                                                    formControlName="profit_amount">
                                                            </div>
                                                        </div>
                                                        <!-- <div class="col-lg-3 pl0 noborderBottom">
                                                            <label class="color000 mb0" for="stp-averageCost">Total Cost
                                                            </label>
                                                            <input appTwoDigitDecimaNumber type="text" readonly
                                                                formControlName="average_cost" name="stp-averageCost"
                                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                                placeholder="$0.00">
                                                        </div> -->
                                                    </div>
                                                    <div class="row mb15">
                                                        <div class="col-lg-4 noborderBottom">
                                                            <label
                                                                [ngClass]="{'bounce is-invalid':productPriceSubmitted && faddStockPrice.income_account.errors}"
                                                                class="color000 mb0" for="stp_incomeAccount">Income
                                                                Account
                                                            </label>
                                                            <div class="input-group ">
                                                                <input
                                                                    [ngClass]="{'bounce':productPriceSubmitted && faddStockPrice.income_account.errors}"
                                                                    type="text" [(ngModel)]="incomeAccSearch"
                                                                    (ngModelChange)='getAccountDetails($event , "Income")'
                                                                    [ngModelOptions]="{standalone: true}"
                                                                    class="form-control cust-field font12 borderColorcbcbcb height32"
                                                                    placeholder="Example: Repair with parts">
                                                                <!-- <a (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600')" class="input-group-btn attachBtn color808080 borderColorcbcbcb borderLeft0"><i
                                                                                                            class="fa fa-plus" aria-hidden="true"></i></a> -->
                                                            </div>
                                                            <div class="ulWrapper inventoryAccDrop" *ngIf="incomeList">
                                                                <ul class="compaign_list padding5px">
                                                                    <li (click)="setAccountDetail('income_account',acc)"
                                                                        *ngFor="let acc of allAcounts;"
                                                                        class="pr-suggestion-list">
                                                                        <a><span>{{acc.account_code}}</span>{{acc.account_name}}
                                                                            <span
                                                                                *ngIf="acc.parent_account_Id != null">Sub-account</span>
                                                                        </a>
                                                                    </li>
                                                                    <!-- <li
                                                                        (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600', 'Income')">
                                                                        <a
                                                                            class="dBlock bgBlack borderRadius5 text-center colorWhite">Add
                                                                            income account</a>
                                                                    </li> -->
                                                                </ul>
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="model_inventoryAccount(open_inventoryAccount,'custModal wd600', 'Income')"
                                                                    class="addbtnDroplist dBlock borderRadius5 text-center">Add
                                                                    income account</a>
                                                            </div>
                                                            <span class="bounce is-invalid"
                                                                *ngIf="productPriceSubmitted && faddStockPrice.income_account.errors">
                                                                Income account is required</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </tab>
                                    </tabset>
                                </div>
                            </div>
                            <div class="stock-list-action">
                                <div class="caution-stock wd20percent">
                                    <a (click)="cancel('addNewProduct','existingSP')"
                                        class="cncl-btn-cust wd100px">Cancel</a>
                                </div>
                                <div class="caution-stock text-right wd80percent">
                                    <a *ngIf="step != 1" (click)="loadPrevTab()"
                                        class="cncl-btn-cust wd100px">Previous</a>
                                    <a *ngIf="step == 2 && supplierSelectedForAddProduct.length == 0 && addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value"
                                        (click)="skipSupplier()" class="cncl-btn-cust wd100px ml5">Skip</a>
                                    <a *ngIf="step > 1 && (!addstockProductForm.controls.is_product.value || addstockProductForm.controls.is_bundle_product.value || step == 3)"
                                        (click)="selectTab(open_confirmBundle, 'custModal wd300')"
                                        class="cncl-btn-cust wd100px ml5">Save</a>
                                    <a *ngIf="step == 1 || (step == 2 && addstockProductForm.controls.is_product.value && !addstockProductForm.controls.is_bundle_product.value)"
                                        (click)="selectTab(open_confirmBundle, 'custModal wd300')"
                                        class="cncl-btn-cust wd100px ml5">Next Step</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Manage Supplier -->
                    <div *ngIf="managesuppliers" class="tab-pane fade active show" id="tab-s-two">
                        <!-- Existing Supplier -->
                        <div *ngIf="existingSuppliers" id="stock-supplier"
                            [ngClass]="{'empty':addSupplierToList.length==0}">
                            <div class="cut-search-area posRelative zIndex100">
                                <div class="btn-group wd25percent" dropdown>
                                    <div id="discount-cat-btn" class="btn-group height31px dInlineBlock">
                                        <a (click)='getActiveSuppliers()'
                                            [ngClass]="{'active':activeArchived=='active' , 'notActive' : activeArchived!='active' }"
                                            class="btn wd50percent">Active</a>
                                        <a (click)='getArchivedSuppliers()'
                                            [ngClass]="{'active':activeArchived!='active' , 'notActive' : activeArchived=='active' }"
                                            class="btn wd50percent notActive">Archived</a>
                                    </div>
                                </div>
                                <div class="btn-group wd5percent ml10 pt5">
                                    <a class="clearAllfilter dotMainbox" href="JavaScript:void(0)"
                                        (click)="openSelectAll();$event.stopPropagation()">
                                        <span class="dotMenu"></span>
                                        <span class="dotMenu"></span>
                                        <span class="dotMenu"></span>
                                    </a>
                                    <div class="dropdown-content importBox selectAllitemsBox" *ngIf="SelectAllDrop"
                                        style="display: block;">
                                        <div class='dotBoxitems'>
                                            <ul>
                                                <li *ngIf="selectAllSupp"><a (click)="selectedAllSuppliers(true)"
                                                        href="javascript:void(0);">Select all</a></li>
                                                <li *ngIf="unselectAllSupp"><a (click)="selectedAllSuppliers(false)"
                                                        href="javascript:void(0);">Unselect all</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="search-field input-group wd65percent fr">
                                    <input type="text" [formControl]="fieldSearchSupplier" class="form-control"
                                        placeholder="Search...">
                                    <a href="javascript:void(0);" class="input-group-addon">
                                        <i *ngIf="fieldSearchSupplier.value" (click)="fieldSearchSupplier.reset()"
                                            class="fas fa-times-circle"></i>
                                        <i (click)="fsearchSupplier()" class="icon-search"></i>
                                    </a>
                                </div>
                            </div>
                            <div id="po-wrapper">
                                <div *ngIf="supplierLoader" class="luna-loading"></div>
                                <div *ngIf="isObjectEmpty(addSupplierToList) && fieldSearchSupplier=='' && activeArchived=='active'"
                                    class="empty-text text-center">
                                    <p class="text-center fontPoppin color808080 font14 wd60percent mx-auto">
                                        There are no active suppliers
                                    </p>
                                </div>
                                <div *ngIf="isObjectEmpty(addSupplierToList) && fieldSearchSupplier=='' &&  activeArchived!='active'"
                                    class="empty-text text-center">
                                    <p class="text-center fontPoppin color808080 font14 wd60percent mx-auto">
                                        There are no archived suppliers
                                    </p>
                                </div>
                                <div class="empty-text">
                                    <h2 *ngIf="isObjectEmpty(addSupplierToList) && fieldSearchSupplier!=''"><i
                                            class="fa fa-exclamation-circle" aria-hidden="true"></i>No Supplier Available
                                    </h2>
                                </div>
                                <div class="catWrapper padding10px" (click)='hideSupplierPop()' infiniteScroll
                                    (scrolled)="onSuppScroll()" [scrollWindow]="false">
                                    <ng-template #itemTemplate let-item="item" let-index="i">
                                        <div class="catOuter" [ngClass]="{'is-flipped' : item.initData.cCardFlipSupp}">
                                            <div class="cardBox">
                                                <div class="catInner height190px supInner cardForntBox">
                                                    <div class="catTop dtable wd100Percent">
                                                        <div class="catLeft dtableCell wd50percent text-left">
                                                            <span
                                                                class="color808080 dInlineBlock noWrap maxWd80px font11">ID:{{item.initData.supplier_keeping_unit || 'US#0000'}}</span>
                                                        </div>
                                                        <div class="catRight dtableCell wd50percent text-right">
                                                            <!-- [ngStyle]="{'color':item.initData.is_verify_supplier ==false ? 'darkgray' : '#5bdbbf' }" -->
                                                            <div *ngIf="item.initData.is_verify_supplier"
                                                                class="dInlineBlock pr5 valignMiddle">
                                                                <span class="colorGreen font12" tooltip="Verified"
                                                                    placement="bottom"><i
                                                                        class="icon-verify_supplier"></i></span>
                                                            </div>
                                                            <div class="dInlineBlock">
                                                                <input id="selectBoxSup1{{item.id}}"
                                                                    class="checkbox-custom"
                                                                    [checked]="item.initData.selected"
                                                                    (change)="selectedSuppliersFun(item,$event)"
                                                                    name="selectBoxSup1{{item.id}}" type="checkbox">
                                                                <label for="selectBoxSup1{{item.id}}"
                                                                    tooltip="Select Supplier" placement="bottom"
                                                                    class="checkbox-custom-label"></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="catMid suppNameArea text-center">
                                                        <span tooltip="{{item.initData.supplier_company}}"
                                                            placement="bottom"
                                                            class="color000 dBlock fontBold900 font13">{{item.initData.supplier_company}}</span>
                                                    </div>
                                                    <div class="supDetail supDetailIcons text-center">
                                                        <a class="color000 dInlineBlock pr10"
                                                            tooltip="{{item.initData.supplier_company_phone || 'Not Available'}}"
                                                            placement="bottom" href="JavaScript:void(0)"
                                                            (click)="opensupplierPhone(item.id);$event.stopPropagation()"><i
                                                                class="icon-telephone"></i></a>
                                                        <a class="color000 dInlineBlock"
                                                            tooltip="{{item.initData.supplier_email || 'Not Available'}}"
                                                            placement="bottom" href="JavaScript:void(0)"
                                                            (click)="opensupplierEmail(item.id);$event.stopPropagation()"><i
                                                                class="icon-email2"></i></a>
                                                        <a class="color000 dInlineBlock pl10"
                                                            tooltip="{{item.initData.website || 'Not Available'}}"
                                                            placement="bottom" href="JavaScript:void(0)"
                                                            (click)="opensupplierWeb(item.id);$event.stopPropagation()"><i
                                                                class="icon-website"></i></a>
                                                        <!-- Open Phone Popup -->
                                                        <div class="dropdown-content supContactBox forPhone"
                                                            *ngIf="item.initData.supplierPhoneOpen"
                                                            style="display: block;">
                                                            <div class="supContactBoxWrapper">
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="closesupplierPhone(item.id)"
                                                                    class="color000 font9 closeIcon">
                                                                    <i class="icon-close"></i>
                                                                </a>
                                                                <p
                                                                    class="font12 fontPoppin fontSemiBold color000 lineHeight1point2">
                                                                    Phone</p>
                                                                <a href="tel:{{item.initData.supplier_company_phone}}"
                                                                    class="dtableCell wd100Percent font11 fontPoppin fontSemiBold500 color000">
                                                                    {{item.initData.supplier_company_phone || 'Not Available'}}
                                                                </a>
                                                                <span
                                                                    (click)="copyText(item.initData.supplier_company_phone)"
                                                                    class="cursorPointer dtableCell text-right pl10 valignMiddle color000 font10"><i
                                                                        class="fas fa-copy"></i></span>
                                                            </div>
                                                        </div>
                                                        <!-- Open Email Popup -->
                                                        <div class="dropdown-content supContactBox forEmail"
                                                            *ngIf="item.initData.supplierEmailOpen"
                                                            style="display: block;">
                                                            <div class="supContactBoxWrapper">
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="closesupplierEmail(item.id)"
                                                                    class="color000 font9 closeIcon">
                                                                    <i class="icon-close"></i>
                                                                </a>
                                                                <p
                                                                    class="font12 fontPoppin fontSemiBold color000 lineHeight1point2">
                                                                    Email</p>
                                                                <a href="mailto:{{item.initData.supplier_email}}"
                                                                    target="_blank"
                                                                    class="dtableCell wd100Percent font11 fontPoppin fontSemiBold500 color000">
                                                                    {{item.initData.supplier_email || 'Not Available'}}
                                                                </a>
                                                                <span (click)="copyText(item.initData.supplier_email)"
                                                                    class="cursorPointer dtableCell pl10 valignMiddle color000 font10"><i
                                                                        class="fas fa-copy"></i></span>
                                                            </div>
                                                        </div>
                                                        <!-- Open Website Popup -->
                                                        <div class="dropdown-content supContactBox forWeb"
                                                            *ngIf="item.initData.supplierWebOpen"
                                                            style="display: block;">
                                                            <div class="supContactBoxWrapper">
                                                                <a href="JavaScript:void(0)"
                                                                    (click)="closesupplierWeb(item.id)"
                                                                    class="color000 font9 closeIcon">
                                                                    <i class="icon-close"></i>
                                                                </a>
                                                                <p
                                                                    class="font12 fontPoppin fontSemiBold color000 lineHeight1point2">
                                                                    Website</p>
                                                                <a href="{{item.initData.website}}" target="_blank"
                                                                    class="dtableCell wd100Percent font11 fontPoppin fontSemiBold500 color000">
                                                                    {{item.initData.website || 'Not Available'}}
                                                                </a>
                                                                <span (click)="copyText(item.initData.website)"
                                                                    class="cursorPointer dtableCell color000 pl10 valignMiddle font10"><i
                                                                        class="fas fa-copy"></i></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="catBottom text-center">
                                                        <a (click)="supplierInfoDetail(item.initData)"
                                                            href="JavaScript:void(0)" tooltip="More Information"
                                                            placement="bottom" class="color808080 font12">
                                                            <i class="fas fa-info-circle"></i>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                    <bs-sortable [(ngModel)]="addSupplierToList" [itemTemplate]="itemTemplate"
                                        itemClass="sortable-item dInlinetable wd140px posRelative m6"
                                        itemActiveClass="sortable-item-active" placeholderItem="Drag here"
                                        placeholderClass="placeholderStyle"
                                        wrapperClass="sortable-wrapper dtable wd100Percent text-left">
                                    </bs-sortable>
                                </div>
                            </div>
                            <div class="bottomActionBar">
                                <div class="dtableCell wd60percent">
                                    <div class="filterLinks pOfilter bottomBarFilter newfilters noposRelative">
                                        <label>Quick filter:</label>
                                        <div class="filterWhenActive dInlineBlock">
                                            <a (click)='isVerifySupplierFun()' tooltip="Verified suppliers"
                                                placement="top" href="JavaScript:void(0)" class="color000">
                                                <i class="icon-verify_supplier"
                                                    [ngClass]="{'temp':isVerifySupplier}"></i>
                                            </a>
                                            <a (click)='unlinkProductFun()' tooltip="Unlink products" placement="top"
                                                href="JavaScript:void(0)" class="color000">
                                                <i class="icon-unlink-products" [ngClass]="{'temp':unlinkProduct}"
                                                    aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="dtableCell wd40percent text-right">
                                    <a href="JavaScript:void(0)" class="innerStatusBtns noFloat dInlineBlock"
                                        (click)="addSupplierDataBtn()">Add Supplier</a>
                                    <div class="btn-group settingBtn">
                                        <a class="innerStatusBtns dInlineBlock minWd30px" href="JavaScript:void(0)"
                                            (click)="openSupplierSettings();$event.stopPropagation()">
                                            <i class="icon-settings"></i>
                                        </a>
                                        <div class="dropdown-content settingOptions listItemsThree"
                                            *ngIf="supplierSettingsOpen" style="display: block;">
                                            <ul *ngIf="activeArchived=='active'">
                                                <li (click)="openImportModal(open_importSupplier, 'box-importPO','Supplier(s)')"
                                                    (click)="changeValue('selectParentAccount','Import Supplier(s)')"
                                                    role="menuitem">
                                                    <a class="dropdown-item noFloat">Import Supplier(s)</a>
                                                </li>
                                                <li (click)='exportSupliers()'
                                                    (click)="changeValue('selectParentAccount','Export Supplier')"
                                                    role="menuitem"><a class="dropdown-item noFloat">Export
                                                        Supplier(s)</a>
                                                </li>
                                                <li (click)="openDeleteAllSupModal(open_removeAllSupplier,'custModal wd210',sup)"
                                                    (click)="changeValue('selectParentAccount','Archive Supplier(s)')"
                                                    role="menuitem"><a class="dropdown-item noFloat">Archive
                                                        Supplier(s)</a>
                                                </li>
                                            </ul>
                                            <ul *ngIf="activeArchived!='active'">
                                                <li (click)='exportSupliers()'
                                                    (click)="changeValue('selectParentAccount','Export Supplier')"
                                                    role="menuitem"><a class="dropdown-item noFloat">Export
                                                        Supplier(s)</a>
                                                </li>
                                                <li (click)="openActiveSupModal(open_activeSupplier,'custModal wd210',sup)"
                                                    (click)="changeValue('selectParentAccount','Active Supplier(s)')"
                                                    role="menuitem"><a class="dropdown-item noFloat">Active
                                                        Supplier(s)</a>
                                                </li>
                                                <li (click)="openPermanentDeleteSuppModal(open_permanentDeleteSupplier, 'custModal wd210',sup)"
                                                    (click)="changeValue('selectParentAccount','Delete Supplier(s) Permanently')"
                                                    role="menuitem">
                                                    <a class="dropdown-item noFloat">Delete Supplier(s) Permanently</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Supplier Information -->
                        <div *ngIf="cutomerInfo" id="customer-info">
                            <!-- <div *ngIf='infoLoader==true' class="luna-loading"></div> midtopOverflow -->
                            <div class="topBar dtable wd100Percent posRelative zIndex3">
                                <div class="dtableCell wd70percent">
                                    <a href="JavaScript:void(0)" (click)="BackBtn('cutomerInfo','existingSuppliers')"
                                        class="back-cust-list dInlineBlock">Back</a>
                                    <h2 class="maxWidth300 dotedOverflow valignMiddle color000 mb0 font14 fontSemiBold fontPoppin dInlineBlock"
                                        tooltip="{{currentSupplier?.supplier_company}}" placement="bottom">
                                        {{currentSupplier?.supplier_company}}</h2>
                                    <span *ngIf="currentSupplier.is_verify_supplier"
                                        class="colorGreen font16 lineHeight08 dInlineBlock pl10 valignMiddle"
                                        tooltip="Verified" placement="bottom"><i
                                            class="icon-verify_supplier"></i></span>
                                </div>
                                <div class="dtableCell wd30percent text-right">
                                    <div class="iconActionBox archiveSupp">
                                        <a (click)="openRemoveSupplierModal(open_removesupplier,'custModal wd210',sup)">
                                            <div class="icon-img">
                                                <i class="icon-archive"></i>
                                                <div class="text-img"><span>Archive</span></div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="iconActionBox editSupp">
                                        <a (click)="editSupplierDataBtn(currentSupplier)">
                                            <div class="icon-img">
                                                <i class="icon-edit"></i>
                                                <div class="text-img"><span>Edit</span></div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="cust-info-inner customer-details clientDetails supDetailBox">
                                <div class="mid subMainMid">
                                    <div class="row m0">
                                        <div class="col-md-12 noborderBottom pl0">
                                            <span
                                                class="dInlineBlock wd100Percent color000 font12 fontSemiBold fontPoppin mb10 mt10 bundleLine CustomerLine posRelative">General
                                                Data
                                            </span>
                                            <table class="table info-t mt5 mb0" style="width:100%">
                                                <tbody>
                                                    <tr colspan="2">
                                                        <td class="valignMiddle padding5px">ID:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <a class="color000 textUndeline paddCustom"
                                                                href="tel:{{currentSupplier?.supplier_company_phone}}">
                                                                {{currentSupplier?.supplier_keeping_unit || 'N/A'}}
                                                            </a>
                                                        </td>
                                                        <td class="valignMiddle padding5px">Address 1:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <span class="paddCustom">
                                                                {{currentSupplier?.address_1 || 'N/A'}}
                                                            </span>
                                                        </td>
                                                    </tr>
                                                    <tr colspan="2">
                                                        <td class="valignMiddle padding5px">Phone Number:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <a class="color000 textUndeline paddCustom"
                                                                href="tel:{{currentSupplier?.supplier_company_phone}}">
                                                                {{currentSupplier?.supplier_company_phone || 'N/A'}}
                                                            </a>
                                                        </td>
                                                        <td class="valignMiddle padding5px">Address 2:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <span class="paddCustom">
                                                                {{currentSupplier?.address_2 || 'N/A'}}
                                                            </span>
                                                        </td>
                                                    </tr>
                                                    <tr colspan="2">
                                                        <td class="valignMiddle padding5px">Company Email:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <a class="color000 textUndeline paddCustom" target="_blank"
                                                                href="mailto:{{currentSupplier?.supplier_company_email}}">
                                                                {{currentSupplier?.supplier_company_email || 'N/A'}}
                                                            </a>
                                                        </td>
                                                        <td class="valignMiddle padding5px">City:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <span class="paddCustom">{{currentSupplier?.city || 'N/A'}}
                                                            </span>
                                                        </td>
                                                    </tr>
                                                    <tr colspan="2">
                                                        <td class="valignMiddle padding5px">Website:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <a class="color000 textUndeline paddCustom" target="_blank"
                                                                href="{{currentSupplier?.website}}">
                                                                {{currentSupplier?.website || 'N/A'}}
                                                            </a>
                                                        </td>
                                                        <td class="valignMiddle padding5px">State:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <span
                                                                class="paddCustom">{{currentSupplier?.state || 'N/A'}}</span>
                                                        </td>
                                                    </tr>
                                                    <tr colspan="2">
                                                        <td class="valignMiddle padding5px">Buyback:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <span *ngIf='currentSupplier?.is_buyback'
                                                                class="paddCustom">Active</span>
                                                            <span *ngIf='!currentSupplier?.is_buyback'
                                                                class="paddCustom">Inactive</span>
                                                        </td>
                                                        <td class="valignMiddle padding5px">Zip Code:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <span
                                                                class="paddCustom">{{currentSupplier?.zip_code || 'N/A'}}</span>
                                                        </td>
                                                    </tr>
                                                    <tr colspan="2">
                                                        <td class="valignMiddle padding5px"></td>
                                                        <td class="valignMiddle padding5px">
                                                        </td>
                                                        <td class="valignMiddle padding5px">Country:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <span class="paddCustom">
                                                                {{currentSupplier?.Country?.name || 'N/A'}}
                                                            </span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <span
                                                class="dInlineBlock wd100Percent color000 font12 fontSemiBold fontPoppin mb10 mt10 bundleLine CustomerLine generalInfo posRelative">Contact
                                                Information
                                            </span>
                                            <table class="table info-t mt5 mb10" style="width:100%">
                                                <tbody>
                                                    <tr colspan="2">
                                                        <td class="valignMiddle padding5px">First Name:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <span
                                                                class="paddCustom">{{currentSupplier?.supplier_first_name || 'N/A'}}</span>
                                                        </td>
                                                        <td class="valignMiddle padding5px">Mobile Number:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <a class="color000 textUndeline paddCustom"
                                                                href="tel:{{currentSupplier?.supplier_mobile}}">
                                                                {{currentSupplier?.supplier_mobile || 'N/A'}}
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    <tr colspan="2">
                                                        <td class="valignMiddle padding5px">Last Name:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <span
                                                                class="paddCustom">{{currentSupplier?.supplier_last_name || 'N/A'}}</span>
                                                        </td>
                                                        <td class="valignMiddle padding5px">Email:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <a class="color000 textUndeline paddCustom"
                                                                href="mailto:{{currentSupplier?.supplier_email}}">
                                                                {{currentSupplier?.supplier_email || 'N/A'}}
                                                            </a>
                                                        </td>

                                                    </tr>
                                                    <tr colspan="2">
                                                        <td class="valignMiddle padding5px">Office Number:</td>
                                                        <td class="valignMiddle padding5px">
                                                            <a class="color000 textUndeline paddCustom"
                                                                href="tel:{{currentSupplier?.supplier_phone}}">
                                                                {{currentSupplier?.supplier_phone || 'N/A'}}
                                                            </a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="mid termsLists">
                                    <div class="bottom supDetailTabs supDtabs">
                                        <tabset #staticTabs>
                                            <tab heading="Summary" tabOrder="1">
                                                <div id="purchasehistory">
                                                    <div class="top-history summarytab">
                                                        <!-- <a (click)="seeAllOrder()">See all orders.</a> -->
                                                    </div>
                                                    <div class="bottom-history overflow166px">
                                                        <div class="row height73px">
                                                            <div class="col-lg-6">
                                                                <p class="color000">Active orders:</p>
                                                                <div class="inner-history sumDetailBox">
                                                                    <div class="right-history sumDetailcontent">
                                                                        <h2 class="wdauto">
                                                                            {{summaryDetail?.total_number_of_po }}</h2>
                                                                    </div>
                                                                    <div class="left-history sumDetailcontent">
                                                                        <p class="wdauto fontPoppin fontBold">P.O.</p>
                                                                    </div>
                                                                </div>
                                                                <div class="inner-history sumDetailBox">
                                                                    <div class="right-history sumDetailcontent">
                                                                        <h2 class="wdauto">
                                                                            {{summaryDetail?.total_number_of_rma }}</h2>
                                                                    </div>
                                                                    <div class="left-history sumDetailcontent">
                                                                        <p class="wdauto fontPoppin fontBold">RMA</p>
                                                                    </div>
                                                                </div>
                                                                <div class="inner-history sumDetailBox">
                                                                    <div class="right-history sumDetailcontent">
                                                                        <h2 class="wdauto">
                                                                            {{summaryDetail?.total_number_of_buyback }}
                                                                        </h2>
                                                                    </div>
                                                                    <div class="left-history sumDetailcontent">
                                                                        <p class="wdauto fontPoppin fontBold">Buyback
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6">
                                                                <p class="color000 pl10">Account Details</p>
                                                                <div class="inner-history p0 mx-auto">
                                                                    <div
                                                                        class="left-history text-right pr10 valignMiddle">
                                                                        <p class="wdauto fontPoppin fontBold">Store
                                                                            Credit:</p>
                                                                    </div>
                                                                    <div class="right-history text-left pl10">
                                                                        <h2 class="font14">
                                                                            {{summaryDetail?.store_credits |currency}}
                                                                        </h2>
                                                                    </div>
                                                                </div>
                                                                <div class="inner-history p0 mx-auto">
                                                                    <div
                                                                        class="left-history text-right pr10 valignMiddle">
                                                                        <p class="wdauto fontPoppin fontBold">Net Terms:
                                                                        </p>
                                                                    </div>
                                                                    <div class="right-history text-left pl10">
                                                                        <h2 class="font14">
                                                                            {{summaryDetail?.net_terms |currency}}</h2>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row height73px">
                                                            <div class="col-lg-6">
                                                                <div class="inner-history">
                                                                    <div class="left-history">
                                                                        <p>Average purchase per order:</p>
                                                                    </div>
                                                                    <div class="right-history  posRelative">
                                                                        <h2>{{summaryDetail?.average_purchase_per_order | currency}}
                                                                        </h2>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6">
                                                                <div class="inner-history">
                                                                    <div class="left-history">
                                                                        <p>Average number of items per P.O.:
                                                                        </p>
                                                                    </div>
                                                                    <div class="right-history posRelative">
                                                                        <h2>{{summaryDetail?.average_items_per_po}}
                                                                            Items
                                                                        </h2>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </tab>
                                            <tab heading="P.O." tabOrder="2">
                                                <div id="netterms" class="facturacionWrapper">
                                                    <div class="top-history">
                                                        <div class="dtable wd100Percent">
                                                            <div class="dtableCell wd50percent">
                                                                <div class="wd50percent dInlineBlock">
                                                                    <div id="discount-cat-btn" class="btn-group">
                                                                        <a (click)="supplierActiveOrders('active')"
                                                                            class="btn borderBRR0 borderTRR0 wd50percent "
                                                                            [ngClass]="{'active':supplierActivePO == 'active' , 'notActive':supplierActivePO != 'active'}">Active</a>
                                                                        <a (click)="supplierActiveOrders('completed')"
                                                                            class="btn borderTLR0 borderBLR0 wd50percent"
                                                                            [ngClass]="{'active':supplierActivePO != 'active', 'notActive':supplierActivePO == 'active'}">Completed</a>
                                                                    </div>
                                                                </div>
                                                                <div class="dInlineBlock wd50percent pl10 valignMiddle">
                                                                    <div class="filterLinks pOfilter newfilters">
                                                                        <label>Filter by:</label>
                                                                        <!-- When Active is Selected -->
                                                                        <div *ngIf="supplierActivePO == 'active'"
                                                                            class="filterWhenActive dInlineBlock">
                                                                            <a (click)="supplierArrivalFilters('Today')"
                                                                                tooltip="Arrives Today"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierArrivalsFilters == 'Today'}">
                                                                                <i class="icon-today"></i>
                                                                            </a>
                                                                            <a (click)="supplierArrivalFilters('Tomorrow')"
                                                                                tooltip="Arrives tomorrow"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierArrivalsFilters == 'Tomorrow'}">
                                                                                <i class="icon-tomorrow"></i>
                                                                            </a>
                                                                            <a tooltip="Set date range"
                                                                                placement="bottom"
                                                                                (click)="openModal(open_SupplierPODateRange, 'custModal wd400')"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierToDate !='' && supplierFromDate !='' }">
                                                                                <i class="icon-calendar_tickets"></i>
                                                                            </a>
                                                                        </div>
                                                                        <!-- When Completed is Selected -->
                                                                        <div *ngIf="supplierActivePO == 'completed'"
                                                                            class="filterWhenCompleted dInlineBlock">
                                                                            <a (click)="supplierArrivalFilters('ArrivalOnTime')"
                                                                                tooltip="Arrives on time"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierArrivalsFilters == 'ArrivalOnTime'}">
                                                                                <i class="icon-on_time"></i>
                                                                            </a>
                                                                            <a (click)="supplierArrivalFilters('ArrivalLate')"
                                                                                tooltip="Arrives Late"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierArrivalsFilters == 'ArrivalLate'}">
                                                                                <i class="icon-on_time"></i>
                                                                            </a>
                                                                            <a tooltip="Arrives Incomplete"
                                                                                placement="bottom"
                                                                                (click)="openModal(open_SupplierPODateRange, 'custModal wd400')"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierToDate !='' && supplierFromDate !='' }">
                                                                                <i class="icon-incomplete_a"></i>
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="dtableCell wd50percent">
                                                                <div class="valignMiddle  wd85Percent dInlinetable">
                                                                    <div class="search-field input-group">
                                                                        <input [ngModel]="supplierPOSearch"
                                                                            (ngModelChange)="serachSupplierPO($event)"
                                                                            type="text" class="form-control"
                                                                            placeholder="Search by P.O. ID, or date...">
                                                                        <a href="JavaScript:void(0)"
                                                                            class="input-group-addon">
                                                                            <i *ngIf="supplierPOSearch"
                                                                                (click)="supplierPOSearch=''"
                                                                                class="fas fa-times-circle"></i>
                                                                            <i class="icon-search"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="wd12Percent dInlinetable ml5 valignMiddle">
                                                                    <a tooltip="Clear filters" placement="bottom" (click)="clearSupplierFilters('PO')"
                                                                        href="JavaScript:void(0)"
                                                                        class="clearAllfilter"><i
                                                                            class="icon-clear_all"></i></a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="facturacionList">
                                                        <div [ngClass]="{'empty':supplierOrders.length==0}"
                                                            id="po-wrapper">
                                                            <div class="po-top-info">
                                                                <div class="inner wd25percent"><span>P.O Details</span>
                                                                </div>
                                                                <div class="inner wd25percent"><span>Tracking</span>
                                                                </div>
                                                                <div class="inner wd25percent"><span>Total</span></div>
                                                                <!-- <div class="inner wd20percent"><span>Status</span></div> -->
                                                                <div class="inner labelFilter wd25percent">
                                                                    <div class="btn-group" dropdown>
                                                                        <button id="button-animated" dropdownToggle
                                                                            type="button"
                                                                            class="btn dropdown-toggle statusFilter"
                                                                            aria-controls="dropdown-animated">{{statusFilter}}
                                                                            <span class="caret"></span>
                                                                        </button>
                                                                        <div class="filterDrop">
                                                                            <ul id="dropdown-animated" *dropdownMenu
                                                                                class="dropdown-menu supplierFilterUl"
                                                                                role="menu"
                                                                                aria-labelledby="button-animated">
                                                                                <li (click)="$event.stopPropagation()"
                                                                                    *ngFor="let status of allowedStatusesPO;let i = index;">
                                                                                    <input
                                                                                        [checked]="returnSelectedStatusesForSupplier(status)"
                                                                                        (click)="selectStatusToFilterSupplierPO($event,status)"
                                                                                        id="supplierstatus{{i + 1}}"
                                                                                        class="checkbox-custom"
                                                                                        name="supplierstatus{{i + 1}}"
                                                                                        type="checkbox">
                                                                                    <label for="supplierstatus{{i + 1}}"
                                                                                        [ngClass]="{'selected':returnSelectedStatusesForSupplier(status)}"
                                                                                        class="checkbox-custom-label">{{status}}</label>
                                                                                </li>
                                                                            </ul>
                                                                            <a (click)="getSupplierOrders()"
                                                                                href="JavaScript:void(0)"
                                                                                class="dBlock padding5 borderRadius5 doneFilter text-center">Done</a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="po-inner-list">
                                                                <div *ngIf="supplierLoaderPO" class="luna-loading">
                                                                </div>
                                                                <div class="empty-text">
                                                                    <h2>
                                                                        No PO Available
                                                                    </h2>
                                                                </div>
                                                                <ul>
                                                                    <li (dblclick)="openOrderDetail(pOrder)"
                                                                        *ngFor="let pOrder of supplierOrders">
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                class="m0">{{pOrder?.transaction_keeping_unit || 'Not Available'}}
                                                                                <i class="poDateStyle">
                                                                                    |
                                                                                    {{pOrder?.transaction_date | customDateFormat}}
                                                                                </i>
                                                                            </span>
                                                                        </div>
                                                                        <div class="inner wd25percent shippingTrack">
                                                                            <div class="shippingIcons">
                                                                                <a href="JavaScript:void(0)"
                                                                                    tooltip="{{pOrder?.shipping_tracking_no || 'Not Available'}}"
                                                                                    placement="bottom" target="_blank"
                                                                                    [ngClass]="{'noClick':pOrder?.dynamic_status?.status_name == 'Draft' || pOrder?.dynamic_status?.status_name == 'Paid' || pOrder?.dynamic_status?.status_name == 'Partial Payment'}"
                                                                                    class="color000 font12 dInlineBlock lineHeight08 pr10 m0">
                                                                                    <i class="fas fa-globe"></i>
                                                                                </a>
                                                                                <a (click)="copyText(pOrder?.shipping_tracking_no)"
                                                                                    href="JavaScript:void(0)"
                                                                                    tooltip="{{pOrder?.shipping_tracking_no || 'Not Available'}}"
                                                                                    placement="bottom"
                                                                                    [ngClass]="{'noClick':pOrder?.dynamic_status?.status_name == 'Draft' || pOrder?.dynamic_status?.status_name == 'Paid' || pOrder?.dynamic_status?.status_name == 'Partial Payment'}"
                                                                                    class="color000 font12 dInlineBlock lineHeight08 m0">
                                                                                    <i class="fas fa-copy"></i>
                                                                                </a>
                                                                                <span
                                                                                    *ngIf="pOrder?.ShippingType?.threshold <= pOrder?.total_amount && pOrder?.ShippingType != null"
                                                                                    class="color000 font12 dInlineBlock lineHeight08 m0 pl10">
                                                                                    <i class=" icon-free_shipping"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                        <div class="inner wd25percent">
                                                                            <span>{{pOrder?.total_amount | currency}}</span>
                                                                        </div>
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                [style.color]="pOrder?.dynamic_status?.status_font_color"
                                                                                [style.background-color]="pOrder?.dynamic_status?.status_background_color"
                                                                                class="status ml15 mr15">{{pOrder?.dynamic_status?.status_name | titlecase}}</span>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </tab>
                                            <tab heading="RMA" tabOrder="3">
                                                <div id="netterms" class="facturacionWrapper">
                                                    <div class="top-history">
                                                        <div class="dtable wd100Percent">
                                                            <div class="dtableCell wd50percent">
                                                                <div class="wd50percent dInlineBlock">
                                                                    <div id="discount-cat-btn" class="btn-group">
                                                                        <a (click)="supplierActiveRMAOrders('active')"
                                                                            class="btn borderBRR0 borderTRR0 wd50percent "
                                                                            [ngClass]="{'active':supplierActiveRMA == 'active' , 'notActive':supplierActiveRMA != 'active'}">Active</a>
                                                                        <a (click)="supplierActiveRMAOrders('completed')"
                                                                            class="btn borderTLR0 borderBLR0 wd50percent"
                                                                            [ngClass]="{'active':supplierActiveRMA != 'active', 'notActive':supplierActiveRMA == 'active'}">Completed</a>
                                                                    </div>
                                                                </div>
                                                                <div class="dInlineBlock wd50percent pl10 valignMiddle">
                                                                    <div class="filterLinks pOfilter newfilters">
                                                                        <label>Filter by:</label>
                                                                        <!-- When Active is Selected -->
                                                                        <div *ngIf="supplierActiveRMA == 'active'"
                                                                            class="filterWhenActive dInlineBlock">
                                                                            <a (click)="supplierRMAArrivalFilters('Today')"
                                                                                tooltip="Arrives Today"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierRMAArrivalsFilters == 'Today'}">
                                                                                <i class="icon-today"></i>
                                                                            </a>
                                                                            <a (click)="supplierRMAArrivalFilters('Tomorrow')"
                                                                                tooltip="Arrives tomorrow"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierRMAArrivalsFilters == 'Tomorrow'}">
                                                                                <i class="icon-tomorrow"></i>
                                                                            </a>
                                                                            <a tooltip="Set date range"
                                                                                placement="bottom"
                                                                                (click)="openModal(open_SupplierRMADateRange, 'custModal wd400')"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierRMAToDate !='' && supplierRMAFromDate !='' }">
                                                                                <i class="icon-calendar_tickets"></i>
                                                                            </a>
                                                                        </div>
                                                                        <!-- When Completed is Selected -->
                                                                        <div *ngIf="supplierActiveRMA == 'completed'"
                                                                            class="filterWhenCompleted dInlineBlock">
                                                                            <a (click)="supplierRMAArrivalFilters('ArrivalOnTime')"
                                                                                tooltip="Arrives on time"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierRMAArrivalsFilters == 'ArrivalOnTime'}">
                                                                                <i class="icon-on_time"></i>
                                                                            </a>
                                                                            <a (click)="supplierRMAArrivalFilters('ArrivalLate')"
                                                                                tooltip="Arrives Late"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierRMAArrivalsFilters == 'ArrivalLate'}">
                                                                                <i class="icon-on_time"></i>
                                                                            </a>
                                                                            <a tooltip="Arrives Incomplete"
                                                                                placement="bottom"
                                                                                (click)="openModal(open_SupplierRMADateRange, 'custModal wd400')"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierRMAToDate !='' && supplierRMAFromDate !='' }">
                                                                                <i class="icon-incomplete_a"></i>
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="dtableCell wd50percent">
                                                                <div class="valignMiddle  wd85Percent dInlinetable">
                                                                    <div class="search-field input-group">
                                                                        <input [ngModel]="supplierRMASearch"
                                                                            (ngModelChange)="serachSupplierRMA($event)"
                                                                            type="text" class="form-control"
                                                                            placeholder="Search by RMA ID, or date...">
                                                                        <a href="JavaScript:void(0)"
                                                                            class="input-group-addon">
                                                                            <i *ngIf="serachSupplierRMA"
                                                                                (click)="serachSupplierRMA=''"
                                                                                class="fas fa-times-circle"></i>
                                                                            <i class="icon-search"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="wd12Percent dInlinetable ml5 valignMiddle">
                                                                    <a tooltip="Clear filters" placement="bottom" (click)="clearSupplierFilters('RMA')"
                                                                        href="JavaScript:void(0)"
                                                                        class="clearAllfilter"><i
                                                                            class="icon-clear_all"></i></a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="facturacionList">
                                                        <div [ngClass]="{'empty':supplierRMAOrders.length==0}"
                                                            id="po-wrapper">
                                                            <div class="po-top-info">
                                                                <div class="inner wd25percent"><span>RMA Details</span>
                                                                </div>
                                                                <div class="inner wd25percent"><span>Estimated
                                                                        RMA</span></div>
                                                                <div class="inner wd25percent"><span>Total
                                                                        Refunded</span></div>
                                                                <div class="inner labelFilter wd25percent">
                                                                    <div class="btn-group" dropdown>
                                                                        <button id="button-animated" dropdownToggle
                                                                            type="button"
                                                                            class="btn dropdown-toggle statusFilter"
                                                                            aria-controls="dropdown-animated">{{statusFilter}}
                                                                            <span class="caret"></span>
                                                                        </button>
                                                                        <div class="filterDrop">
                                                                            <ul id="dropdown-animated" *dropdownMenu
                                                                                class="dropdown-menu supplierFilterUl"
                                                                                role="menu"
                                                                                aria-labelledby="button-animated">
                                                                                <li (click)="$event.stopPropagation()"
                                                                                    *ngFor="let status of allowedStatusesRMA;let i = index;">
                                                                                    <input
                                                                                        [checked]="returnSelectedStatusesForSupplierRMA(status)"
                                                                                        (click)="selectStatusToFilterSupplierRMA($event,status)"
                                                                                        id="status{{i + 1}}"
                                                                                        class="checkbox-custom"
                                                                                        name="status{{i + 1}}"
                                                                                        type="checkbox">
                                                                                    <label for="status{{i + 1}}"
                                                                                        [ngClass]="{'selected':returnSelectedStatusesForSupplierRMA(status)}"
                                                                                        class="checkbox-custom-label">{{status}}</label>
                                                                                </li>
                                                                            </ul>
                                                                            <a (click)="getSupplierRMAOrders()"
                                                                                href="JavaScript:void(0)"
                                                                                class="dBlock padding5 borderRadius5 doneFilter text-center">Done</a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="po-inner-list">
                                                                <div *ngIf="supplierLoaderRMA" class="luna-loading">
                                                                </div>
                                                                <div class="empty-text">
                                                                    <h2>
                                                                        No RMA Available
                                                                    </h2>
                                                                </div>
                                                                <ul>
                                                                    <li (dblclick)="openOrderDetail(rma)"
                                                                        *ngFor="let rma of supplierRMAOrders; let i = index;">
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                class="m0">{{rma?.transaction_keeping_unit || 'Not Available'}}
                                                                                <i class="poDateStyle">|
                                                                                    {{rma?.transaction_date | customDateFormat}}</i></span>
                                                                        </div>
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                *ngIf="rma?.dynamic_status?.status_name != 'Draft'">{{rma?.total_amount | currency}}</span>
                                                                            <span
                                                                                *ngIf="rma?.dynamic_status?.status_name == 'Draft'"
                                                                                class="color808080">No
                                                                                Information</span>
                                                                        </div>
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                *ngIf="rma?.dynamic_status?.status_name != 'Draft'">{{rma?.remaining_amount | currency}}</span>
                                                                            <span
                                                                                *ngIf="rma?.dynamic_status?.status_name == 'Draft'"
                                                                                class="color808080">No
                                                                                Information</span>
                                                                        </div>
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                [style.color]="rma?.dynamic_status?.status_font_color"
                                                                                [style.background-color]="rma?.dynamic_status?.status_background_color"
                                                                                class="status ml15 mr15">{{rma?.dynamic_status?.status_name | titlecase}}</span>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </tab>
                                            <tab heading="Buyback" tabOrder="4">
                                                <div id="netterms" class="facturacionWrapper">
                                                    <div class="top-history">
                                                        <div *ngIf="currentSupplier?.is_buyback"
                                                            class="dtable wd100Percent">
                                                            <div class="dtableCell wd50percent">
                                                                <div class="wd50percent dInlineBlock">
                                                                    <div id="discount-cat-btn" class="btn-group">
                                                                        <a (click)="supplierActiveBBOrders('active')"
                                                                            class="btn borderBRR0 borderTRR0 wd50percent "
                                                                            [ngClass]="{'active':supplierActiveBB == 'active' , 'notActive':supplierActiveBB != 'active'}">Active</a>
                                                                        <a (click)="supplierActiveBBOrders('completed')"
                                                                            class="btn borderTLR0 borderBLR0 wd50percent"
                                                                            [ngClass]="{'active':supplierActiveBB != 'active', 'notActive':supplierActiveBB == 'active'}">Completed</a>
                                                                    </div>
                                                                </div>
                                                                <div class="dInlineBlock wd50percent pl10 valignMiddle">
                                                                    <div class="filterLinks pOfilter newfilters">
                                                                        <label>Filter by:</label>
                                                                        <!-- When Active is Selected -->
                                                                        <div *ngIf="supplierActiveBB == 'active'"
                                                                            class="filterWhenActive dInlineBlock">
                                                                            <a (click)="supplierBBArrivalFilters('Today')"
                                                                                tooltip="Arrives Today"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierBBArrivalsFilters == 'Today'}">
                                                                                <i class="icon-today"></i>
                                                                            </a>
                                                                            <a (click)="supplierBBArrivalFilters('Tomorrow')"
                                                                                tooltip="Arrives tomorrow"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierBBArrivalsFilters == 'Tomorrow'}">
                                                                                <i class="icon-tomorrow"></i>
                                                                            </a>
                                                                            <a tooltip="Set date range"
                                                                                placement="bottom"
                                                                                (click)="openModal(open_SupplierBUYDateRange, 'custModal wd400')"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierBBToDate !='' && supplierBBFromDate !='' }">
                                                                                <i class="icon-calendar_tickets"></i>
                                                                            </a>
                                                                        </div>
                                                                        <!-- When Completed is Selected -->
                                                                        <div *ngIf="supplierActiveBB == 'completed'"
                                                                            class="filterWhenCompleted dInlineBlock">
                                                                            <a (click)="supplierBBArrivalFilters('ArrivalOnTime')"
                                                                                tooltip="Arrives on time"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierBBArrivalsFilters == 'ArrivalOnTime'}">
                                                                                <i class="icon-on_time"></i>
                                                                            </a>
                                                                            <a (click)="supplierBBArrivalFilters('ArrivalLate')"
                                                                                tooltip="Arrives Late"
                                                                                placement="bottom"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierBBArrivalsFilters == 'ArrivalLate'}">
                                                                                <i class="icon-on_time"></i>
                                                                            </a>
                                                                            <a tooltip="Arrives Incomplete"
                                                                                placement="bottom"
                                                                                (click)="openModal(open_SupplierBUYDateRange, 'custModal wd400')"
                                                                                href="JavaScript:void(0)"
                                                                                class="color000"
                                                                                [ngClass]="{'active': supplierBBToDate !='' && supplierBBFromDate !='' }">
                                                                                <i class="icon-incomplete_a"></i>
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="dtableCell wd50percent">
                                                                <div class="valignMiddle  wd85Percent dInlinetable">
                                                                    <div class="search-field input-group">
                                                                        <input [ngModel]="supplierBBSearch"
                                                                            (ngModelChange)="serachSupplierBB($event)"
                                                                            type="text" class="form-control"
                                                                            placeholder="Search by buyback ID, or date...">
                                                                        <a href="JavaScript:void(0)"
                                                                            class="input-group-addon">
                                                                            <i *ngIf="supplierBBSearch"
                                                                                (click)="supplierBBSearch=''"
                                                                                class="fas fa-times-circle"></i>
                                                                            <i class="icon-search"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="wd12Percent dInlinetable ml5 valignMiddle">
                                                                    <a tooltip="Clear filters" placement="bottom" (click)="clearSupplierFilters('BB')"
                                                                        href="JavaScript:void(0)"
                                                                        class="clearAllfilter"><i
                                                                            class="icon-clear_all"></i></a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="!currentSupplier?.is_buyback"
                                                            class="ifDeactiveSupp">
                                                            <p
                                                                class="text-left dInlineBlock valignMiddle color000 font12 lineHeight30px fontSemiBold fontPoppin pr15">
                                                                Would you like to activate this field?</p>
                                                            <a href="JavaScript:void(0)"
                                                                (click)="changeSupplierIsBuyBack(currentSupplier,true)"
                                                                class="activateSupp dInlineBlock">Activate</a>
                                                        </div>
                                                    </div>
                                                    <div class="facturacionList">
                                                        <div *ngIf="currentSupplier?.is_buyback"
                                                            [ngClass]="{'empty':supplierBBOrders.length==0}"
                                                            id="po-wrapper">
                                                            <div class="po-top-info">
                                                                <div class="inner wd25percent"><span>Buyback
                                                                        Details</span></div>
                                                                <div class="inner wd25percent"><span>Estimated
                                                                        PayOut</span></div>
                                                                <div class="inner wd25percent"><span>Total PayOut</span>
                                                                </div>
                                                                <div class="inner labelFilter wd25percent">
                                                                    <div class="btn-group" dropdown>
                                                                        <button id="button-animated" dropdownToggle
                                                                            type="button"
                                                                            class="btn dropdown-toggle statusFilter"
                                                                            aria-controls="dropdown-animated">{{statusFilter}}
                                                                            <span class="caret"></span>
                                                                        </button>
                                                                        <div class="filterDrop">
                                                                            <ul id="dropdown-animated" *dropdownMenu
                                                                                class="dropdown-menu supplierFilterUl"
                                                                                role="menu"
                                                                                aria-labelledby="button-animated">
                                                                                <li (click)="$event.stopPropagation()"
                                                                                    *ngFor="let status of allowedStatusesBB;let i = index;">
                                                                                    <input
                                                                                        [checked]="returnSelectedStatusesForSupplierBB(status)"
                                                                                        (click)="selectStatusToFilterSupplierBB($event,status)"
                                                                                        id="status{{i + 1}}"
                                                                                        class="checkbox-custom"
                                                                                        name="status{{i + 1}}"
                                                                                        type="checkbox">
                                                                                    <label for="status{{i + 1}}"
                                                                                        [ngClass]="{'selected':returnSelectedStatusesForSupplierBB(status)}"
                                                                                        class="checkbox-custom-label">{{status}}</label>
                                                                                </li>
                                                                            </ul>
                                                                            <a (click)="getSupplierBBOrders()"
                                                                                href="JavaScript:void(0)"
                                                                                class="dBlock padding5 borderRadius5 doneFilter text-center">Done</a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="po-inner-list">
                                                                <div *ngIf="supplierLoaderBB" class="luna-loading">
                                                                </div>
                                                                <div class="empty-text">
                                                                    <h2>
                                                                        No Buyback Available
                                                                    </h2>
                                                                </div>
                                                                <ul>
                                                                    <li (dblclick)="openOrderDetail(bb)"
                                                                        *ngFor="let bb of supplierBBOrders; let i = index;">
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                class="m0">{{bb?.transaction_keeping_unit || 'Not Available'}}
                                                                                <i class="poDateStyle">|
                                                                                    {{bb?.transaction_date | customDateFormat}}</i></span>
                                                                        </div>
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                *ngIf="bb?.dynamic_status?.status_name != 'Draft'">{{bb?.total_amount | currency}}</span>
                                                                            <span
                                                                                *ngIf="bb?.dynamic_status?.status_name == 'Draft'"
                                                                                class="color808080">No
                                                                                Information</span>
                                                                        </div>
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                *ngIf="bb?.dynamic_status?.status_name != 'Draft'">{{bb?.remaining_amount | currency}}</span>
                                                                            <span
                                                                                *ngIf="bb?.dynamic_status?.status_name == 'Draft'"
                                                                                class="color808080">No
                                                                                Information</span>
                                                                        </div>
                                                                        <div class="inner wd25percent">
                                                                            <span
                                                                                [style.color]="bb?.dynamic_status?.status_font_color"
                                                                                [style.background-color]="bb?.dynamic_status?.status_background_color"
                                                                                class="status ml15 mr15">{{bb?.dynamic_status?.status_name | titlecase}}</span>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="!currentSupplier?.is_buyback"
                                                            class="ifDeactiveSuppNote">
                                                            <div class="innerNote text-center">
                                                                <h2
                                                                    class="dBlock valignMiddle fontPoppin fontSemiBold color000 font22">
                                                                    Buyback order list</h2>
                                                                <p class="fontPoppin color808080 font14">To see other
                                                                    buyback orders, you have to activate this section.
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </tab>
                                            <tab heading="Net Terms" tabOrder="5">
                                                <div id="netterms">
                                                    <div class="top-history">
                                                        <div class="dtable wd100Percent pt5">
                                                            <div class="dtableCell wd60percent">
                                                                <p class="dInlineBlock valignMiddle color000 font11">
                                                                    Credit Limit <span
                                                                        class="colorGreen fontSemiBold">{{selectedSuppNettermLogs?.creditLimit |currency}}</span>
                                                                </p>
                                                                <p
                                                                    class="dInlineBlock valignMiddle pl15 pr15 color000 font11">
                                                                    Used Credit <span
                                                                        class="colorGreen fontSemiBold">{{selectedSuppNettermLogs?.usedCredit |currency}}</span>
                                                                </p>
                                                                <p class="dInlineBlock valignMiddle color000 font11">
                                                                    Overdue <span
                                                                        class="colorGreen fontSemiBold">{{selectedSuppNettermLogs?.overDue |currency}}</span>
                                                                </p>
                                                            </div>
                                                            <div class="dtableCell wd40percent text-right">
                                                                <div class="btnManageTerm dInlineBlock">
                                                                    <a href="JavaScript:void(0)"
                                                                        (click)="loadNetTerm()">Manage Net Terms</a>
                                                                </div>
                                                                <div class="btnManageTerm dInlineBlock ml5">
                                                                    <a href="JavaScript:void(0)"
                                                                        (click)="loadNetTermPayment()">Record
                                                                        Payment</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="facturacionList">
                                                        <div id="po-wrapper"
                                                            [ngClass]="{'empty': isObjectEmpty(suppNetTermsOrders)}">
                                                            <div class="po-top-info">
                                                                <div class="inner wd15percent"><span>Date</span></div>
                                                                <div class="inner wd15percent"><span>Days Left</span></div>
                                                                <div class="inner wd20percent"><span>Transaction Detail</span></div>
                                                                <div class="inner wd15percent"><span>Debit</span></div>
                                                                <div class="inner wd15percent"><span>Credit</span></div>
                                                                <div class="inner wd20percent"><span>Ledger Balance</span></div>
                                                            </div>
                                                            <div class="po-inner-list">
                                                                <div *ngIf="supplierLoaderPO" class="luna-loading">
                                                                </div>
                                                                <div class="empty-text">
                                                                    <h2>
                                                                        No Netterms Available
                                                                    </h2>
                                                                </div>
                                                                <ul>
                                                                    <li
                                                                        *ngFor="let selectedSuppNet of suppNetTermsOrders; let i = index">
                                                                        <div class="inner wd15percent">
                                                                            <span>{{selectedSuppNet?.date |customDateFormat  }}</span>
                                                                        </div>
                                                                        <div class="inner wd15percent">
                                                                            <span *ngIf="selectedSuppNet?.transactionNo[0]!='T'">
                                                                               <span *ngIf="selectedSuppNet?.is_overdue"  class="dec"> Overdue({{selectedSuppNet?.pay_term_number}})</span>
                                                                               <span *ngIf="!selectedSuppNet?.is_overdue" class="inc"> on time({{selectedSuppNet?.pay_term_number}})</span>
                                                                            </span>
                                                                            <span *ngIf="selectedSuppNet?.transactionNo[0]=='T'">--</span>
                                                                        </div>
                                                                        <div class="inner wd20percent">
                                                                            <span>{{selectedSuppNet?.transactionNo }}</span>
                                                                        </div>
                                                                        <div class="inner wd15percent">
                                                                            <span>{{selectedSuppNet?.debit_amount | currency}}</span>
                                                                        </div>
                                                                        <div class="inner wd15percent">
                                                                            <span>{{selectedSuppNet?.credit_amount | currency}}</span>
                                                                        </div>
                                                                        <div class="inner wd20percent">
                                                                            <span>{{selectedSuppNet?.balance | currency }}</span>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </tab>
                                            <tab heading="Store Credit" tabOrder="6" id="store-credit">
                                                <div id="internalcredit">
                                                    <div class="top-history">
                                                        <div class="dtable wd100Percent pt5">
                                                            <div class="dtableCell wd60percent">
                                                                <p class="dInlineBlock valignMiddle color000 font11">
                                                                    Store Credit <span
                                                                        class="colorGreen fontSemiBold">{{selectedSupplierForDetail?.supplier_store_credit[0].supplier_credit_amount | currency}}</span>
                                                                </p>
                                                            </div>
                                                            <div class="dtableCell wd40percent text-right">
                                                                <div class="btnManageTerm dInlineBlock">
                                                                    <a href="JavaScript:void(0)"
                                                                        (click)="loadStoreCredit()">Manage Credit</a>
                                                                </div>
                                                                <div class="btnManageTerm dInlineBlock ml5">
                                                                    <a href="JavaScript:void(0)"
                                                                        (click)="loadStoreTransCredit()">Transfer
                                                                        Credit</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="facturacionList">
                                                        <div id="po-wrapper"
                                                            [ngClass]="{'empty': isObjectEmpty(supplierCreditLogs)}">
                                                            <div class="po-top-info">
                                                                <div class="inner wd20percent"><span>Date</span></div>
                                                                <div class="inner wd20percent"><span>Order ID</span>
                                                                </div>
                                                                <div class="inner wd20percent"><span>Credit
                                                                        Balance</span></div>
                                                                <div class="inner wd20percent"><span>Added/
                                                                        Deducted</span></div>
                                                                <div class="inner wd20percent"><span>Transaction
                                                                        ID</span></div>
                                                            </div>
                                                            <div class="po-inner-list">
                                                                <div *ngIf="supplierLoaderPO" class="luna-loading">
                                                                </div>
                                                                <div class="empty-text">
                                                                    <h2>
                                                                        No Store credits Available
                                                                    </h2>
                                                                </div>
                                                                <ul *ngIf="!refreshCreditLogList">
                                                                    <li *ngFor="let log of supplierCreditLogs">
                                                                        <div class="inner wd20percent">
                                                                            <span>{{log.date | customDateFormat}}</span>
                                                                        </div>
                                                                        <div class="inner wd20percent">
                                                                            <span>{{log.order_id ? log.order_id : '--'}}</span>
                                                                        </div>
                                                                        <div class="inner wd20percent">
                                                                            <span>{{log.balance | currency}}</span>
                                                                        </div>
                                                                        <div class="inner wd20percent">
                                                                            <span>{{log.is_increase ? "":"-"}}{{log.amount | currency}}</span>
                                                                        </div>
                                                                        <div class="inner wd20percent">
                                                                            <span>{{log.transaction_no}}</span>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </tab>
                                            <tab heading="Shipping" tabOrder="7">
                                                <div id="netterms" class="facturacionWrapper">
                                                    <div class="top-history">
                                                        <div class="dtable wd100Percent">
                                                            <div class="dtableCell wd50percent">
                                                                <div class="wd50percent dInlineBlock">
                                                                    <div id="discount-cat-btn" class="btn-group wd100Percent">
                                                                        <a class="btn borderBRR0 borderTRR0 wd50percent active">Active</a>
                                                                        <a class="btn borderTLR0 borderBLR0 wd50percent notActive">Archived</a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="dtableCell wd50percent text-right">
                                                                <div class="btnManageTerm wd85Percent dInlinetable valignMiddle">
                                                                    <a  (click)="model_addSupplierShipType(open_addShippment, 'custModal wd600')" href="JavaScript:void(0)" class="dInlineBlock">Add shippment type</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="facturacionList" >
                                                        <div [ngClass]="{'empty':isObjectEmpty(supllierShippingType)}"
                                                            id="po-wrapper">
                                                            <div class="po-top-info">
                                                                <div class="inner wd25percent"><span>Shipping name</span></div>
                                                                <div class="inner wd25percent"><span>Shipping price</span></div>
                                                                <div class="inner wd20percent"><span>Delivery time</span></div>
                                                                <div class="inner wd20percent"><span>Threshold</span></div>
                                                                <div class="inner wd10percent"><span>Actions</span></div>
                                                            </div>
                                                            <div class="po-inner-list">
                                                                <div *ngIf="shipTypeLoader0" class="luna-loading"></div>
                                                                <div class="empty-text"><h2>No Shipping Available</h2></div>
                                                                <ul>
                                                                    <li *ngFor="let shipType of supllierShippingType; let i = index">
                                                                        <div class="inner wd25percent">
                                                                            <span class="m0">{{shipType.shipment_name | titlecase }}</span>
                                                                        </div>
                                                                        <div class="inner wd25percent">
                                                                            <span>{{shipType.shipment_price  ||'0.00' | currency}}</span>
                                                                        </div>
                                                                        <div class="inner wd20percent">
                                                                            <span>{{shipType.delivery_time_days}} Days</span>
                                                                        </div>
                                                                        <div class="inner wd20percent">
                                                                            <span>{{shipType.threshold  ||'0.00' | currency}}</span>
                                                                        </div>
                                                                        <div class="inner wd10percent">
                                                                            <div class="title-info">
                                                                                <a (click)="model_UpdateSupplierShipType(open_addShippment, 'custModal wd600',shipType)" href="JavaScript:void(0)" class="font12 color000"><i class="icon-edit"></i></a>
                                                                                <a (click)="openArchiveModal(open_archiveShippingMethod, 'custModal wd250',shipType)" href="JavaScript:void(0)" class="font12 pl10 color000"><i class="icon-archive"></i></a>
                                                                            </div>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </tab>
                                            <tab heading="Payments Type " tabOrder="8">
                                                <div id="internalcredit">
                                                    <div class="top-history">
                                                        <p
                                                            class="text-left color000 font12 lineHeight30px fontSemiBold fontPoppin">
                                                            Select the
                                                            type of payment that you have with this supplier</p>
                                                    </div>
                                                    <div class="row m0 paymentTypeHeight pt15 pb15">
                                                        <div class="col-md-6 noborderBottom pl50">
                                                            <div
                                                                *ngFor="let methods of supplierPaymentMethods; let i = index;">
                                                                <div *ngIf="i <= 2"
                                                                    class="content dtable mb10 wd100Percent">
                                                                    <div class="labelLeft dInlinetable wd50percent">
                                                                        <label
                                                                            class="color000 font11 fontPoppin fontSemiBold m0 dInlineBlock pr5">
                                                                            {{methods?.paymentType?.name | titlecase}}
                                                                        </label>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Credit Card'" class="icon-credit_card font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Cash'" class="icon-cash font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Check'" class="icon-check font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'PayPal'" class="icon-paypal font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Net Terms'" class="icon-net_terms font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Store Credit'" class="icon-store_credit font16px color000"></i>
                                                                    </div>
                                                                    <div id="discount-cat-btn"
                                                                        class="btn-group dInlinetable wd50percent height22px"
                                                                        role="group">
                                                                        <a [ngClass]="{'active': methods?.isActive , 'notActive':!methods?.isActive}"
                                                                            class="btn btn-sm font11 wd50percent lineHeight5px"
                                                                            (click)="updateSupplierPaymentMethod(methods , true)">Enable</a>
                                                                        <a [ngClass]="{'active':!methods?.isActive ,   'notActive':methods?.isActive}"
                                                                            class="btn btn-sm font11 wd50percent lineHeight5px"
                                                                            (click)="updateSupplierPaymentMethod(methods , false )">Disable</a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- <div class="content mb10">
                                                                <div class="labelLeft dInlinetable wd50percent">
                                                                    <label class="color000 font11 fontPoppin fontSemiBold m0 dInlineBlock pr5"> Checque</label>
                                                                    <img src="../../../../assets/images/check.png" class="dInlineBlock" alt="" width="35" />
                                                                </div>
                                                                <div id="discount-cat-btn" class="btn-group dInlinetable wd50percent height22px" role="group">
                                                                    <a [ngClass]="{'active':changeChecque , 'notActive':!changeChecque}" class="btn btn-sm font11 wd50percent lineHeight5px" (click)="changeVal('changeChecque','noChecqueSett')">Enable</a>
                                                                    <a [ngClass]="{'active':noChecqueSett ,   'notActive':!noChecqueSett}" class="btn btn-sm font11 wd50percent lineHeight5px" (click)="changeVal('noChecqueSett','changeChecque')">Disable</a>
                                                                </div>
                                                            </div>
                                                            <div class="content mb10">
                                                                <div class="labelLeft dInlinetable wd50percent">
                                                                    <label class="color000 font11 fontPoppin fontSemiBold m0 dInlineBlock pr5"> Cash</label>
                                                                    <img src="../../../../assets/images/cash.png" class="dInlineBlock" alt="" width="35" />
                                                                </div>
                                                                <div id="discount-cat-btn" class="btn-group dInlinetable wd50percent height22px" role="group">
                                                                    <a [ngClass]="{'active':changeCash , 'notActive':!changeCash}" class="btn btn-sm font11 wd50percent lineHeight5px" (click)="changeVal('changeCash','noCashSett')">Enable</a>
                                                                    <a [ngClass]="{'active':noCashSett ,   'notActive':!noCashSett}" class="btn btn-sm font11 wd50percent lineHeight5px" (click)="changeVal('noCashSett','changeCash')">Disable</a>
                                                                </div>
                                                            </div>
                                                            <div class="content mb10">
                                                                <div class="labelLeft dInlinetable wd50percent">
                                                                    <label class="color000 font11 fontPoppin fontSemiBold m0 dInlineBlock pr5"> Paypal</label>
                                                                    <img src="../../../../assets/images/paypal.png" class="dInlineBlock" alt="" width="12" />
                                                                </div>
                                                                <div id="discount-cat-btn" class="btn-group dInlinetable wd50percent height22px" role="group">
                                                                    <a [ngClass]="{'active':changePaypal , 'notActive':!changePaypal}" class="btn btn-sm font11 wd50percent lineHeight5px" (click)="changeVal('changePaypal','noPaypalSett')">Enable</a>
                                                                    <a [ngClass]="{'active':noPaypalSett ,   'notActive':!noPaypalSett}" class="btn btn-sm font11 wd50percent lineHeight5px" (click)="changeVal('noPaypalSett','changePaypal')">Disable</a>
                                                                </div>
                                                            </div>                                                             -->
                                                        </div>
                                                        <div class="col-md-6 noborderBottom pr50">
                                                            <div
                                                                *ngFor="let methods of supplierPaymentMethods; let i = index;">
                                                                <div *ngIf="i > 2" class="content mb10">
                                                                    <div class="labelLeft dInlinetable wd50percent">
                                                                        <label
                                                                            class="color000 font11 fontPoppin fontSemiBold m0 dInlineBlock pr5">
                                                                            {{methods?.paymentType?.name | titlecase}}
                                                                        </label>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Credit Card'" class="icon-credit_card font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Cash'" class="icon-cash font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Check'" class="icon-check font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'PayPal'" class="icon-paypal font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Net Terms'" class="icon-net_terms font16px color000"></i>
                                                                        <i *ngIf="methods?.paymentType?.name == 'Store Credit'" class="icon-store_credit font16px color000"></i>
                                                                    </div>
                                                                    <div id="discount-cat-btn"
                                                                        class="btn-group dInlinetable wd50percent height22px"
                                                                        role="group">
                                                                        <a [ngClass]="{'active':methods?.isActive , 'notActive':!methods?.isActive}"
                                                                            class="btn btn-sm font11 wd50percent lineHeight5px"
                                                                            (click)="updateSupplierPaymentMethod(methods , true )">Enable</a>
                                                                        <a [ngClass]="{'active':!methods?.isActive ,   'notActive':methods?.isActive}"
                                                                            class="btn btn-primary btn-sm font11 wd50percent lineHeight5px"
                                                                            (click)="updateSupplierPaymentMethod(methods , false )">Disable</a>
                                                                    </div>
                                                                </div>
                                                                <!-- <div class="content mb10">
                                                                    <div class="labelLeft dInlinetable wd50percent">
                                                                        <label class="color000 font11 fontPoppin fontSemiBold m0 dInlineBlock pr5"> Store Credit</label>
                                                                        <img src="../../../../assets/images/storecredit.png" class="dInlineBlock" alt="" width="35" />
                                                                    </div>
                                                                    <div id="discount-cat-btn" class="btn-group dInlinetable wd50percent height22px" role="group">
                                                                        <a [ngClass]="{'active':changestoreCredit , 'notActive':!changestoreCredit}" class="btn btn-sm font11 wd50percent lineHeight5px" (click)="changeVal('changestoreCredit','nostoreCreditSett')">Enable</a>
                                                                        <a [ngClass]="{'active':nostoreCreditSett ,   'notActive':!nostoreCreditSett}" class="btn btn-sm font11 wd50percent lineHeight5px" (click)="changeVal('nostoreCreditSett','changestoreCredit')">Disable</a>
                                                                    </div>
                                                                </div> -->
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </tab>
                                        </tabset>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Add/ Edit Supplier -->
                        <div *ngIf="addEditSupplier" class="addEditSupplier" id="new-customer">
                            <div *ngIf='addsupplierLoader' class="luna-loading"></div>
                            <div id="stock-supplier">
                                <div class="cut-search-area posRelative zIndex3">
                                    <div class="top-info">
                                        <h2
                                            class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd70percent">
                                            {{' '+compareSupplierCheck+' '}} the following data of your Supplier
                                        </h2>
                                    </div>
                                </div>
                            </div>
                            <form autocomplete="off" action="#" [formGroup]="addSupplierForm">
                                <div class="cust-inner">
                                    <div class="customer-form-content pt15">
                                        <div class="col-lg-12 noborderBottom pl0 pr0 pb15">
                                            <span
                                                class="dBlock wd100Percent color000 font12 fontSemiBold fontPoppin mb0 bundleLine CustomerLine posRelative">General
                                                Data</span>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.supplier_company.errors}"
                                                    for="sup_company">Company Name<sup>*</sup></label>
                                                <input autocomplete="off"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.supplier_company.errors}"
                                                    type="text" name="sup_company" id="sup_company"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="supplier_company"
                                                    placeholder="Type your supplier's name">
                                                <span class="field-error-msg"
                                                    *ngIf="submittedSupplier && faddSupplier.supplier_company.errors">
                                                    Company Name is Required</span>
                                            </div>
                                            <div class="col-lg-6">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.website.errors}"
                                                    for="sup_website">Website<sup>*</sup></label>
                                                <input (keypress)="UrlOnly($event)" autocomplete="off"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.website.errors}"
                                                    type="text" name="sup_website" id="sup_website"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="website"
                                                    placeholder="Type your supplier's website">
                                                <span class="field-error-msg"
                                                    *ngIf="submittedSupplier && faddSupplier.website.errors">
                                                    Website Name is Required</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.supplier_company_phone.errors}"
                                                    for="tel">Phone Number<sup>*</sup></label>
                                                    <!--  [preValue]="addSupplierForm.value.supplier_company_phone" phoneMask
                                                    [phoneControl]="addSupplierForm.controls['supplier_company_phone']" -->
                                                <input autocomplete="off" (keypress)="numberOnly($event)"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.supplier_company_phone.errors}"
                                                    (click)="emptySearchSSData()" type="text" name="sup_companyPh"
                                                   maxlength="14" (click)="changeValue('SupplierPhoneError',false)"
                                                    id="tel"  class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="supplier_company_phone"
                                                    placeholder="Type your supplier's phone number">
                                                <span class="field-error-msg"
                                                    *ngIf="submittedSupplier && faddSupplier.supplier_company_phone.errors">
                                                    Phone Number is Required</span>
                                            </div>
                                            <div class="col-lg-6">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.supplier_company_email.errors}"
                                                    for="sup_companyEmail">Company Email<sup>*</sup></label>
                                                <input autocomplete="off"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.supplier_company_email.errors}"
                                                    formControlName="supplier_company_email" type="text"
                                                    name="sup_email" id="sup_email"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    placeholder="Type your supplier's email">
                                                <span class="field-error-msg"
                                                    *ngIf="submittedSupplier && faddSupplier.supplier_company_email.errors">
                                                    Please enter valid email</span>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.address_1.errors}"
                                                    for="sup_address1">Address 1<sup>*</sup></label>
                                                <input autocomplete="off"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.address_1.errors}"
                                                    type="text" name="sup_address1" id="sup_address1"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="address_1" placeholder="Address 2">
                                                <span class="field-error-msg"
                                                    *ngIf="submittedSupplier && faddSupplier.address_1.errors">
                                                    Address 1 is Required</span>
                                            </div>
                                            <div class="col-lg-6">
                                                <label for="sup_address2">Address 2</label>
                                                <input autocomplete="off" type="text" name="sup_address2" id="sup_address2"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="address_2" placeholder="Address 1">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-4">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.city.errors}"
                                                    for="sup_city">City<sup>*</sup></label>
                                                <input autocomplete="off"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.city.errors}"
                                                    type="text" name="sup_city" id="sup_city"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="city" placeholder="Example: Statesville">
                                                <span class="field-error-msg"
                                                    *ngIf="submittedSupplier && faddSupplier.city.errors">
                                                    City is Required</span>
                                            </div>
                                            <div class="col-lg-4">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.state.errors}"
                                                    for="sup_state">State<sup>*</sup></label>
                                                <input autocomplete="off"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.state.errors}"
                                                    type="text" name="sup_state" id="sup_state"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="state" placeholder="Eample: North Carolina">
                                                <span class="field-error-msg"
                                                    *ngIf="submittedSupplier && faddSupplier.state.errors">
                                                    State is Required</span>
                                            </div>
                                            <div class="col-lg-4">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.zip_code.errors}"
                                                    for="sup_zipCode">Zip Code<sup>*</sup></label>
                                                <input autocomplete="off"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.zip_code.errors}"
                                                    type="text" (keypress)="numberOnly($event)" name="sup_zipCode"
                                                    id="sup_zipCode"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="zip_code" placeholder="Eample: 28677">
                                                <span class="field-error-msg"
                                                    *ngIf="submittedSupplier && faddSupplier.zip_code.errors">
                                                    Zip Code is Required</span>
                                            </div>
                                        </div>
                                        <div class="row mb15">
                                            <div class="col-lg-6">
                                                <label [ngClass]="{ 'is-invalid': submittedSupplier && countryId == ''}"
                                                    for="sup_country">Country<sup>*</sup></label>
                                                <div class="btn-group noborder" dropdown>
                                                    <button id="button-animated" dropdownToggle type="button"
                                                        class="btn cust-field font12 borderColorcbcbcb borderRadius5 color000 dropdown-toggle"
                                                        aria-controls="dropdown-animated">{{country}}
                                                        <span class="caret"></span>
                                                    </button>
                                                    <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu"
                                                        role="menu" aria-labelledby="button-animated">
                                                        <li *ngFor="let c of allCountries; let i =index"  (click)="changeSupplierCountry(c)"><a
                                                                class="dropdown-item">{{c.name}}
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <span class="field-error-msg country-err mt5"
                                                    *ngIf="submittedSupplier && countryId == ''">
                                                    Country Name is Required</span>
                                            </div>
                                            <div class="col-lg-6">
                                                <label for="sup_Buyback">Buyback<sup>*</sup></label>
                                                <div id="discount-cat-btn" class="btn-group noborder dInlineBlock">
                                                    <a (click)="isBuybackupdate(true)" class="btn wd50percent "
                                                        [ngClass]="{'active': isBuyback , 'notActive': !isBuyback}">Active</a>
                                                    <a (click)="isBuybackupdate(false)" class="btn wd50percent "
                                                        [ngClass]="{'active': !isBuyback , 'notActive': isBuyback}">Inactive</a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 noborderBottom pb15 pl0 pr0">
                                            <span
                                                class="dBlock wd100Percent color000 font12 fontSemiBold fontPoppin mb0 bundleLine CustomerLine generalInfo posRelative">Contact
                                                Information</span>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.supplier_first_name.errors}"
                                                    for="sup_firstName">First Name</label>
                                                <input autocomplete="off"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.supplier_first_name.errors}"
                                                    type="text" name="sup_firstName" id="sup_firstName"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="supplier_first_name" placeholder="Example: Keith">
                                            </div>
                                            <div class="col-lg-6">
                                                <label
                                                    [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.supplier_last_name.errors}"
                                                    for="sup_lastName">Last Name</label>
                                                <input autocomplete="off"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.supplier_last_name.errors}"
                                                    type="text" name="supplier_last_name" id="sup_lastName"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="supplier_last_name" placeholder="Example: Weedly">
                                            </div>
                                        </div>
                                        <div class="row mb15">
                                            <div class="col-lg-4">
                                                <!-- [preValue]="addSupplierForm.value.supplier_phone"
                                                [phoneControl]="addSupplierForm.controls['supplier_phone']" phoneMask -->
                                                <label for="officenum" [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.supplier_phone.errors}">Office Number</label>
                                                <input maxlength="14" type="text" name="sup_phNo"  autocomplete="off"
                                                     id="officenum" (keypress)="numberOnly($event)"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.supplier_phone.errors}"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="supplier_phone"
                                                    placeholder="Example: 704-495-7746">
                                            </div>
                                            <div class="col-lg-4">
                                                <!-- phoneMask  [phoneControl]="addSupplierForm.controls['supplier_mobile']"
                                                [preValue]="addSupplierForm.value.supplier_mobile" -->
                                                <label for="mobilenum" [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.supplier_mobile.errors}" >Mobile Number</label>
                                                <input maxlength="14" type="text" name="sup_mobNo"  autocomplete="off"
                                                     id="mobilenum" (keypress)="numberOnly($event)"
                                                    [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.supplier_mobile.errors}"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="supplier_mobile"
                                                    placeholder="Example: 704-495-7746">
                                            </div>
                                            <div class="col-lg-4">
                                                <label [ngClass]="{ 'is-invalid': submittedSupplier && faddSupplier.supplier_email.errors}"  for="sup_email2">Email</label>
                                                <input  type="text" autocomplete="off" [ngClass]="{ 'bounce': submittedSupplier && faddSupplier.supplier_email.errors}"
                                                    name="sup_email2" id="sup_email2"
                                                    class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                    formControlName="supplier_email"
                                                    placeholder="Example: keith@mobilepartsint.com">
                                                    <span class="field-error-msg"
                                                    *ngIf="submittedSupplier && faddSupplier.supplier_email.errors">
                                                    Please enter valid email</span>
                                            </div>
                                        </div>
                                         <!-- (focusout)="verifySupplierEmail('Add')" -->
                                         <!-- (click)="changeValue('supplierEmailError',false)" -->
                                    </div>
                                </div>
                                <div class="form-action-buttons">
                                    <div class="cust-btns text-right">
                                        <a *ngIf='!addSupplierForProduct'
                                            (click)="cancel('addEditSupplier','existingSuppliers')"
                                            class="cncl-btn-cust valignMiddle">Cancel</a>
                                        <a *ngIf='addSupplierForProduct' (click)="backToProduct()"
                                            class="cncl-btn-cust valignMiddle">Cancel</a>
                                        <button (click)="addsupplier(open_CompareSupplierData,'custModal wd600')"
                                            type="submit" class="btn btn-default noFloat ml10">Save</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- Net Terms  -->
                        <div *ngIf="createNote" id="customer-info">
                            <div class="termsCredit creditSec">
                                <div class="cut-search-area">
                                    <div class="top">
                                        <div class="lt">
                                            <a (click)="cancel('createNote','cutomerInfo')"
                                                class="back-cust-list">Back</a>
                                        </div>
                                        <div class="rt">
                                            <div id="discount-cat-btn" class="btn-group height31px dInlineBlock">
                                                <a (click)="loadNetTerm()" class="btn wd50percent active">Manage Net
                                                    terms</a>
                                                <a (click)="loadNetTermPayment()"
                                                    class="btn wd50percent notActive">Record Paynment</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="div-border noborderBottom Netborder-bottom bgWhite formScroll padding10px">
                                <div class="mb10">
                                    <div class="row m0 mb15 text-center">
                                        <div class="col-lg-3 pl0 noborderBottom">
                                            <p class="dInlineBlock valignMiddle color000 font11">Credit Limit <span
                                                    class="colorGreen fontSemiBold">{{selectedSuppNettermLogs?.creditLimit |currency}}</span>
                                            </p>
                                        </div>
                                        <div class="col-lg-3 pl0 noborderBottom">
                                            <p class="dInlineBlock valignMiddle color000 font11">Available Credit <span
                                                    class="colorGreen fontSemiBold">{{selectedSuppNettermLogs?.creditLimit - selectedSuppNettermLogs?.usedCredit |currency}}</span>
                                            </p>
                                        </div>
                                        <div class="col-lg-3 pl0 noborderBottom">
                                            <p class="dInlineBlock valignMiddle color000 font11">Used Credit <span
                                                    class="colorGreen fontSemiBold">{{selectedSuppNettermLogs?.usedCredit |currency}}</span>
                                            </p>
                                        </div>
                                        <div class="col-lg-3 p0 noborderBottom">
                                            <p class="dInlineBlock valignMiddle color000 font11">Overdue <span
                                                    class="colorGreen fontSemiBold">{{selectedSuppNettermLogs?.overDue |currency}}</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <form autocomplete="off" [formGroup]="netTermsForm">
                                    <div class="row m0">
                                        <div class="col-md-6 pl0">
                                            <label for="Increase-Decrease-Credit">Increase/Decrease
                                                Credit<sup>*</sup></label>
                                            <div class="btn-group" dropdown>
                                                <button id="button-animated" dropdownToggle type="button"
                                                    class="btn cust-field font12 borderColorcbcbcb borderRadius5 color000 dropdown-toggle"
                                                    aria-controls="dropdown-animated">{{inCredit}}
                                                    <span class="caret"></span>
                                                </button>
                                                <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu"
                                                    role="menu" aria-labelledby="button-animated">
                                                    <li (click)="changeValue('inCredit','Increase')" role="menuitem"><a
                                                            class="dropdown-item">Increase</a>
                                                    </li>
                                                    <li (click)="changeValue('inCredit','Decrease')" role="menuitem"><a
                                                            class="dropdown-item">Decrease</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 p0">
                                            <label
                                                [ngClass]="{ 'is-invalid': netTermsSubmitted && fNetTermsForm.credit_amount.errors}"
                                                for="amount">Amount<sup>*</sup></label>
                                            <input appTwoDigitDecimaNumber formControlName="credit_amount" type=""
                                                name="amount"
                                                [ngClass]="{ 'bounce': netTermsSubmitted && fNetTermsForm.credit_amount.errors}"
                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                placeholder="0.00">
                                            <span class="dollarSymbol">$</span>
                                            <span *ngIf="netTermsSubmitted && fNetTermsForm.credit_amount.errors"
                                                class="field-error-msg">
                                                Credit Amount Required
                                            </span>
                                        </div>
                                    </div>
                                    <div class="row m0">
                                        <div class="col-lg-6 pl0">
                                            <label
                                                [ngClass]="{ 'is-invalid': netTermsSubmitted && fNetTermsForm.days.errors}"
                                                for="days">Time of Credit Limit<sup>*</sup></label>
                                            <input (keypress)="numberOnly($event)" formControlName="days" type="text"
                                                name="days"
                                                [ngClass]="{ 'bounce': netTermsSubmitted && fNetTermsForm.days.errors}"
                                                class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                placeholder="Days">
                                            <span *ngIf="netTermsSubmitted && fNetTermsForm.days.errors"
                                                class="field-error-msg">
                                                days Required
                                            </span>
                                        </div>
                                        <div class="col-lg-6 p0">
                                            <label
                                                [ngClass]="{ 'is-invalid': netTermsSubmitted && fNetTermsForm.interest_rate.errors}"
                                                for="interest">Interest on late payment<sup>*</sup></label>
                                            <input appTwoDigitDecimaNumber formControlName="interest_rate" type="text"
                                                name="interest"
                                                [ngClass]="{ 'bounce': netTermsSubmitted && fNetTermsForm.interest_rate.errors}"
                                                class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                                                placeholder="">
                                            <span class="dollarSymbol">%</span>
                                            <span *ngIf="netTermsSubmitted && fNetTermsForm.interest_rate.errors"
                                                class="field-error-msg">
                                                Interest Rate Required
                                            </span>
                                        </div>
                                    </div>
                                    <div class="row m0">
                                        <div class="col-lg-6 pl0">
                                            <label for="note"
                                                [ngClass]="{ 'is-invalid':netTermsSubmitted && fNetTermsForm.note.errors}">Note<sup>*</sup></label>
                                            <input formControlName="note" type="text" name="note"
                                                [ngClass]="{ 'bounce': netTermsSubmitted && fNetTermsForm.note.errors}"
                                                class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                                                placeholder="Write a note...">
                                            <span *ngIf="netTermsSubmitted && fNetTermsForm.note.errors"
                                                class="field-error-msg">
                                                Note Required
                                            </span>
                                        </div>
                                        <div class="col-lg-6 p0">
                                            <label for="note">Date<sup>*</sup></label>
                                            <input type="text" formControlName="date" placeholder="Month/Day/Year"
                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius5"
                                                [bsConfig]="{showWeekNumbers:false, minDate: todayDate, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                                bsDatepicker placement="top" [isOpen]="isOpennettemsPicker">
                                            <span (click)="isOpennettemsPicker = !isOpennettemsPicker"
                                                class="datePickerIcon"></span>
                                        </div>
                                    </div>
                                    <div class="row m0">
                                        <div class="col-md-12">
                                            <button type="submit" [disabled]="netTermsLoader"
                                                (click)='saveNetTermsForm()' class="btnSubmit">Submit</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="div-border bggrey p0 borderWidth1pxSolid borderColor808080">
                                <div id="stock-supplier">
                                    <div id="po-wrapper">
                                        <div class="po-top-info">
                                            <div class="inner wd15percent"><span>Date</span></div>
                                            <div class="inner wd15percent"><span>Manage credit</span></div>
                                            <div class="inner wd15percent"><span>Amount</span></div>
                                            <div class="inner wd15percent"><span>Time of credit limit</span></div>
                                            <div class="inner wd15percent"><span>Intrest</span></div>
                                            <div class="inner wd15percent"><span>Credit Limit</span></div>
                                            <div class="inner wd25percent"><span>Notes</span></div>
                                        </div>
                                        <div class="po-inner-list">
                                            <ul>
                                                <li class=""
                                                    *ngFor="let selectedSuppNet of suppNetTermsOrders; let i = index">
                                                    <!-- <div class="inner wd15percent"><span
                                                            class="text-center">{{selectedSuppNet?.created_at |customDateFormat}}</span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <span>{{selectedSuppNet?.transactionNo}}</span></div>
                                                    <div class="inner wd15percent">
                                                        <span>{{selectedSuppNet?.debit_amount |currency}}</span></div>
                                                    <div class="inner wd15percent">
                                                        <span>{{selectedSuppNet?.credit_amount |currency}}</span></div>
                                                    <div class="inner wd25percent">
                                                        <span>{{selectedSuppNet?.note}}</span></div>
                                                    <div class="inner wd15percent">
                                                        <span>{{selectedSuppNet?.balance|currency}}</span></div>
                                                     -->
                                                     <div class="inner wd15percent">
                                                        <span>{{selectedSuppNet?.date |customDateFormat  }}</span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <span *ngIf="selectedSuppNet?.is_increase" class="inc" >Increase</span>
                                                        <span *ngIf="!selectedSuppNet?.is_increase" class="dec">Decrease</span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <span  *ngIf="selectedSuppNet?.is_increase" >{{selectedSuppNet?.credit_amount | currency}}</span>
                                                        <span  *ngIf="!selectedSuppNet?.is_increase" >{{selectedSuppNet?.debit_amount | currency}}</span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <span>{{selectedSuppNet?.pay_term_number }}</span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <span>{{selectedSuppNet?.interest_rate +"%"}}</span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <span>{{selectedSuppNet?.balance | currency }}</span>
                                                    </div>
                                                    <div class="inner wd20percent">
                                                        <span>{{selectedSuppNet?.note}}</span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Manage Payment -->
                        <div *ngIf="netTermsPayment" id="customer-info">
                            <div class="termsCredit creditSec">
                                <div class="cut-search-area">
                                    <div class="top">
                                        <div class="lt">
                                            <a (click)="cancel('createNote','cutomerInfo')"
                                                class="back-cust-list">Back</a>
                                        </div>
                                        <div class="rt">
                                            <div id="discount-cat-btn" class="btn-group height31px dInlineBlock">
                                                <a (click)="loadNetTerm()" class="btn wd50percent notActive">Manage Net
                                                    terms</a>
                                                <a (click)="loadNetTermPayment()" class="btn wd50percent active">Record
                                                    Paynment</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="section-checkout"
                                class="div-border noborderBottom Netborder-bottom formScroll padding10px">
                                <div *ngIf="netternPaymentLoader" class="luna-loading"></div>
                                <div class="checkout-right-wrapper">
                                    <div class="inner-contetnt">
                                        <div class="top">
                                            <p>Amount to pay</p>
                                            <h2>{{netternPaymentamount ||0 | currency }}</h2>
                                            <!-- <p>Not allocated: {{ priorPayment | currency }}</p> -->
                                        </div>
                                        <div class="mid">
                                            <div class="cash-btns">
                                                <a [ngClass]="{'active':boxCredit}" id="btn-credit" class="active"
                                                    (click)="changePay('boxCredit')">
                                                    <div class="credit">
                                                        <i class="icon-credit_card font18"></i>
                                                        <span>Credit Card</span>
                                                    </div>
                                                </a>
                                                <a [ngClass]="{'active':boxCash}" id="btn-cash"
                                                    (click)="changePay('boxCash')">
                                                    <div class="cash">
                                                        <i class="icon-cash font18"></i>
                                                        <span>Cash</span>
                                                    </div>
                                                </a>
                                                <a [ngClass]="{'active':boxCheck}" id="btn-check"
                                                    (click)="changePay('boxCheck')">
                                                    <div class="check">
                                                        <i class="icon-check font18"></i>
                                                        <span>Check</span>
                                                    </div>
                                                </a>
                                            </div>
                                            <div class="cash-btns right">
                                                <a [ngClass]="{'active':boxPaypal}" id="btn-net-term"
                                                    (click)="changePay('boxPaypal')">
                                                    <div class="credit">
                                                        <i class="icon-paypal font18"></i>
                                                        <span>PayPal</span>

                                                    </div>
                                                </a>
                                                <a [ngClass]="{'active':boxNetterm}" id="btn-store-credit"
                                                    (click)="changePay('boxNetterm')">
                                                    <div class="check">
                                                        <i class="icon-banck_account font18"></i>
                                                        <span>Bank Transfer</span>
                                                    </div>
                                                </a>
                                                <a [ngClass]="{'active':boxStorecredit}" id="btn-Paypal"
                                                    (click)="changePay('boxStorecredit')">
                                                    <div class="cash">
                                                        <i class="icon-store_credit font18"></i>
                                                        <span>Store Credit</span>

                                                    </div>
                                                </a>
                                            </div>
                                            <div *ngIf="noMethodSelected" class="inner ifNoSelected">
                                                <div class="ifDisable">
                                                    <span
                                                        class="color808080 pt15 pb15 mx-auto wd50percent font12 fontSemiBold dBlock fontPoppin">Select
                                                        one option to record your payment(s)</span>
                                                </div>
                                            </div>
                                            <div *ngIf="boxCredit" class="inner" id="box-credit">
                                                <div class="ifEnable">
                                                    <div class="scrollPayment">
                                                        <div class="text-field">
                                                            <label for="checkout-cardPaid">Amount Paid</label>
                                                            <input appTwoDigitDecimaNumber type="text"
                                                                [(ngModel)]="netternPaymentamount"
                                                                (focusout)="addpaymentAmout()" name="checkout-cardPaid"
                                                                class="form-control text-right cust-field font11 borderColorcbcbcb borderRadius10"
                                                                placeholder="$0.00">
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-cardUsed">Card Used</label>
                                                            <input type="text" name="checkout-cardUsed"
                                                                (keypress)="numberOnly($event)"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                [(ngModel)]="creditCardNo"
                                                                placeholder="Type the 4 digits for the credit card used"
                                                                maxlength="4">
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-paymentDate">Date payment was
                                                                realized</label>
                                                            <input type="text" [(ngModel)]="paymentDate"
                                                                placeholder="Month/Day/Year"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                [bsConfig]="{ isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY' , showWeekNumbers:false}"
                                                                bsDatepicker placement="top"
                                                                [isOpen]="isOpenpaymentDate">
                                                            <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                                                class="datePickerIcon"></span>
                                                        </div>
                                                    </div>
                                                    <div class="checkout-action">
                                                        <div [ngClass]="{'non-click' : creditCardNo=='' || paymentDate=='' ||netternPaymentamount==0}"
                                                            (click)="createNetTermPaymentFun('CreditCard')"
                                                            class="right">
                                                            <a class="checkout-btn-pay">Record Payment</a> </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="boxNetterm" class="inner" id="box-credit">
                                                <div class="ifEnable">
                                                    <div class="scrollPayment">
                                                        <div class="text-field">
                                                            <label for="checkout-checkPaidUsed">Bank and Account
                                                                Number</label>
                                                            <input [(ngModel)]="bankAccNo" type="text"
                                                                name="checkout-checkPaidUsed"
                                                                (keypress)="numberOnly($event)"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                placeholder="Example Bank xxxx xxxxxxxx xxxxx xxx">
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-paymentDate">Date payment was
                                                                realized</label>
                                                            <input type="text" [(ngModel)]="paymentDate"
                                                                placeholder="Month/Day/Year"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                [bsConfig]="{ isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY' , showWeekNumbers:false}"
                                                                bsDatepicker placement="top"
                                                                [isOpen]="isOpenpaymentDate">
                                                            <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                                                class="datePickerIcon"></span>
                                                        </div>
                                                    </div>
                                                    <div class="checkout-action">
                                                        <div [ngClass]="{'non-click' : bankAccNo=='' || paymentDate=='' ||netternPaymentamount==0}"
                                                            (click)="createNetTermPaymentFun('BankTransfer')"
                                                            class="right">
                                                            <a class="checkout-btn-pay">Record Payment</a> </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="boxCash" class="inner" id="box-cash">
                                                <div class="ifEnable">
                                                    <div class="scrollPayment">
                                                        <div class="text-field">
                                                            <label for="checkout-CashPaid">Amount Paid</label>
                                                            <input [(ngModel)]="netternPaymentamount" maxlength="20"
                                                                appTwoDigitDecimaNumber type="text"
                                                                (focusout)="addpaymentAmout()" name="checkout-CashPaid"
                                                                class="form-control text-right cust-field font11 borderColorcbcbcb borderRadius10"
                                                                placeholder="$0.00">
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-cashDrawer" class="valignMiddle">Cash
                                                                drawer</label>
                                                            <div class="btn-group wd100Percent" dropdown>
                                                                <button id="button-animated" dropdownToggle
                                                                    type="button"
                                                                    class="paymentDropBtn btn bgWhite cust-field font11 borderColorcbcbcb borderRadius10 color000 dropdown-toggle"
                                                                    aria-controls="dropdown-animated">{{changeCashDrawer}}
                                                                    <span class="caret"></span>
                                                                </button>
                                                                <ul id="dropdown-animated" *dropdownMenu
                                                                    class="dropdown-menu paymentDropUL" role="menu"
                                                                    aria-labelledby="button-animated">
                                                                    <li *ngFor="let reg of cashRegisterars;"
                                                                        (click)="selectCashRegisterar(reg)"
                                                                        role="menuitem"><a
                                                                            class="dropdown-item">{{reg?.name}}</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-paymentDate">Date payment was
                                                                realized</label>
                                                            <input type="text" [(ngModel)]="paymentDate"
                                                                placeholder="Month/Day/Year"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                                                bsDatepicker placement="top"
                                                                [isOpen]="isOpenpaymentDate">
                                                            <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                                                class="datePickerIcon"></span>
                                                        </div>
                                                    </div>
                                                    <div class="checkout-action">
                                                        <div [ngClass]="{'non-click' : netternPaymentamount==0 || paymentDate=='' || changeCashDrawer=='Select cash drawer you used to paid' }"
                                                            (click)="createNetTermPaymentFun('Cash')" class="right">
                                                            <a class="checkout-btn-pay">Record Payment</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="boxCheck" class="inner" id="box-check">
                                                <div class="ifEnable">
                                                    <div class="scrollPayment">
                                                        <div class="text-field">
                                                            <label for="checkout-checkPaid">Amount Paid</label>
                                                            <input [(ngModel)]="netternPaymentamount" type="text"
                                                                name="checkout-checkPaid" (focusout)="addpaymentAmout()"
                                                                appTwoDigitDecimaNumber
                                                                class="form-control text-right cust-field font11 borderColorcbcbcb borderRadius10"
                                                                placeholder="$0.00">
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-checkPaidUsed">Number of check
                                                                used</label>
                                                            <input [(ngModel)]="checkqueNo" type="text"
                                                                name="checkout-checkPaidUsed"
                                                                (keypress)="numberOnly($event)"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                placeholder="Type the number of cheque used">
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-checkPaidUsed">Bank and Account
                                                                No</label>
                                                            <input [(ngModel)]="bankAccNo" type="text"
                                                                name="checkout-checkPaidUsed"
                                                                (keypress)="numberOnly($event)"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                placeholder="Example Bank xxxx xxxxxxxx xxxxx xxx">
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-paymentDate">Date payment was
                                                                realized</label>
                                                            <input type="text" [(ngModel)]="paymentDate"
                                                                placeholder="Month/Day/Year"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                                                bsDatepicker placement="top"
                                                                [isOpen]="isOpenpaymentDate">
                                                            <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                                                class="datePickerIcon"></span>
                                                        </div>
                                                    </div>
                                                    <div class="checkout-action">
                                                        <div [ngClass]="{'non-click' :   checkqueNo=='' || bankAccNo=='' || paymentDate=='' ||netternPaymentamount==0}"
                                                            (click)="createNetTermPaymentFun('Cheque')" class="right"><a
                                                                class="checkout-btn-pay">Record Payment</a> </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="boxPaypal" class="inner" id="box-Paypal">
                                                <div class="ifEnable">
                                                    <div class="scrollPayment">
                                                        <div class="text-field">
                                                            <label>Amount Paid</label>
                                                            <input appTwoDigitDecimaNumber
                                                                [(ngModel)]="netternPaymentamount" type="text"
                                                                (focusout)="addpaymentAmout()"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10 text-right"
                                                                placeholder="$0.00">
                                                        </div>
                                                        <div class="text-field">
                                                            <label>Pay Pal Account</label>
                                                            <input [(ngModel)]="paypalAccount" type="text"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                placeholder="Type paypal account">
                                                        </div>
                                                        <div class="text-field">
                                                            <label>Transaction ID</label>
                                                            <input [(ngModel)]="paypalTransactionID" type="text"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                placeholder="Type paypal transaction ID">
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-paymentDate">Date payment was
                                                                realized</label>
                                                            <input type="text" [(ngModel)]="paymentDate"
                                                                placeholder="Month/Day/Year"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                                                bsDatepicker placement="top"
                                                                [isOpen]="isOpenpaymentDate">
                                                            <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                                                class="datePickerIcon"></span>
                                                        </div>
                                                    </div>
                                                    <div class="checkout-action">
                                                        <div [ngClass]="{'non-click' : paypalAccount=='' || paypalTransactionID=='' || paymentDate=='' ||netternPaymentamount==0}"
                                                            (click)="createNetTermPaymentFun('Paypal')" class="right"><a
                                                                class="checkout-btn-pay">Record Payment</a> </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="boxStorecredit" class="inner" id="box-store-credit">
                                                <div class="ifEnable">
                                                    <div class="scrollPayment">
                                                        <div class="text-field">
                                                            <label for="checkout-amountPaid"
                                                                [ngClass]="{'bounce colorRedError': false}">Amount
                                                                Paid</label>
                                                            <input [(ngModel)]="netternPaymentamount" type="text"
                                                                name="checkout-amountPaid"
                                                                (focusout)="addpaymentAmout()" appTwoDigitDecimaNumber
                                                                class="form-control text-right cust-field font11 borderColorcbcbcb"
                                                                placeholder="$0.00">
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-cashDrawer" class="valignMiddle">Credit
                                                                line</label>
                                                            <div class="btn-group wd100Percent" dropdown>
                                                                <button id="button-animated" dropdownToggle
                                                                    type="button"
                                                                    class="paymentDropBtn bgWhite btn cust-field font11 borderColorcbcbcb borderRadius10 color000 dropdown-toggle"
                                                                    aria-controls="dropdown-animated">{{creditLineName}}
                                                                    <span class="caret"></span>
                                                                </button>
                                                                <ul id="dropdown-animated" *dropdownMenu
                                                                    class="dropdown-menu paymentDropUL" role="menu"
                                                                    aria-labelledby="button-animated">
                                                                    <li *ngFor="let cLine of creditLines;"
                                                                        (click)="changeCreditLine(cLine)"
                                                                        role="menuitem"><a
                                                                            class="dropdown-item">{{cLine.credit_line}}</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="text-field">
                                                            <label for="checkout-paymentDate">Date payment was
                                                                realized</label>
                                                            <input type="text" [(ngModel)]="paymentDate"
                                                                placeholder="Month/Day/Year"
                                                                class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                                                [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                                                bsDatepicker placement="top"
                                                                [isOpen]="isOpenpaymentDate">
                                                            <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                                                class="datePickerIcon"></span>
                                                        </div>
                                                    </div>
                                                    <div class="checkout-action">
                                                        <div [ngClass]="{'non-click' : creditLineName=='Please select any credit line' || paymentDate=='' ||netternPaymentamount==0}"
                                                            (click)="createNetTermPaymentFun('StoreCredit')"
                                                            class="right"><a class="checkout-btn-pay">Record Payment</a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- (click)="createNetTermPaymentFun('BankTransfer')" -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row m0 mb15">
                                    <div class="col-lg-6 pl0 noborderBottom text-right">
                                        <p class="dInlineBlock valignMiddle color000 font11">Total Amount owed: <span
                                                class="colorGreen fontSemiBold">{{totalOwenAmount||0 |currency}}</span>
                                        </p>
                                    </div>
                                    <div class="col-lg-6 pl0 noborderBottom text-left">
                                        <p class="dInlineBlock valignMiddle color000 font11">Amount owed after payment:
                                            <span
                                                class="colorGreen fontSemiBold">{{totalOwenAmount-netternPaymentamount |currency}}</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="div-border bggrey p0 borderWidth1pxSolid borderColor808080">
                                <div id="stock-supplier">
                                    <div id="po-wrapper"
                                        [ngClass]="{'empty': isObjectEmpty(suppNetTermPaymentLogsData)}">
                                        <div class="po-top-info">
                                            <div class="inner wd10percent"><span>Date</span></div>
                                            <div class="inner wd15percent"><span>Order No.</span></div>
                                            <div class="inner wd15percent"><span>Total</span></div>
                                            <div class="inner wd15percent"><span>Amount owed</span></div>
                                            <div class="inner wd15percent"><span>Days left</span></div>
                                            <div class="inner wd15percent"><span>Amount to Pay</span></div>
                                            <div class="inner wd15percent"><span>Balance</span></div>
                                        </div>
                                        <div class="po-inner-list">
                                            <div *ngIf='netTermsOrdersLoader==true' class="luna-loading"></div>
                                            <div class="empty-text">
                                                <h2>
                                                    No Logs Available
                                                </h2>
                                            </div>
                                            <ul>
                                                <li class=""
                                                    *ngFor="let payment of suppNetTermPaymentLogsData; let i = index">
                                                    <div class="inner wd10percent"><span
                                                            class="text-center">{{payment?.date | customDateFormat}}</span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <span
                                                            class="dInlineBlock valignMiddle pr5">{{payment?.order_no}}</span>
                                                        <span class="statusFiltericon dInlineBlock"
                                                            tooltip="{{payment?.dynamic_status?.status_name}}"
                                                            placement="top"
                                                            [style.background-color]="payment?.dynamic_status?.status_background_color"></span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <span>{{payment?.total |currency}}</span></div>
                                                    <div class="inner wd15percent">
                                                        <span>{{payment?.amount_owed |currency}}</span></div>
                                                    <div *ngIf='payment.is_overdue' class="inner wd15percent">
                                                        <span class="dec">{{payment?.day_left}}</span>
                                                    </div>
                                                    <div *ngIf='!payment.is_overdue' class="inner wd15percent">
                                                        <span class="inc">{{payment?.day_left}}</span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <input appTwoDigitDecimaNumber
                                                            (focusout)="amountToPayFun(payment)"
                                                            [(ngModel)]="payment.amount_pay" placeholder="$0.00"
                                                            class="form-control" type="text">
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <span>{{payment?.balance |currency}}</span></div>
                                                </li>
                                                <!-- <li class="">
                                                    <div class="inner wd10percent"><span class="text-center">Apr/10/20</span></div>
                                                    <div class="inner wd15percent">
                                                        <span class="dInlineBlock valignMiddle pr5">PO#0001</span>
                                                        <span class="statusFiltericon dInlineBlock" [style.background-color]="payment?.dynamic_status?.status_background_color"></span>
                                                    </div>
                                                    <div class="inner wd15percent"><span>$200.00</span></div>
                                                    <div class="inner wd15percent"><span>$10.00</span></div>
                                                    <div class="inner wd15percent">
                                                        <span class="inc">On time(10 Days)</span>
                                                    </div>
                                                    <div class="inner wd15percent">
                                                        <input appTwoDigitDecimaNumber
                                                              placeholder="$0.00" class="form-control"
                                                             type="text">
                                                    </div>
                                                    <div class="inner wd15percent"><span>$10,000.00</span></div>
                                                </li> -->
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Manage Credit -->
                        <div *ngIf="manageCredit" id="customer-info">
                            <manage-credit (onManageCreditChange)="onCreditLogChange($event)"
                                [supplier]="selectedSupplierForDetail" [supplierCreditLogs]="supplierCreditLogs"
                                (onShowToaster)="toasterFunction($event[0],$event[1])"
                                (onCancelProcess)="cancel($event[0],$event[1])"></manage-credit>
                            <!-- <div class="posBottom"></div> -->
                        </div>
                        <!-- Transfer Credit -->
                        <div *ngIf="transferCredit" id="customer-info">
                            <transfer-credit (onTransferCreditChange)="onCreditLogChange($event)"
                                [supplier]="selectedSupplierForDetail" [supplierCreditLogs]="supplierCreditLogs"
                                (onShowToaster)="toasterFunction($event[0],$event[1])"
                                (onCancelProcess)="cancel($event[0],$event[1])"></transfer-credit>
                        </div>
                    </div>
                    <!-- Order Creating and Receving-->
                    <div class="tab-pane fade active show" id="tab-st-three" id="restock">
                        <div *ngIf="restock" class="poCreate">
                            <!-- Select Order type (PO, RMA, Buyback) -->
                            <div *ngIf="selectRType" id="stock-supplier">
                                <div class="cut-search-area">
                                    <div class="top-info">
                                        <h2
                                            class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd50percent">
                                            Select the process you would like to start
                                        </h2>
                                        <!-- <h2
                                            class="color808080 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-right wd50percent">
                                            Step <span>1</span> of 4</h2> -->
                                    </div>
                                </div>
                                <!-- (click)='selectOrderProcess=""' -->
                                <div id="po-wrapper">
                                    <!-- <div *ngIf="loadexistingSP" class="luna-loading"></div> -->
                                    <!-- <div class="empty-text">
                                        <h2><i class="fa fa-exclamation-circle" aria-hidden="true"></i>No Supplier Available</h2>
                                    </div> -->
                                    <div class="catWrapper">
                                        <!-- <div *ngIf='supplierRestockLoader' class="luna-loading"></div> -->
                                        <ul class="dtable wd100Percent text-left">
                                            <li class="dInlinetable wd46percent m10"
                                                [ngClass]="{'active': selectOrderProcess=='PO' }"
                                                (dblclick)="nextToRestockSupp()" (click)="selectOrderProcessFun('PO')">
                                                <div class="catInner supInner suppRestock methodSelect">
                                                    <div class="catMid text-center">
                                                        <span
                                                            class="color000 font16 dBlock fontPoppin fontSemiBold">Create
                                                            P.O.</span>
                                                        <div class="supDetail">
                                                            <span class="color808080 dBlock font10 fontPoppin">You will be able to restock all the products you want depending on what supplier you select</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                            <li class="dInlinetable wd46percent m10" (dblclick)="nextToRestockSupp()"
                                                [ngClass]="{'active': selectOrderProcess=='RMA' }"
                                                (click)="selectOrderProcessFun('RMA')">
                                                <div class="catInner supInner suppRestock methodSelect">
                                                    <div class="catMid text-center">
                                                        <span
                                                            class="color000 font16 dBlock fontPoppin fontSemiBold">Return
                                                            Merchandise Authorization
                                                            (RMA)</span>
                                                        <div class="supDetail">
                                                            <span class="color808080 dBlock font10 fontPoppin">You will be able to return due to factory defect or warranty of any product depending on the supplier policies</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                            <li class="dInlinetable wd46percent m10"
                                                [ngClass]="{'active': selectOrderProcess=='BP' }"
                                                (click)="selectOrderProcessFun('BP')"
                                                (dblclick)="orderDoubleClick('BP')">
                                                <div class="catInner supInner suppRestock methodSelect">
                                                    <div class="catMid text-center">
                                                        <span
                                                            class="color000 font16 dBlock fontPoppin fontSemiBold">Buyback
                                                            Program</span>
                                                        <div class="supDetail">
                                                            <span class="color808080 dBlock font10 fontPoppin">Sell your
                                                                broken
                                                                screens here!</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="stock-list-action">
                                    <a href="JavaScript:void(0)" class="wd100px" (click)="nextToRestockSupp()">Next</a>
                                </div>
                            </div>
                            <!-- Select Supplier -->
                            <div *ngIf="selectRSupplier" id="stock-supplier"
                                [ngClass]="{'empty':isObjectEmpty(supplierRestockData) && !isObjectEmpty(addSupplierToList), 'emptySupplier':isObjectEmpty(addSupplierToList) && isObjectEmpty(supplierRestockData)  }">
                                <div class="cut-search-area">
                                    <div class="top-info">
                                        <h2
                                            class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd50percent">
                                            <a href="JavaScript:void(0)"
                                                (click)="cancel('selectRSupplier','selectRType')"
                                                class="back-cust-list">Back</a> Select a supplier
                                        </h2>
                                        <div class="search-field input-group wd50percent fr">
                                            <input [formControl]="supplierRestockSearch" type="text"
                                                class="form-control"
                                                placeholder="Search supplier by name, Id, email or wesite">
                                            <a href="JavaScript:void(0)" class="input-group-addon">
                                                <i *ngIf="supplierRestockSearch.value"
                                                    (click)="supplierRestockSearch.reset()"
                                                    class="fas fa-times-circle"></i>
                                                <i class="icon-search"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div id="po-wrapper">
                                    <div *ngIf="loadexistingSP" class="luna-loading"></div>
                                    <div *ngIf="isObjectEmpty(supplierRestockData) && !isObjectEmpty(addSupplierToList)"
                                        class="empty-text text-center">
                                        <i class="fas fa-exclamation-triangle font42 color000"></i>
                                        <h2 class="fontPoppin fontSemiBold color000 font22">
                                            No Supplier found
                                        </h2>
                                    </div>
                                    <div *ngIf="isObjectEmpty(addSupplierToList) && isObjectEmpty(supplierRestockData)  && selectOrderProcess !='RMA'"
                                        class="empty-text text-center">
                                        <h2 class="fontPoppin fontSemiBold color000 font22">
                                            Create a purchase order
                                        </h2>
                                        <p class="text-center fontPoppin color808080 font14 wd60percent mx-auto">
                                            To create a purchase order, you will need to create a supplier and associate
                                            one of
                                            their SKUs to a product.
                                        </p>
                                    </div>
                                    <div *ngIf="isObjectEmpty(addSupplierToList) && isObjectEmpty(supplierRestockData) && selectOrderProcess =='RMA'"
                                        class="empty-text text-center">
                                        <h2 class="fontPoppin fontSemiBold color000 font22">
                                            Create a RMA
                                        </h2>
                                        <p class="text-center fontPoppin color808080 font14 wd60percent mx-auto">
                                            To create a RMA, you will need to create a supplier and associate
                                            one of
                                            their SKUs to a product.
                                        </p>
                                    </div>
                                    <div class="catWrapper">
                                        <div *ngIf='supplierRestockLoader' class="luna-loading"></div>
                                        <ul data-as-sortable data-ng-model="supplierRestockData"
                                            *ngIf='!isObjectEmpty(supplierRestockData)'
                                            class="dtable wd100Percent text-left">
                                            <li *ngIf='isManufactureBunlde' [ngClass]="{'active': mbpClicked }"
                                                (click)="restockSuppMBPSelectedFun()" (dblclick)="changeCalueRestock()"
                                                class="dInlinetable wd209px m10">
                                                <div class="catOuter bundleProductItem">
                                                    <div class="catInner supInner suppRestock">
                                                        <div class="catTop dtable wd100Percent">
                                                        </div>
                                                        <div class="catMid text-center">
                                                            <span
                                                                class="color000 dBlock fontPoppin fontSemiBold">Manufactured
                                                                Bundle Products</span>
                                                            <div class="supDetail mt10 mb10">
                                                                <i class="fas fa-cubes font64 color000"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                            <li data-as-sortable-item (dblclick)="changeCalueRestock()"
                                                [ngClass]="{'active': sup._id==supplierRestockSelected._id }"
                                                (click)="supplierRestockSelectedFun(sup)"
                                                *ngFor="let sup of supplierRestockData; let i= index;"
                                                class="dInlinetable wd209px m10">
                                                <div data-as-sortable-item-handle>
                                                    <div class="catOuter">
                                                        <div class="catInner supInner suppRestock">
                                                            <div class="catTop dtable wd100Percent">
                                                            </div>
                                                            <div class="catMid text-center">
                                                                <span tooltip="{{sup.supplier_company}}"
                                                                    placement="bottom"
                                                                    class="dotedOverflow color000 dBlock fontPoppin fontSemiBold">{{sup.supplier_company}}</span>
                                                                <span
                                                                    class="color808080 dBlock mb15">ID:{{sup.supplier_keeping_unit || 'US#0000'}}</span>
                                                                <div class="supDetail mt10 mb10">
                                                                    <a class="color808080 dBlock"
                                                                        href="tel:{{sup.supplier_company_phone}}">{{sup.supplier_company_phone}}</a>
                                                                    <a class="color808080 dBlock">{{sup.website}}</a>
                                                                    <a
                                                                        class="color808080 dBlock textUndeline">{{sup.supplier_email}}</a>
                                                                    <!-- href="mailto:{{sup.supplier_email}}"  target="_blank" -->
                                                                </div>
                                                            </div>
                                                            <div class="catBottom text-center">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>

                                        </ul>
                                    </div>
                                </div>
                                <div class="stock-list-action">
                                    <a *ngIf="isObjectEmpty(addSupplierToList)" href="JavaScript:void(0)"
                                        (click)="backFromSupplierSection()" class="wd100px">Back</a>
                                    <a *ngIf="selectOrderProcess != 'RMA' " href="JavaScript:void(0)" (click)="changeCalueRestock(true)" class="wd100px">Skip</a>
                                    <a *ngIf="!isObjectEmpty(supplierRestockData)" href="JavaScript:void(0)"
                                        (click)="changeCalueRestock(false)" class="wd100px">Next</a>
                                </div>
                            </div>
                            <!-- Select Shipping -->
                            <div *ngIf="selectRShipping" id="stock-supplier"
                                [ngClass]="{'empty':isObjectEmpty(shippingTypeData)  }">
                                <div class="cut-search-area">
                                    <div class="top-info">
                                        <h2
                                            class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd50percent">
                                            <a href="JavaScript:void(0)"
                                                (click)="back('selectRShipping','selectRSupplier')"
                                                class="back-cust-list">Back</a> Select your shipping method
                                        </h2>
                                    </div>
                                </div>
                                <!-- [ngClass]="{'empty':)}" add this empty class to lower div when list length is zero -->
                                <div id="po-wrapper">
                                    <div *ngIf="loadexistingSP" class="luna-loading"></div>
                                    <div class="empty-text">
                                        <p class="text-center fontPoppin color808080 font16 pl40 pr40">
                                            To select a shipping method, first you have to add one on the button "add
                                            type
                                            of shipping"
                                        </p>
                                    </div>
                                    <div class="catWrapper">
                                        <div *ngIf='shipTypeLoader0' class="luna-loading"></div>
                                        <ul class="dtable wd100Percent text-left">
                                            <li (click)="shipTypeSelectedFun(shipType)" (dblclick)="nextBtnShipping()"
                                                [ngClass]="{'active': shipType._id==shipTypeSelected._id }"
                                                *ngFor="let shipType of shippingTypeData; let i = index"
                                                class="dInlinetable wd209px m10">
                                                <div class="catOuter">
                                                    <div class="catInner shippInner">
                                                        <div class="catTop dtable wd100Percent">
                                                            <div class="catLeft dInlinetable wd50percent text-left">
                                                            </div>
                                                            <div class="catRight dInlinetable wd50percent text-right">
                                                                <div class="dInlineBlock pr5 valignMiddle">
                                                                    <a (click)="model_deleteShipType(open_removeshippment, 'custModal wd400',shipType)"
                                                                        href="JavaScript:void(0)"
                                                                        class="color808080 font12">
                                                                        <i class="fas fa-trash-alt"></i>
                                                                    </a>
                                                                </div>
                                                                <div class="dInlineBlock pr5 valignMiddle">
                                                                    <a (click)="model_UpdateShipType(open_addShippment, 'custModal wd600',shipType)"
                                                                        href="JavaScript:void(0)"
                                                                        class="color808080 font12">
                                                                        <i class="far fa-edit"></i>
                                                                    </a>
                                                                </div>
                                                                <!-- <div class="dInlineBlock">
                                                                    <input id="shippBox1" class="checkbox-custom"
                                                                        name="shippBox1" type="checkbox">
                                                                    <label for="shippBox1"
                                                                        class="checkbox-custom-label"></label>
                                                                </div> -->
                                                            </div>
                                                        </div>
                                                        <div class="catMid text-center">
                                                            <div class="supDetail mb10">
                                                                <i class="color000 font42 {{shipType.icon}}"></i>
                                                            </div>
                                                            <div class="deepIntigration mt10">
                                                                <span
                                                                    class="color000 lineHeight1point2 font16 dBlock fontPoppin fontSemiBold">{{shipType.shipment_name | titlecase }}
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="catBottom">
                                                            <div
                                                                class="supDetail dtable wd100Percent shipLowerDetail mt5">
                                                                <span
                                                                    class="color808080 dtableCell text-left wd50percent">Cut
                                                                    off time</span>
                                                                <span
                                                                    class="color000 dtableCell text-right wd50percent">
                                                                    <span
                                                                        *ngIf='shipType.hours!="" || shipType.hours!=null'>
                                                                        {{ shipType.hours +':'+shipType.minutes+' '+shipType.am_pm }}</span>
                                                                    <!-- <span
                                                                        *ngIf='shipType.minutes!="" || shipType.hours!=null'>
                                                                        {{ shipType.minutes+':'  }}</span>
                                                                    <span
                                                                        *ngIf='shipType.am_pm!="" || shipType.hours!=null'>
                                                                        {{ shipType.am_pm  }}</span> -->
                                                                    <!-- <span *ngIf='shipType.am_pm=="" || shipType.am_pm==null'>N/A</span> -->
                                                                </span>
                                                            </div>
                                                            <div
                                                                class="supDetail dtable wd100Percent shipLowerDetail mt5">
                                                                <span
                                                                    class="color808080 dtableCell text-left wd50percent">Shipping
                                                                    Price</span>
                                                                <span
                                                                    class="color000 dtableCell text-right wd50percent">{{shipType.shipment_price  ||'0.00' | currency}}</span>
                                                            </div>
                                                            <div
                                                                class="supDetail dtable wd100Percent shipLowerDetail mt5">
                                                                <span
                                                                    class="color808080 dtableCell text-left wd50percent">Threshold
                                                                </span>
                                                                <span
                                                                    class="color000 dtableCell text-right wd50percent">{{shipType.threshold  ||'0.00' | currency}}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="stock-list-action">
                                    <div class="caution-stock dtableCell">
                                        <a href="JavaScript:void(0)" class="noFloat"
                                            (click)="model_addShipType(open_addShippment, 'custModal wd600')">Add type
                                            of
                                            shipping</a>
                                        <!-- <a href="JavaScript:void(0)" class="wd100px ml5 noFloat">Delete</a> -->
                                    </div>
                                    <div class="caution-stock dtableCell text-right">
                                        <a href="JavaScript:void(0)" class="wd100px noFloat"
                                            (click)="skipNextBtnShipping()">Decide Later</a>
                                        <a [ngClass]="{ 'disabled': isObjectEmpty(shippingTypeData)}"
                                            href="JavaScript:void(0)" class="wd100px ml5 noFloat"
                                            (click)="nextBtnShipping()">Next</a>
                                        <!-- <a (click)="addNewProductBtnS2()" class="cncl-btn-cust wd100px fr">Next</a> -->
                                    </div>
                                </div>
                            </div>
                            <!-- Select Items for PO, MBP and RMA -->
                            <div class="outer-wrapper">
                                <div *ngIf="selectRItems" [ngClass]="{'down-list':isScrollable}" id="stock-supplier"
                                    class="selectItems inner-wrapper createPO">
                                    <div class="cut-search-area">
                                        <div class="top-info dtable wd100Percent">
                                            <h2
                                                class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd50percent">

                                                <a href="JavaScript:void(0)" (click)="backStepRMASupp()"
                                                    *ngIf="selectOrderProcess == 'RMA' && transactionIdRMA =='' &&  isObjectEmpty(rmaReturnProducts)"
                                                    class="back-cust-list">Back</a>

                                                <a href="JavaScript:void(0)"
                                                    (click)="openModal(orderCancelRMA,'custModal wd250')"
                                                    *ngIf="selectOrderProcess == 'RMA' && transactionIdRMA =='' &&  !isObjectEmpty(rmaReturnProducts)"
                                                    class="back-cust-list">Back</a>

                                                <a *ngIf="selectOrderProcess == 'PO'" href="JavaScript:void(0)"
                                                    (click)="backStepRestock()" class="back-cust-list">Back</a>

                                                <span *ngIf='selectOrderProcess == "RMA"'>Add the items you want to
                                                    return</span>
                                                <span *ngIf='!mbpClicked && selectOrderProcess != "RMA"'>Select items
                                                    you want to buy </span>
                                                <span *ngIf='mbpClicked && selectOrderProcess != "RMA"'>Select items you
                                                    want to
                                                    restock</span>
                                            </h2>
                                            <div class="wd50percent dInlinetable text-right">
                                                <div class="dInlinetable wd90Percent">
                                                    <div *ngIf='selectOrderProcess != "RMA"'
                                                        class="search-field input-group wd100Percent">
                                                        <input *ngIf='!mbpClicked' [(ngModel)]="searchCreatePO"
                                                            type="text" class="form-control"
                                                            placeholder="Search product by name, SKU number... ">
                                                        <input *ngIf='mbpClicked' [formControl]="mbpSearch" type="text"
                                                            class="form-control"
                                                            placeholder="Search product by name... ">
                                                        <a href="JavaScript:void(0)" class="input-group-addon">
                                                            <i *ngIf="searchCreatePO != ''"
                                                                (click)="searchCreatePO = ''"
                                                                class="fas fa-times-circle"></i>
                                                            <i *ngIf="mbpSearch.value" (click)="mbpSearch.reset()"
                                                                class="fas fa-times-circle"></i>
                                                            <i class="icon-search"></i>
                                                        </a>
                                                    </div>
                                                    <div *ngIf='selectOrderProcess == "RMA"'
                                                        class="search-field input-group wd100Percent addRMAItem">
                                                        <input (click)="displayRMAProducts(true)"
                                                            [formControl]="rmaSearch" type="text" class="form-control"
                                                            placeholder="Search product by name, SKU number... ">
                                                        <a href="JavaScript:void(0)" class="input-group-addon">Add</a>
                                                    </div>
                                                    <div class="ulWrapper" *ngIf="showRMAProductList">
                                                        <ul>
                                                            <li style="color: black;"
                                                                *ngFor="let product of rmaProductData"
                                                                (click)="selectRMAProduct(product)">
                                                                <a
                                                                    *ngIf='product.sku!=null'>{{product.product_name+' '+'- SKU:'+' '+ product['Suppliers'][0].sku_number}}</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div *ngIf='selectOrderProcess == "RMA"'
                                                    class="dInlinetable ml5 valignMiddle">
                                                    <a tooltip="Scanner" placement="bottom" class="receivingIcon dInlineBlock" href="JavaScript:void(0)">
                                                        <i class="icon-scan1"></i>
                                                    </a>
                                                </div>
                                                <div *ngIf="!mbpClicked && selectOrderProcess == 'PO'"
                                                    class="dInlinetable ml10 valignMiddle">
                                                    <a class="clearAllfilter dotMainbox" href="JavaScript:void(0)"
                                                        (click)="openimportPO();$event.stopPropagation()">
                                                        <span class="dotMenu"></span>
                                                        <span class="dotMenu"></span>
                                                        <span class="dotMenu"></span>
                                                    </a>
                                                    <div class="dropdown-content importBox" *ngIf="importPODrop"
                                                        style="display: block;">
                                                        <div class='dotBoxitems'>
                                                            <ul>
                                                                <li><a href="javascript:void(0);">Import P.O.</a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <!-- Select Items for PO -->
                                    <div *ngIf="!mbpClicked && selectOrderProcess != 'RMA'" class="ifNormalProduct">
                                        <div id="po-wrapper">
                                            <div class="po-top-info">
                                                <div class="inner wd40percent"><span class="text-left">Product
                                                        name</span></div>
                                                <div class="inner wd11percent text-center"><span>On Shelf</span></div>
                                                <div class="inner wd11percent text-center"><span>Incoming</span></div>
                                                <div class="inner wd11percent text-center"><span>Unit Cost</span></div>
                                                <div class="inner wd11percent text-center"><span>Quantity</span></div>
                                                <div class="inner wd11percent text-center"><span>Total</span></div>
                                            </div>
                                            <!-- [ngClass]="{'empty':)}" add this empty class to lower div when list length is zero -->
                                            <div [ngClass]="{'empty':isObjectEmpty(productsRestock)}"
                                                class="po-inner-list">
                                                <div *ngIf='mbpLoader' class="luna-loading"></div>
                                                <div class="empty-text">
                                                    <h2><i class="fas fa-exclamation-triangle"></i>No Items Available
                                                    </h2>
                                                </div>
                                                <accordion [isAnimated]="true" [closeOthers]="true">
                                                    <accordion-group
                                                        *ngFor="let product of productsRestock | listFilterByFieldName: searchCreatePO : searchPOString : POfilter; let i = index;">
                                                        <ul *ngIf="product['Suppliers']?.length == 1" class="singleSKU"
                                                            accordion-heading>
                                                            <li [ngClass]="{'no-dp1' : supplier.ordered_qty == 0 && orderDetail?.dynamic_status?.status_name == 'Partial Payment'}"
                                                                *ngFor="let supplier of productsRestock[i]['Suppliers']; let j = index;">
                                                                <div class="inner wd40percent text-left">
                                                                    <span class="dBlock">{{product.product_name}}</span>
                                                                    <span
                                                                        class="dBlock color808080">{{supplier?.supplier_id?.supplier_company}} - SKU:{{supplier.sku_number}}</span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <!-- <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Partial Payment'" class="text-center colorOrange">{{product['ProductStockPrice'][0]?.qty_available}}</span> -->
                                                                    <span
                                                                        [ngClass]="{'colorRed': product?.Suppliers[0]?.instock <= 0 ,
                                                                    'colorOrange': product?.Suppliers[0]?.instock <= product.ProductStockPrice[0]?.alert_quantity 
                                                                    && product?.Suppliers[0]?.instock > 0 , 
                                                                    'colorGreen': product?.Suppliers[0]?.instock > product.ProductStockPrice[0]?.alert_quantity }"
                                                                        class="text-center ">{{product?.Suppliers[0]?.instock}}
                                                                    </span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <!-- <span class="text-center colorPurple">02</span> -->
                                                                    <span
                                                                        class="text-center colorPurple">{{supplier.incoming_item}}</span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <span
                                                                        *ngIf="orderDetail?.dynamic_status?.status_name == 'Partial Payment'"
                                                                        class="text-center">{{supplier['price_purchase'] | currency}}</span>
                                                                    <input
                                                                        *ngIf="orderDetail?.dynamic_status?.status_name != 'Partial Payment'"
                                                                        (focusout)="updateTotalUnitCostChange(i,j)" appTwoDigitDecimaNumber
                                                                        [(ngModel)]="supplier['price_purchase']"
                                                                        type="text" name="price{{j}}"
                                                                        class="form-control wd80percent mx-auto borderWidth1pxSolid borderColorcbcbcb input-number">
                                                                    <!-- <span class="text-center">{{product['ProductStockPrice'][0]?.default_sell_price | currency}}</span> -->
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <span
                                                                        *ngIf="orderDetail?.dynamic_status?.status_name == 'Partial Payment'"
                                                                        class="text-center">{{supplier.ordered_qty}}</span>
                                                                    <span
                                                                        *ngIf="orderDetail?.dynamic_status?.status_name != 'Partial Payment'"
                                                                        class="text-center">
                                                                        <div
                                                                            class="input-group borderWidth1pxSolid borderColorcbcbcb borderRadius5 bgWhite wd80percent mx-auto">
                                                                            <span class="input-group-btn m0"
                                                                                (click)='productRestockMiuns(i,j)'>
                                                                                <button type="button"
                                                                                    class="btn btn-default btn-number borderBRR0 borderTRR0"
                                                                                    data-type="minus"
                                                                                    data-field="quant[1]">
                                                                                    <i class="fas fa-minus"></i>
                                                                                </button>
                                                                            </span>
                                                                                <input [value]="supplier.ordered_qty"
                                                                                type="text" name="quant{{j}}" (focusout)="doneSprQuantityInput(i,j,$event.target.value)" numeric
                                                                                class="form-control input-number">
                                                                            <span class="input-group-btn m0"
                                                                                (click)='productRestockPluse(i,j,alreadyOrder, "custModal wd300")'>
                                                                                <button type="button"
                                                                                    class="btn btn-default btn-number borderBLR0 borderTLR0"
                                                                                    data-type="plus"
                                                                                    data-field="quant[1]">
                                                                                    <i class="fas fa-plus"></i>
                                                                                </button>
                                                                            </span>
                                                                        </div>
                                                                    </span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <span
                                                                        class="text-center">{{supplier.supTotal | currency}}</span>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                        <ul *ngIf="product['Suppliers']?.length > 1" accordion-heading>
                                                            <li
                                                                [ngClass]="{'no-dp1' : product.quantity == 0 && orderDetail?.dynamic_status?.status_name == 'Partial Payment'}">
                                                                <div class="inner wd40percent text-left">
                                                                    <span class="dInlineBlock"><i class="fas fa-angle-right dInlineBlock pr5"></i>
                                                                        {{product?.product_name}}</span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <!-- <span class="text-center colorOrange">12</span> -->
                                                                    <span
                                                                        [ngClass]="{'colorRed': product.ProductStockPrice[0]?.qty_available <= 0 ,
                                                                    'colorOrange': product.ProductStockPrice[0]?.qty_available <= product.ProductStockPrice[0]?.alert_quantity 
                                                                    && product.ProductStockPrice[0]?.qty_available > 0 , 
                                                                    'colorGreen': product.ProductStockPrice[0]?.qty_available > product.ProductStockPrice[0]?.alert_quantity }"
                                                                        class="text-center ">{{product['ProductStockPrice'][0]?.qty_available}}
                                                                    </span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <!-- <span class="text-center colorPurple">06</span> -->
                                                                    <span
                                                                        class="text-center colorPurple">{{product.incoming_item }}</span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <!-- <span class="text-center">$10</span> {{product['ProductStockPrice'][0]?.default_sell_price | currency}}-->
                                                                    <span
                                                                        class="text-center">---</span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <span
                                                                        class="text-center">{{product.quantity }}</span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <span
                                                                        class="text-center">{{product.total | currency}}</span>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                        <ul *ngIf="product['Suppliers']?.length > 1">
                                                            <li [ngClass]="{'no-dp1' : supplier.ordered_qty == 0 && orderDetail?.dynamic_status?.status_name == 'Partial Payment'}"
                                                                *ngFor="let supplier of productsRestock[i]['Suppliers']; let j = index;">
                                                                <div class="inner wd40percent text-left">
                                                                    <span
                                                                        class="color808080">{{supplier?.supplier_id?.supplier_company}} - SKU:{{supplier?.sku_number}}</span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <!-- <span class="text-center colorOrange">08</span> -->
                                                                    <span
                                                                        [ngClass]="{'colorRed': supplier?.instock <= 0 ,
                                                                    'colorOrange': supplier?.instock <= product.ProductStockPrice[0]?.alert_quantity 
                                                                    && supplier?.instock > 0 , 
                                                                    'colorGreen': supplier?.instock > product.ProductStockPrice[0]?.alert_quantity }"
                                                                        class="text-center ">{{supplier?.instock}}
                                                                    </span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <!-- <span class="text-center colorPurple">02</span> -->
                                                                    <span
                                                                        class="text-center colorPurple">{{supplier.incoming_item}}</span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <!-- <span class="text-center">$5</span> -->
                                                                    <span
                                                                        *ngIf="orderDetail?.dynamic_status?.status_name == 'Partial Payment'"
                                                                        class="text-center">{{supplier['price_purchase'] | currency}}</span>
                                                                    <input
                                                                        *ngIf="orderDetail?.dynamic_status?.status_name != 'Partial Payment'"
                                                                        (focusout)="updateTotalUnitCostChange(i,j)"
                                                                        [(ngModel)]="supplier['price_purchase']"
                                                                        type="text" name="price{{j}}"
                                                                        class="wd80percent mx-auto form-control borderWidth1pxSolid borderColorcbcbcb input-number">
                                                                    <!-- <span class="text-center">{{product['ProductStockPrice'][0]?.default_sell_price | currency}}</span> -->
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <span
                                                                        *ngIf="orderDetail?.dynamic_status?.status_name == 'Partial Payment'"
                                                                        class="text-center">{{supplier.ordered_qty}}</span>
                                                                    <span
                                                                        *ngIf="orderDetail?.dynamic_status?.status_name != 'Partial Payment'"
                                                                        class="text-center">
                                                                        <div
                                                                            class="input-group borderWidth1pxSolid borderColorcbcbcb borderRadius5 bgWhite wd80percent mx-auto">
                                                                            <span class="input-group-btn m0"
                                                                                (click)='productRestockMiuns(i,j)'>
                                                                                <button type="button"
                                                                                    class="btn btn-default btn-number borderBRR0 borderTRR0"
                                                                                    data-type="minus"
                                                                                    data-field="quant[1]">
                                                                                    <i class="fas fa-minus"></i>
                                                                                </button>
                                                                            </span>
                                                                            <!-- <span *ngIf='!supplier.quantityInput'
                                                                                (click)='quantityInputSpr(i,j)'
                                                                                class="form-control input-number"
                                                                                style="line-height:2.5">
                                                                                {{supplier.ordered_qty}}</span> -->
                                                                                <!-- [value]="supplier.ordered_qty" numeric -->
                                                                            <input [value]="supplier.ordered_qty" numeric
                                                                                (focusout)="doneSprQuantityInput(i,j,$event.target.value)"
                                                                                type="text" name="quant{{j}}"
                                                                                class="form-control input-number">
                                                                            <span class="input-group-btn m0"
                                                                                (click)='productRestockPluse(i,j,alreadyOrder, "custModal wd300")'>
                                                                                <button type="button"
                                                                                    class="btn btn-default btn-number borderBLR0 borderTLR0"
                                                                                    data-type="plus"
                                                                                    data-field="quant[1]">
                                                                                    <i class="fas fa-plus"></i>
                                                                                </button>
                                                                            </span>
                                                                        </div>
                                                                    </span>
                                                                </div>
                                                                <div class="inner wd11percent">
                                                                    <span
                                                                        class="text-center">{{supplier.supTotal | currency}}</span>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </accordion-group>
                                                </accordion>
                                            </div>
                                        </div>
                                        <div class="order-cash-details box-shadow">
                                            <div class="down parallelogram">
                                                <div class="center skew-fix ">
                                                    <a (click)="downcart()"><img
                                                            src="../../../../assets/images/up-arrow.png" alt=""></a>
                                                </div>
                                            </div>
                                            <div class="up parallelogram">
                                                <div class="center skew-fix ">
                                                    <a (click)="downcart()"><img
                                                            src="../../../../assets/images/up-arrow.png" alt=""></a>
                                                </div>
                                                <div class="right skew-fix ">
                                                    <table class="table" style="width:100%">
                                                        <tbody>
                                                            <tr colspan="2">
                                                                <td>Total:</td>
                                                                <td>{{sprGrandTotal | currency}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="inner-top">
                                                <div class="lt">
                                                    <div class="innerLt">
                                                        <div class="inner-lt col-lg-6 fl pl0 pr10">
                                                            <label [ngClass]="{ 'is-invalid': sprDateError}">Purchase
                                                                date:</label>
                                                            <div class="datePickerfield">
                                                                <input [(ngModel)]="sprTDate"
                                                                    style="color: #343a40 !important;" type="text"
                                                                    name="sprTDate" id="sprTDate"
                                                                    placeholder="Purchase Date"
                                                                    class="form-control font12 borderColorcbcbcb"
                                                                    bsDatepicker
                                                                    [bsConfig]="{showWeekNumbers:false, maxDate: todayDate , isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                                                    placement="top"
                                                                    [ngClass]="{ 'bounce': sprDateError}"
                                                                    (click)='sprDateErrorFun()'
                                                                    (ngModelChange)="plusDate()"
                                                                    [isOpen]="isOpensprTDate">
                                                                <span (click)="isOpensprTDate = !isOpensprTDate"
                                                                    class="datePickerIcon datePickerIconORder"></span>
                                                                <!-- <a class="input-group-addon" href="JavaScript:void(0)"><i class="icon-calendar_tickets"></i></a> -->
                                                            </div>
                                                            <span style="padding-top: 6px;" class="field-error-msg"
                                                                *ngIf="sprDateError">
                                                                Purchase date is required</span>
                                                        </div>
                                                        <div class="inner-rt col-lg-6 fl pl0 pr0">
                                                            <label
                                                                [ngClass]="{ 'is-invalid': sprPurchaseHourError}">Purchase
                                                                time:</label>
                                                            <div class="col-lg-4 fl pl0 pr5">
                                                                <div class="btn-group wd100Percent" dropdown>
                                                                    <button id="button-animated" dropdownToggle
                                                                        type="button"
                                                                        class="btn cust-field text-center timepickerBtn wd100Percent font12 borderColorcbcbcb borderRadius5 dropdown-toggle"
                                                                        aria-controls="dropdown-animated">{{changeHour}}
                                                                        <span class="caret"></span>
                                                                    </button>
                                                                    <ul (click)='sprPurchaseHourErrorFun()'
                                                                        id="dropdown-animated" *dropdownMenu
                                                                        class="dropdown-menu timepickerUL" role="menu"
                                                                        aria-labelledby="button-animated">
                                                                        <li (click)="changeValue('changeHour','01')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">01</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','02')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">02</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','03')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">03</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','04')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">04</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','05')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">05</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','06')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">06</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','07')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">07</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','08')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">08</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','09')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">09</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','10')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">10</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','11')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">11</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeHour','12')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">12</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-4 fl pl0 pr5">
                                                                <div class="btn-group wd100Percent" dropdown>
                                                                    <button id="button-animated" dropdownToggle
                                                                        type="button"
                                                                        class="btn text-center timepickerBtn cust-field wd100Percent font12 borderColorcbcbcb borderRadius5 dropdown-toggle"
                                                                        aria-controls="dropdown-animated">{{changeMinute}}
                                                                        <span class="caret"></span>
                                                                    </button>
                                                                    <ul (click)='sprPurchaseHourErrorFun()'
                                                                        id="dropdown-animated" *dropdownMenu
                                                                        class="dropdown-menu timepickerUL" role="menu"
                                                                        aria-labelledby="button-animated">
                                                                        <li (click)="changeValue('changeMinute','00')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">00</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','01')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">01</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','02')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">02</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','03')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">03</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','04')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">04</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','05')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">05</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','06')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">06</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','07')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">07</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','08')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">08</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','09')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">09</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','10')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">10</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','11')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">11</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','12')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">12</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','13')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">13</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','14')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">14</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','15')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">15</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','16')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">16</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','17')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">17</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','18')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">18</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','19')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">19</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','20')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">20</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','21')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">21</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','22')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">22</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','23')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">23</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','24')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">24</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','25')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">25</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','26')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">26</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','27')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">27</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','2802')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">28</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','29')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">29</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','30')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">30</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','31')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">31</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','32')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">32</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','33')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">33</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','34')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">34</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','35')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">35</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','36')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">36</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','37')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">37</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','38')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">38</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','39')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">39</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','40')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">40</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','41')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">41</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','42')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">42</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','43')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">43</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','44')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">44</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','45')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">45</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','46')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">46</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','47')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">47</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','48')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">48</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','49')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">49</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','50')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">50</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','51')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">51</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','52')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">52</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','53')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">53</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','54')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">54</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','55')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">55</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','56')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">56</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','57')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">57</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','58')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">58</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeMinute','59')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">59</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-4 fl pl0 pr0">
                                                                <div class="btn-group wd100Percent" dropdown>
                                                                    <button id="button-animated" dropdownToggle
                                                                        type="button"
                                                                        class="btn text-center timepickerBtn cust-field wd100Percent font12 borderColorcbcbcb borderRadius5 dropdown-toggle"
                                                                        aria-controls="dropdown-animated">{{changeTimeAmPm}}
                                                                        <span class="caret"></span>
                                                                    </button>
                                                                    <ul id="dropdown-animated" *dropdownMenu
                                                                        class="dropdown-menu timepickerUL ampmUL"
                                                                        role="menu" aria-labelledby="button-animated">
                                                                        <li (click)="changeValue('changeTimeAmPm','AM')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">AM</a>
                                                                        </li>
                                                                        <li (click)="changeValue('changeTimeAmPm','PM')"
                                                                            role="menuitem"><a
                                                                                class="dropdown-item">PM</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                            <span style="padding-top: 6px;" class="field-error-msg"
                                                                *ngIf="sprPurchaseHourError">
                                                                Prchase time is required</span>
                                                        </div>
                                                    </div>
                                                    <div class="notes-field mt10">
                                                        <textarea [(ngModel)]="sprNote" class="form-control"
                                                            placeholder="Add Note..."></textarea>
                                                        <div class="notes-privte">
                                                            <div class="left">
                                                                <input [(ngModel)]="sprNoteOption" id="post-private-1"
                                                                    class="checkbox-custom" name="post-private-1"
                                                                    type="checkbox">
                                                                <label for="post-private-1"
                                                                    class="checkbox-custom-label">
                                                                    Post as private note</label>
                                                            </div>
                                                            <!-- <div class="right">
                                                                <a (click)="saveSprInCart(true,true)" href="JavaScript:void(0)"
                                                                    class="saveNotebtn">Save
                                                                </a>
                                                            </div> -->
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="rt">
                                                    <div class="cash-field">
                                                        <div class="top-sub">
                                                            <table class="table" style="width:100%">
                                                                <tbody>
                                                                    <tr colspan="2">
                                                                        <td>Subtotal:</td>
                                                                        <td>{{sprSubTotal | currency}}</td>
                                                                    </tr>
                                                                    <tr colspan="2">
                                                                        <td>Discount:</td>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <div id="discount-cat-btn"
                                                                                    class="btn-group height18px"
                                                                                    role="group">
                                                                                    <a [ngClass]="{'active':changestoreCredit , 'notActive':!changestoreCredit}"
                                                                                        class="btn btn-sm font11 lineHeight5px padding5px"
                                                                                        (click)="changeSprDiscountVal('$')">$</a>
                                                                                    <a [ngClass]="{'active':nostoreCreditSett ,   'notActive':!nostoreCreditSett}"
                                                                                        class="btn btn-sm font11 lineHeight5px padding5px"
                                                                                        (click)="changeSprDiscountVal('%')">%</a>
                                                                                    <input
                                                                                        class="font10 borderLeft0 height18px form-control borderColorcbcbcb input-group-addon borderTLR0 borderBLR0 wd50px text-left padding5px"
                                                                                        type="text" placeholder="0.00"
                                                                                        [(ngModel)]="sprDiscountValue" appTwoDigitDecimaNumber
                                                                                        (focusout)='sprDiscountFun()'>
                                                                                    <input type="hidden" name="dis-cat"
                                                                                        id="dis-cat">
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr colspan="2">
                                                                        <td>
                                                                            <div class="check-taxcharge">
                                                                                Tax Charges:
                                                                                <div class="btn-group wd60percent"
                                                                                    dropdown>
                                                                                    <button id="button-animated"
                                                                                        dropdownToggle type="button"
                                                                                        class="btn smallBtn borderColorcbcbcb dropdown-toggle"
                                                                                        aria-controls="dropdown-animated"><span class="btnText dBlock minwd90percent maxwd90percent">{{changeTax}}</span>
                                                                                        <span class="caret"></span>
                                                                                    </button>
                                                                                    <ul id="dropdown-animated"
                                                                                        *dropdownMenu
                                                                                        class="dropdown-menu anchList maxHeight70"
                                                                                        role="menu"
                                                                                        aria-labelledby="button-animated">
                                                                                        <li (click)="sprTaxCalculation('None')"
                                                                                            role="menuitem">
                                                                                            <a
                                                                                                class="dropdown-item font10">None</a>
                                                                                        <li *ngFor="let tax of PurchaseTaxData; let i = index"
                                                                                            (click)="sprTaxCalculation(tax)"
                                                                                            role="menuitem">
                                                                                            <a
                                                                                                class="dropdown-item font10">{{tax.name+':('}}
                                                                                                <span
                                                                                                    *ngIf='tax.is_percentage==false'>$</span>{{tax.amount}}<span
                                                                                                    *ngIf='tax.is_percentage==true'>%</span>)</a>
                                                                                        </li>
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td> <span> {{sprTax | currency }}</span></td>
                                                                    </tr>
                                                                    <tr colspan="2">
                                                                        <td>
                                                                            Shipping fee:
                                                                            <div class="btn-group wd60percent" dropdown>
                                                                                <button id="button-animated"
                                                                                    dropdownToggle type="button"
                                                                                    class="btn smallBtn borderColorcbcbcb dropdown-toggle"
                                                                                    aria-controls="dropdown-animated"><span class="btnText dBlock minwd90percent maxwd90percent">{{changeShipping | titlecase}}</span>
                                                                                    <span class="caret"></span>
                                                                                </button>
                                                                                <ul id="dropdown-animated" *dropdownMenu
                                                                                    class="dropdown-menu anchList maxHeight70"
                                                                                    role="menu"
                                                                                    aria-labelledby="button-animated">
                                                                                    <li *ngFor="let shipType of shippingTypeData2; let i = index"
                                                                                        (click)="shipTypeSelectedFun(shipType)"
                                                                                        role="menuitem">
                                                                                        <a
                                                                                         class="dropdown-item font10">{{shipType.shipment_name+':($'+shipType.shipment_price+')' | titlecase }}</a>
                                                                                    </li>
                                                                                </ul>
                                                                            </div>
                                                                        </td>
                                                                        <!-- <td>{{selectedShipAmount | currency }}
                                                                        </td> -->
                                                                        <td><span
                                                                                class="m5 valignMiddle lineHeight18px">
                                                                                $</span> <input
                                                                                class="font10 height18px wd50px text-left borderColorcbcbcb padding5px form-control input-group-addon"
                                                                                type="text" placeholder="0.00"
                                                                                [(ngModel)]="selectedShipAmount"
                                                                                appTwoDigitDecimaNumber
                                                                                (focusout)="sprShipmentFeeChange($event.target.value)">
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                        <div class="bottom-total">
                                                            <table class="table" style="width:100%">
                                                                <tbody>
                                                                    <tr colspan="2">
                                                                        <td>Total</td>
                                                                        <td>{{sprGrandTotal | currency}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="stock-list-action">
                                            <div class="caution-stock dtableCell wd40percent">
                                                <div class="filterLinks newfilters bottomFilters">
                                                    <label>Filter by:</label>
                                                    <a href="JavaScript:void(0)"
                                                        class="color000 fontSemiBold fontPoppin"
                                                        [ngClass]="{'active': POfilter == 'all'}"
                                                        (click)="createPOFilter('all')">All</a>
                                                    <a href="JavaScript:void(0)"
                                                        class="colorGreen fontSemiBold fontPoppin"
                                                        [ngClass]="{'active': POfilter == 'plenty'}"
                                                        (click)="createPOFilter('plenty')">Plenty</a>
                                                    <a href="JavaScript:void(0)"
                                                        class="colorOrange fontSemiBold fontPoppin"
                                                        [ngClass]="{'active': POfilter == 'low'}"
                                                        (click)="createPOFilter('low')">Low</a>
                                                    <a href="JavaScript:void(0)"
                                                        class="colorRed fontSemiBold fontPoppin"
                                                        [ngClass]="{'active': POfilter == 'none'}"
                                                        (click)="createPOFilter('none')">None</a>
                                                </div>
                                            </div>
                                            <div class="caution-stock dtableCell text-right wd60percent">
                                                <a *ngIf="selectOrderProcess == 'PO'" href="JavaScript:void(0)"
                                                    class="wd100px"
                                                    (click)="openModal(orderCancel,'custModal wd250')">Cancel</a>
                                                <a *ngIf="orderDetail?.dynamic_status?.status_name == 'Draft' || selectOrderProcess == 'PO'"
                                                    href="JavaScript:void(0)" class="wd100px ml5 noFloat"
                                                    (click)="openModalFinishLater(finishLater,'custModal wd250')">Finish
                                                    Later</a>
                                                <a href="JavaScript:void(0)" class="wd140px ml5 noFloat"
                                                    (click)="proceesToPayment()">Record Payment</a>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Select Items for MBP -->
                                    <div *ngIf="mbpClicked && selectOrderProcess !='RMA'"
                                        [ngClass]="{'empty':isObjectEmpty(productsRestock)}" class="ifBundleProduct">
                                        <div id="po-wrapper">
                                            <div class="po-top-info">
                                                <div class="inner wd40percent"><span class="text-left">Product
                                                        name</span></div>
                                                <div class="inner wd11percent text-center"><span>On Shelf</span></div>
                                                <div class="inner wd11percent text-center"><span>Unit Cost</span></div>
                                                <div class="inner wd11percent text-center"><span>Quantity</span></div>
                                                <div class="inner wd11percent text-center"><span>Total</span></div>
                                            </div>
                                            <!-- [ngClass]="{'empty':)}" add this empty class to lower div when list length is zero -->
                                            <div *ngIf='mbpLoader' class="luna-loading"></div>
                                            <!-- infiniteScroll [scrollWindow]="false"(scrolled)="mbpScroll()" -->
                                            <div class="po-inner-list">
                                                <div *ngIf="loadexistingSP" class="luna-loading"></div>
                                                <div class="empty-text">
                                                    <h2><i class="fas fa-exclamation-triangle"></i>No Items Available
                                                    </h2>
                                                </div>
                                                <ul>
                                                    <li class="" *ngFor="let mbp of productsRestock; let i = index">
                                                        <div class="inner wd40percent text-left">
                                                            <span
                                                                class="dInlineBlock"> <i class="fas fa-cubes dInlineBlock pr5"></i> {{mbp.product_name || 'N/A'}}</span>
                                                        </div>
                                                        <div class="inner wd11percent">
                                                            <span
                                                                *ngIf="mbp['ProductStockPrice'][0]?.alert_quantity >0 &&mbp['ProductStockPrice'][0]?.alert_quantity<=5"
                                                                class="text-center colorOrange">{{mbp['ProductStockPrice'][0]?.qty_available}}</span>
                                                            <span *ngIf="mbp['ProductStockPrice'][0]?.alert_quantity >5"
                                                                class="text-center colorGreen">{{mbp['ProductStockPrice'][0]?.qty_available}}</span>
                                                            <span
                                                                *ngIf="mbp['ProductStockPrice'][0]?.alert_quantity ==0"
                                                                class="text-center colorRed">{{mbp['ProductStockPrice'][0]?.qty_available}}</span>
                                                        </div>
                                                        <div class="inner wd11percent">
                                                            <!-- <span class="text-center">{{mbp['ProductStockPrice'][0]?.average_cost || currency}}</span> -->
                                                            <span
                                                                class="text-center">{{mbp['ProductStockPrice'][0]?.default_sell_price | currency}}</span>
                                                        </div>
                                                        <div class="inner wd11percent">
                                                            <span class="text-center">
                                                                <div
                                                                    class="input-group borderWidth1pxSolid borderColorcbcbcb borderRadius5 bgWhite">
                                                                    <span class="input-group-btn m0"
                                                                        (click)='mbpMiuns(i)'>
                                                                        <button type="button"
                                                                            class="btn btn-default btn-number borderBRR0 borderTRR0"
                                                                            data-type="minus"
                                                                            data-field="quant[1]">
                                                                            <i class="fas fa-minus"></i>
                                                                        </button>
                                                                    </span>
                                                                    <span *ngIf='!mbp.quantityInput'
                                                                        (click)='quantityInput(i)'
                                                                        class="form-control input-number"
                                                                        style="line-height:2.5">{{mbp.newQuantity +'/'+mbp.max_bundle }}</span>
                                                                    <input *ngIf='mbp.quantityInput'
                                                                        (focusout)="doneQuantityInput(i,$event.target.value)"
                                                                        type="text" name="quant{{i}}"
                                                                        class="form-control input-number" min="1"
                                                                        max="10">
                                                                    <span class="input-group-btn m0"
                                                                        (click)='mbpPluse(i)'>
                                                                        <button type="button"
                                                                            class="btn btn-default btn-number borderBLR0 borderTLR0"
                                                                            data-type="plus" data-field="quant[1]">
                                                                            <i class="fas fa-plus"></i>
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                            </span>
                                                        </div>
                                                        <div class="inner wd11percent">
                                                            <span class="text-center">{{mbp.total | currency}}</span>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="order-cash-details box-shadow">
                                            <div class="up parallelogram">
                                                <div class="right skew-fix ">
                                                    <table class="table" style="width:100%">
                                                        <tbody>
                                                            <tr colspan="2">
                                                                <td>Total:</td>
                                                                <td>{{mbpGrandTotal | currency}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="stock-list-action">
                                            <!-- <div class="caution-stock dtableCell wd40percent">
                                                <div class="filterLinks newfilters bottomFilters">
                                                    <label>Filter by:</label>
                                                    <a href="JavaScript:void(0)"
                                                        class="color000 fontSemiBold fontPoppin"
                                                        [ngClass]="{'active': mbpFilterType == 'All'}"
                                                        (click)="productsRestockFilter('All')">All</a>
                                                    <a href="JavaScript:void(0)"
                                                        class="colorGreen fontSemiBold fontPoppin"
                                                        [ngClass]="{'active': mbpFilterType == 'Plenty'}"
                                                        (click)="productsRestockFilter('Plenty')">Plenty</a>
                                                    <a href="JavaScript:void(0)"
                                                        class="colorOrange fontSemiBold fontPoppin"
                                                        [ngClass]="{'active': mbpFilterType == 'Low'}"
                                                        (click)="productsRestockFilter('Low')">Low</a>
                                                    <a href="JavaScript:void(0)"
                                                        class="colorRed fontSemiBold fontPoppin"
                                                        [ngClass]="{'active': mbpFilterType == 'None'}"
                                                        (click)="productsRestockFilter('None')">None</a>
                                                </div>
                                            </div> -->
                                            <div class="caution-stock dtableCell text-right wd60percent">
                                                <a href="JavaScript:void(0)" class="wd100px"
                                                    (click)="openModal(orderCancelBundle,'custModal wd250')">Cancel</a>
                                                <a href="JavaScript:void(0)" class="wd100px ml5 noFloat"
                                                    (click)="openModal(finishLaterBundle,'custModal wd250')">Finish
                                                    Later</a>
                                                <a href="JavaScript:void(0)" (click)="saveMbpInCart(true)"
                                                    class="ml5 noFloat wd140px">Create Bundle (s)</a>
                                            </div>
                                            <!-- (click)="nextBtnItemsDone()" -->
                                        </div>
                                    </div>
                                    <!-- Select Items for RMA -->
                                    <div *ngIf="selectOrderProcess =='RMA'" class="createRMA"
                                        (click)="displayRMAProducts(false)">
                                        <div id="po-wrapper">
                                            <div *ngIf='supplierRestockLoader && rmaSearch.value == null'
                                                class="luna-loading"></div>
                                            <div class="po-top-info">
                                                <div class="inner wd30percent text-left"><span class="text-left">Product
                                                        name</span></div>
                                                <div class="inner wd15percent text-center"><span
                                                        class="text-center">SKU</span></div>
                                                <div class="inner wd15percent text-center"><span>Avg. Cost</span></div>
                                                <div class="inner wd15percent text-center"><span>Quantity</span></div>
                                                <div class="inner wd15percent text-center"><span>Total</span></div>
                                                <div class="inner wd10percent text-center"><span>Action</span></div>
                                            </div>
                                            <div class="po-inner-list">
                                                <div *ngIf='rmaLoader' class="luna-loading"></div>
                                                <div class="empty-text">
                                                    <h2><i class="fas fa-exclamation-triangle"></i>No Items Available
                                                    </h2>
                                                </div>
                                                <ul>
                                                    <!-- *ngFor="let mbp of productsRestock; let i = index" -->
                                                    <li class=""
                                                        *ngFor="let rmaProduct of rmaReturnProducts; let i = index">
                                                        <div class="inner wd30percent text-left">
                                                            <span
                                                                class="dInlineBlock">{{rmaProduct.product_name }}</span>
                                                        </div>
                                                        <div class="inner wd15percent text-center">
                                                            <span
                                                                class="dInlineBlock">{{rmaProduct['Suppliers'][0].sku_number ||'NA'}}</span>
                                                        </div>
                                                        <div class="inner wd15percent">
                                                            <!-- <span class="text-center">{{rmaProduct.average_cost |currency}}</span> -->
                                                            <input (focusout)="changeRMAcost(i)" appTwoDigitDecimaNumber
                                                                type="text" name="cost{{i}}"
                                                                [(ngModel)]="rmaProduct.average_cost"
                                                                class="form-control input-number wd80percent mx-auto borderWidth1pxSolid borderColorcbcbcb">
                                                            <!-- <input (focusout)="changecostRMA(i,$event.target.value)" appTwoDigitDecimaNumber 
                                                                 placeholder="{{rmaProduct.average_cost | currency}}"
                                                                 type="text" name="cost{{i}}"    value=""
                                                                 class="form-control input-number wd80percent mx-auto borderWidth1pxSolid borderColorcbcbcb pholderInput">    -->
                                                            <!-- <input [ngModel]="rmaProduct.average_cost | currency" appTwoDigitDecimaNumber
                                                                        (focusout)="changeRMAcost(i)" (ngModelChange)="rmaProduct.average_cost=$event"
                                                                        type="text" name="avgCost{{i}}" id="avgCost{{i}}"
                                                                        class="form-control input-number" > -->
                                                        </div>
                                                        <div class="inner wd15percent">
                                                            <span class="text-center">
                                                                <div
                                                                    class="wd80percent mx-auto input-group borderWidth1pxSolid borderColorcbcbcb borderRadius5 bgWhite">
                                                                    <span class="input-group-btn m0"
                                                                        (click)='rmaMiuns(i)'>
                                                                        <button type="button"
                                                                            class="btn btn-default btn-number borderBRR0 borderTRR0"
                                                                            data-type="minus"
                                                                            data-field="quant[1]">
                                                                            <i class="fas fa-minus"></i>
                                                                        </button>
                                                                    </span>

                                                                    <!-- <span *ngIf='!rmaProduct.quantityInput'
                                                                        (click)='rmaQuantityInput(i)'
                                                                        class="form-control input-number"
                                                                        style="line-height:2.5"> {{rmaProduct.quantity}}
                                                                    </span> -->
                                                                      <!-- [value]="supplier.ordered_qty" numeric -->
                                                                    <input [value]="rmaProduct.quantity" numeric
                                                                        (keypress)="numberOnly($event)"
                                                                        (focusout)="doneRMAQuantityInput(i,$event.target.value)"
                                                                        type="text" name="quant{{i}}"
                                                                        class="form-control input-number" >
                                                                    <span class="input-group-btn m0"
                                                                        (click)='rmaPluse(i)'>
                                                                        <button type="button"
                                                                            class="btn btn-default btn-number borderBLR0 borderTLR0"
                                                                            data-type="plus" data-field="quant[1]">
                                                                            <i class="fas fa-plus"></i>
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                            </span>
                                                        </div>
                                                        <div class="inner wd15percent">
                                                            <span class="text-center"> {{rmaProduct.total |currency }}
                                                            </span>
                                                        </div>
                                                        <div class="inner wd10percent">
                                                            <a href="JavaScript:void(0)"
                                                                (click)="openRMADeleteModal(openDeleteRMAList,'custModal wd300',i)"
                                                                class="color000 font12 deleteRMAList">
                                                                <i class="fas fa-trash-alt"></i>
                                                            </a>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="order-cash-details po-info box-shadow">
                                            <div class="down">
                                                <div class="center">
                                                    <a (click)="downcart()"><i class="fas fa-caret-down"></i></a>
                                                </div>
                                            </div>
                                            <div class="up">
                                                <div class="center">
                                                    <a (click)="downcart()"><i class="fas fa-caret-up"></i></a>
                                                </div>
                                            </div>
                                            <div class="rightText"><span>RMA Details</span></div>
                                            <div class="inner-top">
                                                <div class="cash-field">
                                                    <div class="top-sub">
                                                        <div class="scroll-content">
                                                            <table class="table" style="width:100%">
                                                                <tbody>
                                                                    <tr colspan="4">
                                                                        <td>Supplier:</td>
                                                                        <td>{{ supplierRestockSelected.supplier_company}}
                                                                        </td>
                                                                        <td>Supplier's RMA no.:</td>
                                                                        <td></td>
                                                                    </tr>
                                                                    <tr colspan="4">
                                                                        <td>Date:</td>
                                                                        <td>
                                                                            <input (click)='rmaDateErrorFun()'
                                                                                type="text"
                                                                                [ngClass]="{ 'bounce': rmaDateError}"
                                                                                bsDatepicker [(ngModel)]="rmaDate"
                                                                                placeholder="Jan/01/2020"
                                                                                class="form-control font12 text-left borderColorcbcbcb fl"
                                                                                [bsConfig]="{showWeekNumbers:false, maxDate: todayDate , isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                                                                placement="top"
                                                                                [isOpen]="isOpenrmaDate">
                                                                            <span class="field-error-msg"
                                                                                *ngIf="rmaDateError">
                                                                                Date is required</span>
                                                                            <span
                                                                                (click)="isOpenrmaDate = !isOpenrmaDate"
                                                                                class="datePickerIcon"></span>
                                                                        </td>
                                                                        <td>Tracking number:</td>
                                                                        <td></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="cash-field">
                                                    <div class="top-sub noborder p0">
                                                        <table class="table notes-table" style="width:100%">
                                                            <tbody>
                                                                <tr colspan="2">
                                                                    <td>Estimated RMA:</td>
                                                                    <td>{{estimatedPayOutRMA | currency }}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="stock-list-action">
                                            <div class="caution-stock dtableCell wd40percent">
                                            </div>
                                            <div class="caution-stock dtableCell text-right wd60percent">
                                                <a *ngIf='transactionIdRMA ==""' href="JavaScript:void(0)"
                                                    class="wd100px"
                                                    (click)="openModal(orderCancelRMA,'custModal wd250')">Cancel</a>
                                                <a href="JavaScript:void(0)" class="wd100px ml5 noFloat"
                                                    (click)="openModal(finishLaterRMA,'custModal wd250')">Finish
                                                    Later</a>
                                                <a href="JavaScript:void(0)" (click)="createRMAOrderFun('submit','')"
                                                    class="wd140px ml5 noFloat">Submit</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Select Items for Buyback -->
                            <div *ngIf='displayBuyBackProgram' id="stock-s">
                                <app-buyback-program [supplierList]="addSupplierToList"
                                    (dblclick)="orderDoubleClick('BP')"
                                    (onShowToaster)="toasterFunction($event[0],$event[1])"
                                    (onCancelOrderProcess)="cancel($event[0],$event[1])" [orderId]="currentOrderId">
                                </app-buyback-program>
                            </div>
                        </div>
                        <!-- Purchase Order Receiving -->
                        <div *ngIf="poDetails" class="outer-wrapper">
                            <div class="inner-wrapper po-details po-info"
                                [ngClass]="{'down-list':isScrollable, 'nodown-list': orderDetail?.dynamic_status?.status_name != 'Partially Received'}">
                                <!-- <div *ngIf="loadOrder" class="luna-loading"></div> -->
                                <div class="cut-search-area">
                                    <div class="top-info">
                                        <h2 *ngIf="!orderDetail['is_extra_items'] && !orderDetail['is_missing_items']"
                                            class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd30percent textUpperCase">
                                            <span>P.O. Details</span>
                                        </h2>
                                        <h2 *ngIf="orderDetail['is_extra_items']"
                                            class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd30percent textUpperCase">
                                            <span>Extra Items</span>
                                        </h2>
                                        <h2 *ngIf="orderDetail['is_missing_items']"
                                            class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd30percent textUpperCase">
                                            <span>Missing Items</span>
                                        </h2>
                                        <div class="wd70percent dInlinetable text-right">
                                            <div class="dInlinetable wd80percent">
                                                <div class="search-field input-group wd100Percent poDetailSearch">
                                                    <input [(ngModel)]="searchPODetail" type="text" class="form-control"
                                                        placeholder="Search by product name, sku ">
                                                    <a href="JavaScript:void(0)" class="input-group-addon">
                                                        <i *ngIf="searchPODetail != ''" (click)="searchPODetail = ''"
                                                            class="fas fa-times-circle"></i>
                                                        <i class="icon-search"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div *ngIf="(orderDetail['dynamic_status']['status_name'] == 'Delivered' || orderDetail['dynamic_status']['status_name'] == 'Partially Received') && !orderDetail['is_extra_items'] && !orderDetail['is_missing_items'] && !orderDetail['is_additional_cost']"
                                                class="dInlinetable ml10 valignMiddle">
                                                <a tooltip="Receive all" placement="bottom" (click)="allItemRecieve()" [ngClass]="{'active':allItemRec}"
                                                    class="receivingIcon dInlineBlock" href="JavaScript:void(0)">
                                                    <i class="icon-complete2"></i>
                                                </a>
                                                <a tooltip="Scanner" placement="bottom" class="receivingIcon dInlineBlock pl10" href="JavaScript:void(0)">
                                                    <i class="icon-scan1"></i>
                                                </a>
                                            </div>
                                        </div>
                                        <!-- <div class="search-field input-group poDetailSearch wd50percent fr">
                                            <input [formControl]="searchPO" type="text" class="form-control"
                                                placeholder="Search by supplier name, PO no ">
                                            <a href="JavaScript:void(0)" class="input-group-addon">
                                                <i *ngIf="searchPO.value" (click)="searchPO.reset()" class="fas fa-times-circle" ></i>
                                                <i class="icon-search"></i>
                                            </a>
                                        </div> -->
                                    </div>
                                </div>
                                <!-- Normal PO Receiving -->
                                <div id="po-wrapper"
                                    *ngIf="!orderDetail['is_extra_items'] && !orderDetail['is_missing_items']">
                                    <div class="po-top-info">
                                        <div class="inner wd30percent"><span>Product Name</span></div>
                                        <div class="inner wd12percent text-center"><span class="text-center"> SKU</span>
                                        </div>
                                        <div class="inner wd12percent text-center"><span class="text-center noWrap">Unit
                                                Cost</span></div>
                                        <div class="inner wd15percent text-center">
                                            <span class="noWrap">Ordered | Received</span>
                                        </div>
                                        <div class="inner wd15percent text-center">
                                            <span class="noWrap">Receiving</span>
                                        </div>
                                        <div class="inner wd10percent text-center"><span>Total</span></div>
                                    </div>
                                    <div class="po-inner-list">
                                        <ul>
                                            <form autocomplete="off" [formGroup]="extraItemsForm">
                                                <li class="noHovereffect"
                                                    *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered' || orderDetail?.dynamic_status?.status_name == 'Partially Received'">
                                                    <div class="inner wd30percent posRelative">
                                                        <input
                                                            [ngClass]="{'bounce inputError':addExtraSubmitted && faddExtraItem.Product.errors}"
                                                            type="text" (click)="showExtraItemList(true)"
                                                            [(ngModel)]="searchExtraProduct"
                                                            (ngModelChange)="getProductBySupplierForExtra()"
                                                            [ngModelOptions]="{standalone: true}"
                                                            class="form-control additionalItemsinput text-left"
                                                            placeholder="Product Name" />
                                                        <div class="ulWrapper addExtraitemslist" *ngIf="extraItemList">
                                                            <ul>
                                                                <li (click)="addExistingExtraItems(product)"
                                                                    *ngFor="let product of existingProducts; let i= index;">
                                                                    <a>
                                                                        <span> {{product.product_name}} </span>
                                                                        <span> SKU : {{product?.Suppliers[0].sku_number}} </span>
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                            <a href="JavaScript:void(0)" (click)="addProduct()"
                                                                id="add-to-list"
                                                                class="addbtnDroplist dBlock borderRadius5 text-center">
                                                                Add Product
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="inner wd12percent text-center">
                                                        <input
                                                            [ngClass]="{'bounce inputError':addExtraSubmitted && faddExtraItem.sku_numbner.errors}"
                                                            type="text" formControlName="sku_numbner"
                                                            (click)="showExtraItemList(false)"
                                                            class="form-control additionalItemsinput"
                                                            placeholder="AAA001" />
                                                    </div>
                                                    <div class="inner wd12percent text-center">
                                                        <input
                                                            [ngClass]="{'bounce inputError':addExtraSubmitted && faddExtraItem.product_cost_price.errors}"
                                                            type="text" formControlName="product_cost_price" appTwoDigitDecimaNumber
                                                            (click)="showExtraItemList(false)"
                                                            class="form-control additionalItemsinput"
                                                            placeholder="0.00" />
                                                    </div>
                                                    <div class="inner wd15percent text-center">
                                                        <span class="text-center color808080">0</span>
                                                    </div>
                                                    <div class="inner text-center recevingInput wd15percent">
                                                        <input
                                                            [ngClass]="{'bounce inputError':addExtraSubmitted && faddExtraItem.receive_quantity.errors}"
                                                            type="text" formControlName="receive_quantity" numeric
                                                            (click)="showExtraItemList(false)"
                                                            class="form-control additionalItemsinput" placeholder="0" />
                                                    </div>
                                                    <div class="inner wd10percent text-center">
                                                        <a (click)="addExtraItem()" href="JavaScript:void(0)"
                                                            class="addAdditionalItemsBtn">Add</a>
                                                    </div>
                                                </li>
                                            </form>
                                            <li *ngFor="let extra of extraItems; let in = index;" class="">
                                                <div class="inner wd30percent">
                                                    <span *ngIf="!extra.editExtra || extra?._id != ''"
                                                        class="colorRed dBlock">{{extra?.Product}} <i
                                                            class="fas fa-shopping-cart"></i></span>
                                                    <input *ngIf="extra.editExtra && extra?._id == ''"
                                                        [ngClass]="{'bounce inputError':addExtraSubmitted && faddExtraItem.Product.errors}"
                                                        [(ngModel)]="extraItems[in].Product" type="text"
                                                        class="form-control additionalItemsinput text-left"
                                                        placeholder="Product Name" />
                                                </div>
                                                <div class="inner wd12percent text-center">
                                                    <span *ngIf="!extra.editExtra || extra?._id != ''"
                                                        class="colorRed dBlock text-center dBlock">{{extra?.sku_numbner}}</span>
                                                    <input *ngIf="extra.editExtra && extra?._id == ''"
                                                        [ngClass]="{'bounce inputError':addExtraSubmitted && faddExtraItem.sku_numbner.errors}"
                                                        type="text" [(ngModel)]="extraItems[in].sku_numbner"
                                                        class="form-control additionalItemsinput"
                                                        placeholder="AAA001" />
                                                </div>
                                                <div class="inner wd12percent text-center">
                                                    <span *ngIf="!extra.editExtra"
                                                        class="dBlock">{{extra?.product_cost_price}}</span>
                                                    <input *ngIf="extra.editExtra"
                                                        [ngClass]="{'bounce inputError':addExtraSubmitted && faddExtraItem.product_cost_price.errors}"
                                                        type="text" [(ngModel)]="extraItems[in].product_cost_price"
                                                        class="form-control additionalItemsinput" placeholder="0.00" />
                                                </div>
                                                <div class="inner wd15percent text-center">
                                                    <span
                                                        class="colorRed text-center color808080">{{'0' + ' ' + '|' + ' ' + extra?.receive_quantity}}</span>
                                                </div>
                                                <div class="inner text-center recevingInput wd15percent">
                                                    <span *ngIf="!extra.editExtra"
                                                        class="dBlock">{{extra?.receive_quantity}}</span>
                                                    <input *ngIf="extra.editExtra"
                                                        [ngClass]="{'bounce inputError':addExtraSubmitted && faddExtraItem.receive_quantity.errors}"
                                                        type="text" [(ngModel)]="extraItems[in].receive_quantity"
                                                        class="form-control additionalItemsinput" placeholder="0" />
                                                </div>
                                                <div class="inner wd10percent text-center">
                                                    <a *ngIf="!extra.editExtra" href="JavaScript:void(0)"
                                                        (click)="editExtraItems(in)"
                                                        class="color808080 font11 m0 dInlineBlock">
                                                        <i class="far fa-edit"></i>
                                                    </a>
                                                    <a *ngIf="extra.editExtra" (click)="updateExtraItems(in)"
                                                        href="JavaScript:void(0)"
                                                        class="color808080 font11 m0 dInlineBlock">
                                                        <i class="far fa-save"></i>
                                                    </a>
                                                    <a (click)="openRemoveProductModel(open_removeproduct,'custModal wd250',in,false);"
                                                        href="JavaScript:void(0)"
                                                        class="color808080 font11 m0 dInlineBlock pl10">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </a>
                                                    <span *ngIf="!extra.editExtra"
                                                        class="dBlock">{{extra?.total_amount | currency}}</span>
                                                </div>
                                            </li>
                                            <li *ngFor="let pro of orderDetail['TransactionPurchaseLine'] | listFilterByFieldName: searchPODetail : searchPODetailString; let i = index;"
                                                class="padding8px">
                                                <div class="inner wd30percent">
                                                    <span [ngClass]="{'colorRed':pro?.is_extra_item}"
                                                        class="dBlock">{{pro?.Product?.product_name}}
                                                        <i *ngIf="pro?.is_extra_item" class="fas fa-shopping-cart"></i>
                                                    </span>
                                                </div>
                                                <div class="inner wd12percent text-center">
                                                    <span [ngClass]="{'colorRed':pro?.is_extra_item}"
                                                        class="text-center color808080">{{pro?.stock_sku_number}}</span>
                                                </div>
                                                <div class="inner wd12percent text-center">
                                                    <span *ngIf="!pro.editExtra"
                                                        class="text-center">{{pro?.product_cost_price}}</span>
                                                    <input *ngIf="pro.editExtra"
                                                        [ngClass]="{'bounce inputError':addExtraSubmitted && orderDetail['TransactionPurchaseLine']['Product']['product_cost_price'] == ''}"
                                                        [(ngModel)]="orderDetail['TransactionPurchaseLine'][i]['product_cost_price']"
                                                        type="text" class="form-control additionalItemsinput text-left"
                                                        placeholder="Unit cost" appTwoDigitDecimaNumber />
                                                </div>
                                                <div class="inner wd15percent text-center">
                                                    <span>{{pro?.quantity + ' |' + ' ' + pro?.receive_quantity}}</span>
                                                </div>
                                                <div class="inner text-center recevingInput wd15percent">
                                                    <span
                                                        *ngIf="orderDetail?.dynamic_status?.status_name != 'Delivered' && orderDetail?.dynamic_status?.status_name != 'Partially Received'">
                                                        ...
                                                    </span>
                                                    <span
                                                        *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered' || orderDetail?.dynamic_status?.status_name == 'Partially Received'">
                                                        <input name="pr{{i + 1}}"
                                                            [(ngModel)]="orderDetail['TransactionPurchaseLine'][i].receiving_quantity" numeric
                                                            (keypress)="numberOnly($event)" class="borderColorcbcbcb">
                                                    </span>
                                                </div>
                                                <div *ngIf="pro.is_extra_item && (orderDetail?.dynamic_status?.status_name == 'Partially Received' || orderDetail?.dynamic_status?.status_name == 'Delivered') "
                                                    class="inner wd10percent text-center">
                                                    <a *ngIf="!pro?.editExtra" href="JavaScript:void(0)"
                                                        (click)="editExtraItemAfterRec(i)"
                                                        class="color808080 font11 m0 dInlineBlock">
                                                        <i class="far fa-edit"></i>
                                                    </a>
                                                    <a *ngIf="pro?.editExtra" (click)="updateExtraItemAfterRec(i)"
                                                        href="JavaScript:void(0)"
                                                        class="color808080 font11 m0 dInlineBlock">
                                                        <i class="far fa-save"></i>
                                                    </a>
                                                    <a (click)="openRemoveProductModel(open_removeproduct,'custModal wd250',i,true);"
                                                        href="JavaScript:void(0)"
                                                        class="color808080 font11 m0 dInlineBlock pl10">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </a>
                                                    <span>{{pro?.total_amount | currency}}</span>
                                                </div>
                                                <div *ngIf="!pro.is_extra_item || orderDetail?.dynamic_status?.status_name == 'Completed'"
                                                    class="inner wd10percent text-center">
                                                    <span>{{pro?.total_amount | currency}}</span>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <!-- Missing items PO Receiving -->
                                <div id="po-wrapper" *ngIf="orderDetail['is_missing_items']">
                                    <div class="po-top-info">
                                        <div class="inner wd30percent"><span>Product Name</span></div>
                                        <div class="inner wd12percent text-center"><span class="text-center"> SKU</span>
                                        </div>
                                        <div class="inner wd12percent text-center"><span class="text-center noWrap">Unit
                                                Cost</span></div>
                                        <div class="inner wd15percent text-center">
                                            <span class="noWrap">Items Missing</span>
                                        </div>
                                        <div class="inner wd10percent text-center"><span>Balance</span></div>
                                    </div>
                                    <div class="po-inner-list">
                                        <ul>
                                            <li [ngClass]="{'no-dp1' : pro.is_extra_item}"
                                                *ngFor="let pro of orderDetail['TransactionPurchaseLine'] | listFilterByFieldName: searchPODetail : searchPODetailString; let i = index;"
                                                class="padding8px">
                                                <div class="inner wd30percent">
                                                    <span [ngClass]="{'colorRed':pro?.is_extra_item}"
                                                        class="dBlock">{{pro?.Product?.product_name}}</span>
                                                    <!-- <span class="dBlock color808080">SKU: {{pro?.Product?.sku}}</span> -->
                                                </div>
                                                <div class="inner wd12percent text-center">
                                                    <span [ngClass]="{'colorRed':pro?.is_extra_item}"
                                                        class="text-center color808080">{{pro?.Product?.sku}}</span>
                                                </div>
                                                <div class="inner wd12percent text-center">
                                                    <span class="text-center">{{pro?.product_cost_price}}</span>
                                                </div>
                                                <div class="inner text-center recevingInput wd15percent">
                                                    <span
                                                        *ngIf="orderDetail['is_missing_items'] && !pro?.is_extra_item">
                                                        {{ pro?.quantity - pro?.receive_quantity || '0'}}
                                                    </span>
                                                </div>
                                                <div class="inner wd10percent text-center">
                                                    <span>${{pro?.product_cost_price * (pro?.quantity - pro?.receive_quantity)}}</span>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <!-- Extra items PO Receiving -->
                                <div id="po-wrapper" *ngIf="orderDetail['is_extra_items']">
                                    <div class="po-top-info">
                                        <div class="inner wd30percent"><span>Product Name</span></div>
                                        <div class="inner wd12percent text-center"><span class="text-center"> SKU</span>
                                        </div>
                                        <div class="inner wd12percent text-center"><span class="text-center noWrap">Unit
                                                Cost</span></div>
                                        <div class="inner wd15percent text-center">
                                            <span class="noWrap">Extra Items</span>
                                        </div>
                                        <div class="inner wd10percent text-center"><span>Total</span></div>
                                    </div>
                                    <div class="po-inner-list">
                                        <ul>
                                            <li [ngClass]="{'no-dp1' : pro?.receive_quantity - pro?.quantity <= 0}"
                                                *ngFor="let pro of orderDetail['TransactionPurchaseLine'] | listFilterByFieldName: searchPODetail : searchPODetailString; let i = index;"
                                                class="padding8px">
                                                <div class="inner wd30percent">
                                                    <span [ngClass]="{'colorRed':pro?.is_extra_item}"
                                                        class="dBlock">{{pro?.Product?.product_name}}</span>
                                                    <!-- <span class="dBlock color808080">SKU: {{pro?.Product?.sku}}</span> -->
                                                </div>
                                                <div class="inner wd12percent text-center">
                                                    <span [ngClass]="{'colorRed':pro?.is_extra_item}"
                                                        class="text-center color808080">{{pro?.stock_sku_number}}</span>
                                                </div>
                                                <div class="inner wd12percent text-center">
                                                    <span
                                                        class="text-center">{{pro?.product_cost_price | currency}}</span>
                                                </div>
                                                <div class="inner text-center recevingInput wd15percent">
                                                    <span>
                                                        {{pro?.receive_quantity - pro?.quantity || '0'}}
                                                    </span>
                                                </div>
                                                <div class="inner wd10percent text-center">
                                                    <span>${{ ( pro?.receive_quantity - pro?.quantity ) * pro?.product_cost_price }}</span>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="order-cash-details po-info box-shadow receivingTabs">
                                    <div class="down">
                                        <div class="center">
                                            <a (click)="downcart()"><i class="fas fa-caret-down"></i></a>
                                        </div>
                                    </div>
                                    <div class="up">
                                        <div class="center">
                                            <a (click)="downcart()"><i class="fas fa-caret-up"></i></a>
                                        </div>
                                        <div class="right">
                                            <table class="table" style="width:100%">
                                                <tbody>
                                                    <tr colspan="2">
                                                        <td>Total:</td>
                                                        <td>${{orderDetail['total_amount']}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <tabset #POTabs>
                                        <tab (selectTab)="showPaymentBtn()" heading="Order Details">
                                            <div class="inner-top">
                                                <div class="cash-field">
                                                    <div class="top-sub">
                                                        <div class="scroll-content">
                                                            <table class="table" style="width:100%">
                                                                <tbody>
                                                                    <tr colspan="4">
                                                                        <td>Supplier:</td>
                                                                        <td>{{orderDetail?.Supplier?.supplier_company}}
                                                                        </td>
                                                                        <td>Order By:</td>
                                                                        <td>{{orderDetail?.created_by?.first_name + ' ' + orderDetail?.created_by?.last_name}}
                                                                        </td>
                                                                    </tr>
                                                                    <tr colspan="4">
                                                                        <td>Order Date:</td>
                                                                        <td>{{orderDetail?.created_at | customDateFormat }}
                                                                        </td>
                                                                        <td>Shipping option:</td>
                                                                        <td>{{orderDetail?.ShippingType?.shipment_name}}
                                                                        </td>
                                                                    </tr>
                                                                    <tr colspan="4">
                                                                        <td>Supplier's Order No:</td>
                                                                        <td>{{orderDetail?.supplier_order_number}}</td>
                                                                        <td>Delivery Address:</td>
                                                                        <td>{{orderDetail?.BusinessLocation?.address_1}}
                                                                        </td>
                                                                    </tr>
                                                                    <tr colspan="4">
                                                                        <td>Additional Cost:</td>
                                                                        <td>{{orderDetail?.received_additional_cost || '0.00' | currency}}
                                                                        </td>
                                                                        <td></td>
                                                                        <td></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="cash-field">
                                                    <div class="top-sub noborder p0">
                                                        <table class="table notes-table" style="width:100%">
                                                            <tbody>
                                                                <tr>
                                                                    <td>Notes</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>{{orderDetail?.additional_notes}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </tab>
                                        <tab (selectTab)="showPaymentBtn()" heading="Payment Details">
                                            <div class="inner-top">
                                                <div class="cash-field">
                                                    <div id="po-wrapper" class="paymentDetails">
                                                        <div class="po-top-info">
                                                            <div class="inner wd30percent"><span
                                                                    class="text-center bgc4c4c4">Date
                                                                    and time</span>
                                                            </div>
                                                            <div class="inner wd40percent"><span
                                                                    class="text-center bgc4c4c4">Payment Method</span>
                                                            </div>
                                                            <div class="inner wd30percent"><span
                                                                    class="text-center bgc4c4c4">Amount</span></div>
                                                            <!-- <div class="inner wd10Percent"><span
                                                                    class="text-center bgc4c4c4">Action</span></div> -->
                                                        </div>
                                                        <div class="po-inner-list">
                                                            <ul>
                                                                <li *ngFor="let pay of orderDetail['TransactionPayment']; let i = index;"
                                                                    class="">
                                                                    <div class="inner text-center wd30percent">
                                                                        <span
                                                                            class="text-center mr25">{{pay?.paid_on | customDateFormat}}</span>
                                                                    </div>
                                                                    <div class="inner text-center wd40percent">
                                                                        <span *ngIf="pay?.method != 'credit_card'"
                                                                            class="text-center ml15 mr15">
                                                                            <i *ngIf="pay?.method == 'cash'"
                                                                                class="icon-cash pr5 dtableCell"></i>
                                                                            <i *ngIf="pay?.method == 'cheque'"
                                                                                class="icon-check pr5 dtableCell"></i>
                                                                            <i *ngIf="pay?.method == 'paypal'"
                                                                                class="icon-paypal pr5 dtableCell"></i>
                                                                            <i *ngIf="pay?.method == 'net_term'"
                                                                                class="icon-net_terms pr5 dtableCell"></i>
                                                                            <i *ngIf="pay?.method == 'store_credit'"
                                                                                class="icon-store_credit pr5 dtableCell"></i>
                                                                            <i
                                                                                class="dtableCell fontStyleNormal">{{pay?.method.replace('_',' ') | titlecase}}</i>
                                                                        </span>
                                                                        <span *ngIf="pay?.method == 'credit_card'"
                                                                            class=" ml15 mr15">
                                                                            <i *ngIf="pay?.method == 'credit_card'"
                                                                                class="icon-credit_card pr5 dtableCell"></i>
                                                                            <i class="dtableCell fontStyleNormal">{{pay?.method.replace('_',' ') | titlecase}}
                                                                                ({{pay?.card_used_no}})</i>
                                                                        </span>
                                                                    </div>
                                                                    <div class="inner text-center wd30percent">
                                                                        <span
                                                                            class="text-center ml25">{{pay?.amount | currency}}</span>
                                                                    </div>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="cash-field">
                                                    <div class="top-sub">
                                                        <table class="table" style="width:100%">
                                                            <tbody>
                                                                <tr colspan="2">
                                                                    <td>Subtotal:</td>
                                                                    <td>{{orderDetail?.sub_total_amount | currency}}
                                                                    </td>
                                                                </tr>
                                                                <tr colspan="2">
                                                                    <td>Discount</td>
                                                                    <td><span>{{orderDetail?.discount_amount | currency}}</span>
                                                                    </td>
                                                                </tr>
                                                                <tr colspan="2">
                                                                    <td>Tax({{orderDetail?.Tax?.amount || '0'}}%)</td>
                                                                    <td><span>{{orderDetail?.tax_amount | currency}}</span>
                                                                    </td>
                                                                </tr>
                                                                <tr colspan="2">
                                                                    <td>Shippment Fee:</td>
                                                                    <td><span>{{orderDetail?.shipping_amount | currency}}</span>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class="bottom-total">
                                                        <table class="table" style="width:100%">
                                                            <tbody>
                                                                <tr colspan="2">
                                                                    <td>Total</td>
                                                                    <td>{{orderDetail?.total_amount | currency}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </tab>
                                        <tab *ngIf="orderDetail?.dynamic_status?.status_name == 'Partially Received' || 
                                            orderDetail?.dynamic_status?.status_name == 'Delivered' || 
                                             orderDetail?.dynamic_status?.status_name == 'Completed'"
                                            (selectTab)="showPaymentBtn()" heading="Log">
                                            <div class="inner-top logDetails">
                                                <div id="po-wrapper">
                                                    <div class="po-top-info">
                                                        <div class="inner wd30percent text-left">
                                                            <span class="text-left">Items</span>
                                                        </div>
                                                        <div class="inner wd15percent text-center">
                                                            <span class="text-center">SKU</span>
                                                        </div>
                                                        <div class="inner wd20percent">
                                                            <span>Date and time</span>
                                                        </div>
                                                        <div class="inner wd10percent">
                                                            <span>Ordered</span>
                                                        </div>
                                                        <div class="inner wd10percent">
                                                            <span>Received</span>
                                                        </div>
                                                        <div class="inner wd10percent">
                                                            <span>Missing</span>
                                                        </div>
                                                        <div *ngIf="orderDetail?.dynamic_status?.status_name != 'Completed'"
                                                            class="inner wd5Percent">
                                                            <span><i class="icon-delete"></i></span>
                                                        </div>

                                                    </div>
                                                    <div class="po-inner-list">
                                                        <ul>
                                                            <li *ngFor="let log of recLogs; let i = index;">
                                                                <div class="inner wd30percent">
                                                                    <span
                                                                        class="text-left">{{log?.Product?.product_name}}</span>
                                                                </div>
                                                                <div class="inner wd15percent">
                                                                    <span
                                                                        class="text-center">{{log?.stock_sku_number}}</span>
                                                                </div>
                                                                <div class="inner wd20percent">
                                                                    <span>{{log?.receivedDate | date : 'M/d/yy - h:mm a'}}</span>
                                                                </div>
                                                                <div class="inner wd10percent">
                                                                    <span>{{log?.quantity}}</span>
                                                                </div>
                                                                <div class="inner wd10percent">
                                                                    <span>{{log?.receive_quantity}}</span>
                                                                </div>
                                                                <div class="inner wd10percent">
                                                                    <span>{{log?.quantity_returned || '0'}}</span>
                                                                </div>
                                                                <div *ngIf="orderDetail?.dynamic_status?.status_name != 'Completed'"
                                                                    class="inner wd5Percent">
                                                                    <a href="JavaScript:void(0)"
                                                                        (click)="openRemoveLogModel(open_Removelog,'custModal wd250',log)"
                                                                        class="color000"><i
                                                                            class="icon-delete deleteLog"></i></a>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </tab>
                                    </tabset>
                                </div>
                                <div class="bottom">
                                    <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Completed'" class="caution-stock dtableCell wd30percent text-left valignMiddle">
                                        <p class="font11 fontSemiBold color000">Note: <span
                                                class="font11 fontRegular">{{totalItemsInOrder}} items added on
                                                shelf</span></p>
                                    </div>
                                    <div class="caution-stock dtableCell wd70percent text-right valignMiddle"
                                        *ngIf="orderDetail?.dynamic_status?.status_name == 'Completed'">
                                        <a *ngIf="orderDetail['is_additional_cost']" (click)="orderRepay('addCost')"
                                            href="JavaScript:void(0)" class="back-cust-list">
                                            Pay Aditional Cost
                                        </a>
                                    </div>
                                    <div *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered' || orderDetail?.dynamic_status?.status_name == 'Partially Received'"
                                        class="caution-stock dtableCell wd70percent text-right valignMiddle">
                                        <a *ngIf="orderDetail?.dynamic_status?.status_name == 'Partially Received' && !orderDetail['is_extra_items'] && !orderDetail['is_missing_items']"
                                            href="JavaScript:void(0)"
                                            (click)="updateRecieveOrder('Partially Received','finish later')"
                                            class="back-cust-list wd100px">
                                            Finish Later
                                        </a>

                                        <a *ngIf="orderDetail?.dynamic_status?.status_name == 'Partially Received' && (orderDetail['is_extra_items'] || orderDetail['is_missing_items'])"
                                            href="JavaScript:void(0)" (click)="finishLaterOrder()"
                                            class="back-cust-list wd100px">
                                            Finish Later
                                        </a>

                                        <a *ngIf="isOrderCompletelyRecieved() && extraItems.length == 0 && !orderDetail['is_additional_cost'] && !orderDetail['is_extra_items'] && !orderDetail['is_missing_items']"
                                            (click)="updateRecieveOrder('Completed','completed')"
                                            href="JavaScript:void(0)" class="back-cust-list wd100px">
                                            Complete
                                        </a>

                                        <a *ngIf="!isOrderCompletelyRecieved() && orderDetail?.dynamic_status?.status_name == 'Delivered'"
                                            (click)="updateRecieveOrder('Partially Received','save')"
                                            href="JavaScript:void(0)" class="back-cust-list wd100px">
                                            Save
                                        </a>

                                        <a *ngIf="!isOrderCompletelyRecieved() && orderDetail?.dynamic_status?.status_name == 'Partially Received' && !orderDetail['is_extra_items'] && !orderDetail['is_additional_cost'] 
                                            && !orderDetail['is_missing_items']"
                                            (click)="recieveOrderSubmitAsIs('submit as is')" href="JavaScript:void(0)"
                                            class="back-cust-list wd100px">
                                            Submit As Is
                                        </a>

                                        <!-- <a *ngIf="orderDetail['is_additional_cost']" (click)="orderRepay('addCost')"
                                            href="JavaScript:void(0)" class="back-cust-list">
                                            Pay Aditional Cost
                                        </a> -->

                                        <a *ngIf="orderDetail['is_extra_items']" href="JavaScript:void(0)"
                                            (click)="createDirectRMA()" class="back-cust-list wd100px">
                                            CREATE RMA
                                        </a>

                                        <a *ngIf="orderDetail['is_extra_items']" href="JavaScript:void(0)"
                                            (click)="orderRepay('extra')" class="back-cust-list wd100px">
                                            Pay Extra Item
                                        </a>

                                        <a *ngIf="orderDetail['is_missing_items']" href="JavaScript:void(0)"
                                            (click)="openReceiveRefundModel(open_cancelPO, 'custModal wd400')"
                                            class="back-cust-list wd100px">
                                            Receive Refund
                                        </a>
                                        <a *ngIf="orderDetail['is_missing_items']" href="JavaScript:void(0)"
                                            (click)="openReceiveRefundModel(open_MarkAsMissing, 'custModal wd300')"
                                            class="back-cust-list">
                                            Mark as missing items
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- RMA Order Receiving -->
                        <div *ngIf="rmaDetailsSession==true" class="outer-wrapper">
                            <div class="inner-wrapper po-details po-info receiveType rmaDetails"
                                [ngClass]="{'down-list':isScrollable}">
                                <div *ngIf="showLoader" class="luna-loading"></div>
                                <div class="cut-search-area">
                                    <div class="top-info">
                                        <h2
                                            class="color000 mb0 font14 pt7 pb7 fontSemiBold fontPoppin dInlinetable text-left wd30percent textUpperCase">
                                            <span>RMA Details</span>
                                        </h2>
                                        <div class="wd70percent dInlinetable text-right">
                                            <div class="dInlinetable wd80percent">
                                                <div class="search-field input-group wd100Percent poDetailSearch">
                                                    <input [(ngModel)]="searchRMA" type="text" class="form-control"
                                                        placeholder="Search by product name or SKU ">
                                                    <a href="JavaScript:void(0)" class="input-group-addon">
                                                        <i *ngIf="searchRMA" (click)="searchRMA=''"
                                                            class="fas fa-times-circle"></i>
                                                        <i class="fa fa-search"></i></a>
                                                </div>
                                            </div>
                                            <div class="dInlinetable ml10 valignMiddle"
                                                *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered' ">
                                                <a tooltip="Receive all" placement="bottom"  [ngClass]="{'active':isReciveAllItem}" (click)="rmaAllItemRecieve()"
                                                    class="receivingIcon dInlineBlock" href="JavaScript:void(0)">
                                                    <i class="icon-complete2"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="po-wrapper">
                                    <div class="po-top-info">
                                        <div class="inner wd30percent"><span>Product Name - SKU</span></div>
                                        <div class="inner wd12percent text-center"><span class="text-center"> Items
                                                sent</span></div>
                                        <div class="inner wd12percent text-center"><span
                                                class="text-center">Price</span></div>
                                        <div class="inner wd15percent text-center"><span class="text-center">Items
                                                received</span></div>
                                        <div class="inner wd15percent text-center"><span class="text-center">Items
                                                approved</span></div>
                                        <div class="inner wd15percent text-center"><span>Total</span></div>
                                    </div>
                                    <div class="po-inner-list">
                                        <div *ngIf='rmaCompleteLoader' class="luna-loading"></div>
                                        <ul>
                                            <li *ngFor="let rmaProduct of rmaReturnProducts  | listFilterByFieldName: searchRMA : searchString; let i = index"
                                                class="padding8px">
                                                <div class="inner wd30percent">
                                                    <span
                                                        class="dBlock">{{rmaProduct.product_name +' - '+rmaProduct.skuNo}}</span>
                                                </div>
                                                <div class="inner wd12percent text-center"><span class="text-center">
                                                        {{rmaProduct.quantity}} </span>
                                                </div>
                                                <div class="inner wd12percent text-center recevingInput">
                                                    <span
                                                        *ngIf='orderDetail?.dynamic_status?.status_name != "Delivered"'>${{rmaProduct.productCostPrice}}</span>
                                                    <input
                                                        *ngIf='orderDetail?.dynamic_status?.status_name == "Delivered"'
                                                        (focusout)='changeRMAcostFun(i,$event.target.value)'
                                                        name="productCost{{i + 1}}" appTwoDigitDecimaNumber
                                                        [(ngModel)]="rmaProduct.productCostPrice">
                                                    <!-- <input *ngIf='orderDetail?.dynamic_status?.status_name == "Delivered"' 
                                                    class="form-control input-number wd80percent mx-auto borderWidth1pxSolid borderColorcbcbcb pholderInput"
                                                     (focusout)='changeRMAcostFun(i,$event.target.value)' value=""
                                                     name="productCost{{i + 1}}" appTwoDigitDecimaNumber placeholder="{{rmaProduct.productCostPrice | currency}}" > -->
                                                    <!-- <span *ngIf="false"> [(ngModel)]="rmaProduct.productCostPrice"
                                                        <input name="pr{{i + 1}}" [(ngModel)]="orderDetail['TransactionBuyBackLine'][i].receiving_quantity"
                                                        (keypress)="numberOnly($event)">
                                                    </span> -->
                                                </div>
                                                <div class="inner wd15percent text-center recevingInput">
                                                    <!-- <span *ngIf="orderDetail?.dynamic_status?.status_name != 'Delivered'">--</span>
                                                    <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered'">
                                                        <input name="received{{i + 1}}"  (keypress)="numberOnly($event)">
                                                    </span> -->
                                                    <span
                                                        *ngIf='orderDetail?.dynamic_status?.status_name != "Delivered" && orderDetail?.dynamic_status?.status_name != "Completed"'>--</span>
                                                    <span
                                                        *ngIf='orderDetail?.dynamic_status?.status_name == "Completed"'>{{rmaProduct.receiving_quantity}}</span>
                                                    <input [ngClass]="{ 'bounce': rmaProduct?.bounceForRQ}"
                                                        *ngIf='orderDetail?.dynamic_status?.status_name == "Delivered"'
                                                        (focusout)='changePriceValue(i,"receiving_quantity")'
                                                        name="recevingQu{{i + 1}}" value='rmaProduct.receiving_quantity'
                                                        [(ngModel)]="rmaProduct.receiving_quantity"
                                                        (keypress)="numberOnly($event)">

                                                </div>
                                                <div class="inner wd15percent text-center recevingInput">
                                                    <!-- <span *ngIf="orderDetail?.dynamic_status?.status_name != 'Delivered' ">--</span>
                                                    <span *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered' ">
                                                        <input name="approved{{i + 1}}" (keypress)="numberOnly($event)">
                                                    </span> -->
                                                    <span
                                                        *ngIf='orderDetail?.dynamic_status?.status_name != "Delivered" && orderDetail?.dynamic_status?.status_name != "Completed"'>--</span>
                                                    <span
                                                        *ngIf=' orderDetail?.dynamic_status?.status_name == "Completed"'>{{rmaProduct.approved_quantity}}</span>
                                                    <input [ngClass]="{ 'bounce':rmaProduct?.bounceForAQ}"
                                                        *ngIf='orderDetail?.dynamic_status?.status_name == "Delivered" && orderDetail?.dynamic_status?.status_name != "Completed"'
                                                        (focusout)='changePriceValue(i,"approved_quantity")'
                                                        name="aproveed{{i + 1}}" value='rmaProduct.approved_quantity'
                                                        [(ngModel)]="rmaProduct.approved_quantity"
                                                        (keypress)="numberOnly($event)">

                                                </div>
                                                <div class="inner wd15percent text-center">
                                                    <span>{{rmaProduct.sub_total |currency }}</span></div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="order-cash-details po-info box-shadow">
                                    <div class="down">
                                        <div class="center">
                                            <a (click)="downcart()"><i class="fas fa-caret-down"></i></a>
                                        </div>
                                    </div>
                                    <div class="up">
                                        <div class="center">
                                            <a (click)="downcart()"><i class="fas fa-caret-up"></i></a>
                                        </div>
                                    </div>
                                    <div class="rightText"><span>RMA Details</span></div>
                                    <div class="inner-top">
                                        <div class="cash-field">
                                            <div class="top-sub">
                                                <div class="scroll-content">
                                                    <table class="table" style="width:100%">
                                                        <tbody>
                                                            <tr colspan="4">
                                                                <td>Supplier:</td>
                                                                <td>{{ supplierRestockSelected.supplier_company}}</td>
                                                                <td>Supplier's RMA no.:</td>
                                                                <td>{{orderDetail['supplier_rma_number'] ||'N/A'}}</td>
                                                            </tr>
                                                            <tr colspan="4">
                                                                <td>Date:</td>
                                                                <td>{{rmaDate | customDateFormat }}</td>
                                                                <td>Tracking number:</td>
                                                                <td>{{orderDetail['shipping_tracking_no'] ||'N/A'}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="cash-field">
                                            <div class="top-sub noborder p0">
                                                <table class="table notes-table" style="width:100%">
                                                    <tbody>
                                                        <tr colspan="2">
                                                            <td>Estimated RMA:</td>
                                                            <td>{{estimatedPayOutRMA | currency  }}</td>
                                                        </tr>
                                                        <tr colspan="2">
                                                            <td>Actual RMA:</td>
                                                            <td
                                                                *ngIf='orderDetail?.dynamic_status?.status_name != "Completed" && orderDetail?.dynamic_status?.status_name != "Delivered"'>
                                                                $0.00</td>
                                                            <td
                                                                *ngIf='orderDetail?.dynamic_status?.status_name == "Completed"'>
                                                                {{orderDetail['total_amount']  | currency  }}</td>
                                                            <td
                                                                *ngIf='orderDetail?.dynamic_status?.status_name == "Delivered"'>
                                                                {{actualRMA |currency  }}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="bottom">
                                    <div class="caution-stock dtableCell wd90percent text-right valignMiddle">
                                        <!-- *ngIf="showCompleteButton" (click)="updateRecieveOrder()" -->
                                        <a *ngIf="orderDetail?.dynamic_status?.status_name == 'Delivered'"
                                            [ngClass]="{ 'disabled': actualRMA==0}" (click)='createReceivingRMAFun()'
                                            href="JavaScript:void(0)" class="back-cust-list wd100px">Complete</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Buyback Order Receiving -->
                        <order-processing-list *ngIf="showOrderProcessListingComponent"
                            (onShowToaster)="toasterFunction($event[0],$event[1])"
                            (onCancelOrderProcess)="cancel($event[0],$event[1])" [orderId]="currentOrderId">
                        </order-processing-list>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Checkout Section-->
<section *ngIf="checkOutsection" class="stockCheckout" id="section-checkout">
    <app-toaster (closeToaster)="closeToaster()" [toasterType]="toasterType" [toasterMsg]="toasterMsg"
        [hideToster]="showToaster"></app-toaster>
    <div *ngIf="loadOrderToPayMore" class="luna-loading checkOutloading"></div>
    <div class="row">
        <div class="col-lg-4 p0">
            <div class="checkout-left-wrapper">
                <div class="top-info">
                    <div class="left">
                        <div class="back-icon d-click-wrap">
                            <!-- <a  (click)="openModal(backCheckout, 'custModal wd300')" class="d-click-btn" href="JavaScript:void(0)"><img
                                    src="../../../../assets/images/back-black.png" alt="" width="30"></a> -->
                            <!-- <a  (click)="openModal(backCheckout, 'custModal wd300')" class="d-click-btn" href="JavaScript:void(0)">
                                        Back</a> -->
                            <a (click)="backBtnTemp()" class="d-click-btn" href="JavaScript:void(0)">
                                Back</a>
                        </div>
                    </div>
                    <div class="right">
                        <table class="table" style="width:100%">
                            <tbody>
                                <tr colspan="2">
                                    <td>Supplier:</td>
                                    <td>{{supplierRestockSelected?.supplier_company | uppercase}}</td>
                                </tr>
                                <tr colspan="2">
                                    <td>Order:</td>
                                    <td>{{sprRef}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="mid-info table-responsive m0">
                    <div class="paidStatus">
                        <div class="paid">
                            <img *ngIf="sprGrandTotal - priorPayment <= 0" src="../../../../assets/images/paid.png"
                                alt="" width="300">
                        </div>
                        <div *ngIf="priorPayment > 0 && sprGrandTotal - priorPayment > 0 " class="partialpaid">
                            <img src="../../../../assets/images/partialpaid.png" alt="" width="300">
                        </div>
                    </div>
                    <table id="checkout-order-table" class="table m0" style="width:calc(100% + 1px)">
                        <thead>
                            <tr>
                                <th>Item Name</th>
                                <th>Qty.</th>
                                <th>Price</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody *ngIf="!directPay">
                            <tr [ngClass]="{'withDevice': item?.Suppliers.length > 1}" *ngFor="let item of productsRestock; let i = index;">
                                <td *ngIf="item?.Suppliers.length == 1">{{item.product_name}}
                                    <span class="dBlock color808080 font10">SKU:{{item?.Suppliers[0]?.sku_number}}</span>
                                </td>
                                <td *ngIf="item?.Suppliers.length == 1">{{item?.Suppliers[0]?.ordered_qty}}</td>
                                <td *ngIf="item?.Suppliers.length == 1">{{item?.Suppliers[0]?.price_purchase | currency}}</td>
                                <td *ngIf="item?.Suppliers.length == 1">{{item?.Suppliers[0]?.supTotal | currency}}</td>
                                <td *ngIf="item?.Suppliers.length > 1" colspan="3">
                                    <div class="top">
                                        <span>{{item.product_name}}</span>
                                        <span>{{item.quantity}}</span>
                                        <span>---</span>
                                        <span>{{item.total | currency }}</span>
                                    </div>
                                    <div class="bottom">
                                        <ul>
                                            <li *ngFor="let multiSku of item?.Suppliers; let j = index;">
                                                <div class="inner"><span class="color808080 font10"> SKU-{{multiSku?.sku_number}}
                                                    </span>
                                                </div>
                                                <div class="inner">{{multiSku?.ordered_qty}}</div>
                                                <div class="inner">{{multiSku?.price_purchase | currency }}</div>
                                                <div class="inner">{{multiSku?.supTotal | currency }}</div>
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                        <tbody *ngIf="directPay">
                            <tr *ngFor="let item of productsRestock; let i = index;">
                                <td>{{item?.Product?.product_name}}
                                    <span class="dBlock color808080 font10">SKU:{{item.stock_sku_number}}</span>
                                </td>
                                <td *ngIf="item.quantity != 0">{{item.quantity}}</td>
                                <td *ngIf="item.quantity == 0">{{item.receive_quantity}}</td>
                                <td>{{item.product_cost_price | currency}}</td>
                                <td *ngIf="item.quantity != 0">{{item.quantity * item.product_cost_price | currency}}
                                </td>
                                <td *ngIf="item.quantity == 0">
                                    {{item.receive_quantity * item.product_cost_price | currency}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="bottom-info accountDetails">
                    <table class="table totals" style="width:calc(100% + 1px)">
                        <thead>
                            <tr class="sub-total">
                                <td>Sub Total</td>
                                <td>{{sprSubTotal | currency}}</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="discount-total">
                                <td>Discount </td>
                                <td>{{discountOnOrder | currency }}</td>
                            </tr>
                            <tr class="discount-total">
                                <td>Tax Charges ({{sprTaxValue}}%)</td>
                                <td>{{sprTax | currency }}</td>
                            </tr>
                            <tr class="discount-total">
                                <td>Shipment Cost</td>
                                <td>{{selectedShipAmount | currency}}</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td>Total</td>
                                <td>{{sprGrandTotal | currency }}</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <div class="bottom-info paymenttypeInfo">
                    <span class="fontSemiBold color000 dBlock pt5 pb5 pt10 pl10">Payment(s)</span>
                    <table class="table totals table-scroll small-first-col" style="width:calc(100% + 1px)">
                        <tfoot>
                            <tr>
                                <td class="flex2">Date and time</td>
                                <td class="flex4">Payment Method</td>
                                <td class="flex1">Amount</td>
                                <td class="flex1">Delete</td>
                                <!-- <td>{{sprGrandTotal - priorPayment | currency }}</td> -->
                            </tr>
                        </tfoot>
                        <tbody>
                            <tr *ngFor="let pay of totalPaymentPayed; let i = index;" class="discount-total">
                                <td class="flex2">{{pay?.paid_on | customDateFormat}}</td>
                                <!-- <td *ngIf="pay?.method == 'credit_card'">
                                    <i *ngIf="pay?.method == 'credit_card'" class="icon-credit_card pr5"></i>
                                    {{pay?.method.replace('_',' ') + '(' + pay?.card_used_no + ')' | titlecase}}</td>
                                <td *ngIf="pay?.method != 'credit_card'">
                                    <i *ngIf="pay?.method == 'cash'" class="icon-cash pr5"></i>
                                    <i *ngIf="pay?.method == 'cheque'" class="icon-check pr5"></i>
                                    <i *ngIf="pay?.method == 'paypal'" class="icon-paypal pr5"></i>
                                    <i *ngIf="pay?.method == 'net_term'" class="icon-net_terms pr5"></i>
                                    <i *ngIf="pay?.method == 'store_credit'" class="icon-store_credit pr5"></i>
                                    {{pay?.method.replace('_',' ') | titlecase}}
                                </td> -->
                                <td class="flex4">
                                    <span *ngIf="pay?.method != 'credit_card'" class=" ml15 mr15">
                                        <i *ngIf="pay?.method == 'cash'" class="icon-cash pr5 dtableCell"></i>
                                        <i *ngIf="pay?.method == 'cheque'" class="icon-check pr5 dtableCell"></i>
                                        <i *ngIf="pay?.method == 'paypal'" class="icon-paypal pr5 dtableCell"></i>
                                        <i *ngIf="pay?.method == 'net_term'" class="icon-net_terms pr5 dtableCell"></i>
                                        <i *ngIf="pay?.method == 'store_credit'"
                                            class="icon-store_credit pr5 dtableCell"></i>
                                        <i
                                            class="dtableCell fontStyleNormal">{{pay?.method.replace('_',' ') | titlecase}}</i>
                                    </span>
                                    <span *ngIf="pay?.method == 'credit_card'" class=" ml15 mr15">
                                        <i *ngIf="pay?.method == 'credit_card'"
                                            class="icon-credit_card pr5 dtableCell"></i>
                                        <i class="dtableCell fontStyleNormal">
                                            {{pay?.method.replace('_',' ') + '(' + pay?.card_used_no + ')' | titlecase}}</i>
                                    </span>
                                </td>
                                <td class="flex1">{{pay?.amount | currency }}</td>
                                <td class="flex1"> <a href="JavaScript:void(0)"
                                        (click)="openDeletePaymentPopup(open_deletePay,'custModal wd300',pay)"
                                        class="color000 font12">
                                        <i class="fas fa-trash-alt"></i>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-lg-8 p0">
            <div *ngIf="payLoader" class="luna-loading"></div>
            <div class="checkout-right-wrapper">
                <div class="checktop">
                    <div class="title text-center">
                        <h2>Record Payment Information</h2>
                    </div>
                    <div class="iconActions">
                        <a><i class="icon-minimized font16"></i></a>
                        <a><i class="icon-close font16"></i></a>
                    </div>
                </div>
                <div class="inner-contetnt">
                    <div class="top">
                        <p>Balance</p>
                        <h2>{{sprGrandTotal - priorPayment | currency }}</h2>
                        <p>Prior Payment: {{ priorPayment | currency }}</p>
                    </div>
                    <div class="mid">
                        <div class="cash-btns">
                            <a [ngClass]="{'active':boxCredit}" id="btn-credit" class="active"
                                (click)="changePay('boxCredit')">
                                <div class="credit">
                                    <i class="icon-credit_card font32px"></i>
                                    <span>Credit Card</span>
                                </div>
                            </a>
                            <a [ngClass]="{'active':boxCash}" id="btn-cash" (click)="changePay('boxCash')">
                                <div class="cash">
                                    <i class="icon-cash font32px"></i>
                                    <span>Cash</span>
                                </div>
                            </a>
                            <a [ngClass]="{'active':boxCheck}" id="btn-check" (click)="changePay('boxCheck')">
                                <div class="check">
                                    <i class="icon-check font32px"></i>
                                    <span>Check</span>
                                </div>
                            </a>
                        </div>
                        <div class="cash-btns right">
                            <a [ngClass]="{'active':boxPaypal}" id="btn-net-term" (click)="changePay('boxPaypal')">
                                <div class="credit">
                                    <i class="icon-paypal font32px"></i>
                                    <span>PayPal</span>
                                </div>
                            </a>
                            <a [ngClass]="{'active':boxNetterm}" id="btn-store-credit"
                                (click)="changePay('boxNetterm')">
                                <div class="check">
                                    <i class="icon-net_terms font32px"></i>
                                    <span>Net Term</span>

                                </div>
                            </a>
                            <a [ngClass]="{'active':boxStorecredit}" id="btn-Paypal"
                                (click)="changePay('boxStorecredit')">
                                <div class="cash">
                                    <i class="icon-store_credit font32px"></i>
                                    <span>Store Credit</span>

                                </div>
                            </a>
                        </div>
                        <div *ngIf="noMethodSelected" class="inner ifNoSelected">
                            <div class="ifDisable">
                                <span
                                    class="color808080 pt15 pb15 mx-auto wd50percent font14 fontSemiBold dBlock fontPoppin">Select
                                    one option to record your payment(s)</span>
                            </div>
                        </div>
                        <div *ngIf="boxCredit" class="inner" id="box-credit">
                            <div *ngIf="isMethodAllowed('Credit Card')" class="ifEnable">
                                <div class="topInfo">
                                    <i class="icon-credit_card font42px color000"></i>
                                    <p>Credit Card</p>
                                </div>
                                <div class="scrollPayment">
                                    <div class="text-field">
                                        <label for="checkout-cardPaid"
                                            [ngClass]="{'bounce colorRedError': sprGrandTotal - (amountInCreditCard) < 0 }">Amount
                                            Paid</label>
                                        <input appTwoDigitDecimaNumber type="text"
                                            [ngClass]="{'bounce': sprGrandTotal -(amountInCreditCard) < 0}"
                                            [(ngModel)]="amountInCreditCard"
                                            (keyup)="changeBalanceOnFicusout('amountInCreditCard')"
                                            name="checkout-cardPaid"
                                            class="form-control text-right cust-field font11 borderColorcbcbcb borderRadius10"
                                            placeholder="$0.00">
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-cardUsed">Card Used</label>
                                        <input type="text" name="checkout-cardUsed" (keypress)="numberOnly($event)"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            [(ngModel)]="creditCardNo"
                                            placeholder="Type the 4 digits for the credit card used" maxlength="4">
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-paymentDate">Date payment was realized</label>
                                        <input type="text" [(ngModel)]="paymentDate" placeholder="Month/Day/Year"
                                            (ngModelChange)="checkRealizedDate($event)"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            [bsConfig]="{ isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY' , showWeekNumbers:false}"
                                            bsDatepicker placement="top" [isOpen]="isOpenpaymentDate">
                                        <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                            class="datePickerIcon"></span>
                                    </div>
                                </div>
                                <div class="checkout-action">
                                    <div [ngClass]="{'non-click' : paymentProcessing}"
                                        (click)="pay(recordAnotherPayment, 'custModal wd300')" class="right">
                                        <a class="checkout-btn-pay">Record Payment</a> </div>
                                </div>
                            </div>
                            <div *ngIf="!isMethodAllowed('Credit Card')" class="ifDisable pt40">
                                <i class="fa fa-exclamation-triangle font64 color808080"></i>
                                <span
                                    class="color808080 pt15 pb15 mx-auto wd50percent font14 fontSemiBold dBlock fontPoppin">
                                    No access to this payment type. Please contact your system administrator.</span>
                            </div>
                        </div>
                        <div *ngIf="boxCash" class="inner" id="box-cash">
                            <div *ngIf="isMethodAllowed('Cash')" class="ifEnable">
                                <div class="topInfo">
                                    <i class="icon-cash font42px color000"></i>
                                    <p>Cash</p>
                                </div>
                                <div class="scrollPayment">
                                    <div class="text-field">
                                        <label for="checkout-CashPaid"
                                            [ngClass]="{'bounce colorRedError': sprGrandTotal - (amountInCash) < 0}">Amount
                                            Paid</label>
                                        <input [(ngModel)]="amountInCash" maxlength="20"
                                            [ngClass]="{'bounce': sprGrandTotal - (amountInCash) < 0}"
                                            appTwoDigitDecimaNumber type="text"
                                            (keyup)="changeBalanceOnFicusout('amountInCash')" name="checkout-CashPaid"
                                            class="form-control text-right cust-field font11 borderColorcbcbcb borderRadius10"
                                            placeholder="$0.00">
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-cashDrawer" class="valignMiddle">Cash drawer</label>
                                        <div class="btn-group wd100Percent" dropdown>
                                            <button id="button-animated" dropdownToggle type="button"
                                                class="paymentDropBtn btn bgWhite cust-field font11 borderColorcbcbcb borderRadius10 color000 dropdown-toggle"
                                                aria-controls="dropdown-animated">{{changeCashDrawer}}
                                                <span class="caret"></span>
                                            </button>
                                            <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu paymentDropUL"
                                                role="menu" aria-labelledby="button-animated">
                                                <li *ngFor="let reg of cashRegisterars;"
                                                    (click)="selectCashRegisterar(reg)" role="menuitem"><a
                                                        class="dropdown-item">{{reg?.name}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-paymentDate">Date payment was realized</label>
                                        <input type="text" [(ngModel)]="paymentDate" placeholder="Month/Day/Year"
                                            (ngModelChange)="checkRealizedDate($event)"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                            bsDatepicker placement="top" [isOpen]="isOpenpaymentDate">
                                        <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                            class="datePickerIcon"></span>
                                    </div>
                                </div>
                                <div class="checkout-action">
                                    <div [ngClass]="{'non-click' : paymentProcessing}"
                                        (click)="pay(recordAnotherPayment, 'custModal wd300')" class="right">
                                        <a class="checkout-btn-pay">Record Payment</a>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="!isMethodAllowed('Cash')" class="ifDisable pt40">
                                <i class="fa fa-exclamation-triangle font64 color808080"></i>
                                <span
                                    class="color808080 pt15 pb15 mx-auto wd50percent font14 fontSemiBold dBlock fontPoppin">No
                                    access to this payment
                                    type. Please contact your system administrator.</span>
                            </div>
                        </div>
                        <div *ngIf="boxCheck" class="inner" id="box-check">
                            <div *ngIf="isMethodAllowed('Check')" class="ifEnable">
                                <div class="topInfo">
                                    <i class="icon-check font42px color000"></i>
                                    <p>Check</p>
                                </div>
                                <div class="scrollPayment">
                                    <div class="text-field">
                                        <label for="checkout-checkPaid"
                                            [ngClass]="{'bounce colorRedError': sprGrandTotal - (amountInchecque) < 0}">Amount
                                            Paid</label>
                                        <input [(ngModel)]="amountInchecque"
                                            [ngClass]="{'bounce': sprGrandTotal - (amountInchecque) < 0}" type="text"
                                            name="checkout-checkPaid" (keyup)="changeBalanceOnFicusout('amountInchecque')" appTwoDigitDecimaNumber
                                            class="form-control text-right cust-field font11 borderColorcbcbcb borderRadius10"
                                            placeholder="$0.00">
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-checkPaidUsed">Check Number</label>
                                        <input [(ngModel)]="checkqueNo" type="text" name="checkout-checkPaidUsed"
                                            (keypress)="numberOnly($event)" maxlength="25"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            placeholder="Type the number of cheque used">
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-checkPaidUsed">Bank and Account Number</label>
                                        <input [(ngModel)]="bankAccNo" type="text" name="checkout-checkPaidUsed"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            placeholder="Example Bank xxxx xxxxxxxx xxxxx xxx">
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-paymentDate">Date payment was realized</label>
                                        <input type="text" [(ngModel)]="paymentDate" placeholder="Month/Day/Year"
                                            (ngModelChange)="checkRealizedDate($event)"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                            bsDatepicker placement="top" [isOpen]="isOpenpaymentDate">
                                        <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                            class="datePickerIcon"></span>
                                    </div>
                                </div>
                                <div class="checkout-action">
                                    <div [ngClass]="{'non-click' : paymentProcessing}"
                                        (click)="pay(recordAnotherPayment, 'custModal wd300')" class="right"><a
                                            class="checkout-btn-pay">Record Payment</a> </div>
                                </div>
                            </div>
                            <div *ngIf="!isMethodAllowed('Check')" class="ifDisable pt40">
                                <i class="fa fa-exclamation-triangle font64 color808080"></i>
                                <span
                                    class="color808080 pt15 pb15 mx-auto wd50percent font14 fontSemiBold dBlock fontPoppin">No
                                    access to this payment
                                    type. Please contact your system administrator.</span>
                            </div>
                        </div>
                        <div *ngIf="boxPaypal" class="inner" id="box-Paypal">
                            <div *ngIf="isMethodAllowed('PayPal')" class="ifEnable">
                                <div class="topInfo">
                                    <i class="icon-paypal font42px color000"></i>
                                    <p>Paypal Payment</p>
                                </div>
                                <div class="scrollPayment">
                                    <div class="text-field">
                                        <label
                                            [ngClass]="{'bounce colorRedError': sprGrandTotal - (amountInPaypalTransaction) < 0}">Amount
                                            Paid</label>
                                        <input appTwoDigitDecimaNumber [(ngModel)]="amountInPaypalTransaction"
                                            [ngClass]="{'bounce': sprGrandTotal - (amountInPaypalTransaction) < 0}"
                                            type="text" (keyup)="changeBalanceOnFicusout('amountInPaypalTransaction')"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10 text-right"
                                            placeholder="$0.00">
                                    </div>
                                    <div class="text-field">
                                        <label>Pay Pal Account</label>
                                        <input [(ngModel)]="paypalAccount" type="text"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            placeholder="Type paypal account">
                                    </div>
                                    <div class="text-field">
                                        <label>Transaction ID</label>
                                        <input [(ngModel)]="paypalTransactionID" type="text"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            placeholder="Type paypal transaction ID">
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-paymentDate">Date payment was realized</label>
                                        <input type="text" [(ngModel)]="paymentDate" placeholder="Month/Day/Year"
                                            (ngModelChange)="checkRealizedDate($event)"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                            bsDatepicker placement="top" [isOpen]="isOpenpaymentDate">
                                        <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                            class="datePickerIcon"></span>
                                    </div>
                                </div>
                                <div class="checkout-action">
                                    <div [ngClass]="{'non-click' : paymentProcessing}"
                                        (click)="pay(recordAnotherPayment, 'custModal wd300')" class="right"><a
                                            class="checkout-btn-pay">Record Payment</a> </div>
                                </div>
                            </div>
                            <div *ngIf="!isMethodAllowed('PayPal')" class="ifDisable pt40">
                                <i class="fa fa-exclamation-triangle font64 color808080"></i>
                                <span
                                    class="color808080 pt15 pb15 mx-auto wd50percent font14 fontSemiBold dBlock fontPoppin">No
                                    access to this payment
                                    type. Please contact your system administrator.</span>
                            </div>
                        </div>
                        <div *ngIf="boxNetterm" class="inner" id="box-net-term">
                            <div *ngIf="isMethodAllowed('Net Terms')" class="ifEnable">
                                <div class="topInfo">
                                    <i class="icon-net_terms font42px color000"></i>
                                    <p>Net terms</p>
                                </div>
                                <div class="scrollPayment">
                                    <div class="text-field">
                                        <label for="checkout-netTermAmount"
                                            [ngClass]="{'bounce colorRedError': sprGrandTotal - (amountInNetTerm) < 0}">Amount
                                            Paid</label>
                                        <input type="text" [(ngModel)]="amountInNetTerm"
                                            [ngClass]="{'bounce': sprGrandTotal - (amountInNetTerm) < 0}"
                                            name="checkout-netTermAmount"
                                            (keyup)="changeBalanceOnFicusout('amountInNetTerm')" appTwoDigitDecimaNumber
                                            class="form-control text-right cust-field font11 borderColorcbcbcb borderRadius10"
                                            placeholder="$0.00">
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-cashDrawer" class="valignMiddle">Credit line</label>
                                        <div class="btn-group wd100Percent" dropdown>
                                            <button id="button-animated" dropdownToggle type="button"
                                                class="paymentDropBtn bgWhite btn cust-field font11 borderColorcbcbcb borderRadius10 color000 dropdown-toggle"
                                                aria-controls="dropdown-animated">{{creditLineName}}
                                                <span class="caret"></span>
                                            </button>
                                            <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu paymentDropUL"
                                                role="menu" aria-labelledby="button-animated">
                                                <li *ngFor="let cLine of creditLines;" (click)="changeCreditLine(cLine)"
                                                    role="menuitem"><a class="dropdown-item">{{cLine.credit_line}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-paymentDate">Date payment was realized</label>
                                        <input type="text" [(ngModel)]="paymentDate" placeholder="Month/Day/Year"
                                            (ngModelChange)="checkRealizedDate($event)" [(ngModel)]="paymentDate"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                            bsDatepicker placement="top" [isOpen]="isOpenpaymentDate">
                                        <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                            class="datePickerIcon"></span>
                                    </div>
                                </div>
                                <div class="checkout-action">
                                    <div [ngClass]="{'non-click' : paymentProcessing}"
                                        (click)="pay(recordAnotherPayment, 'custModal wd300')" class="right"><a
                                            class="checkout-btn-pay">Record Payment</a> </div>
                                </div>
                            </div>
                            <div *ngIf="!isMethodAllowed('Net Terms')" class="ifDisable pt40">
                                <i class="fa fa-exclamation-triangle font64 color808080"></i>
                                <span
                                    class="color808080 pt15 pb15 mx-auto wd50percent font14 fontSemiBold dBlock fontPoppin">No
                                    access to this payment
                                    type. Please contact your system administrator.</span>
                            </div>
                        </div>
                        <div *ngIf="boxStorecredit" class="inner" id="box-store-credit">
                            <div *ngIf="isMethodAllowed('Store Credit')" class="ifEnable">
                                <div class="topInfo">
                                    <i class="icon-store_credit font42px color000"></i>
                                    <p>Store Credit</p>
                                </div>
                                <div class="scrollPayment">
                                    <div class="text-field">
                                        <label for="checkout-amountPaid"
                                            [ngClass]="{'bounce colorRedError': sprGrandTotal - (amountInStoreCredit) < 0}">Amount
                                            Paid</label>
                                        <input [(ngModel)]="amountInStoreCredit"
                                            [ngClass]="{'bounce': sprGrandTotal - (amountInStoreCredit) < 0}"
                                            type="text" name="checkout-amountPaid"
                                            (keyup)="changeBalanceOnFicusout('amountInStoreCredit')"
                                            appTwoDigitDecimaNumber
                                            class="form-control text-right cust-field font11 borderColorcbcbcb"
                                            placeholder="$0.00">
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-cashDrawer" class="valignMiddle">Credit line</label>
                                        <div class="btn-group wd100Percent" dropdown>
                                            <button id="button-animated" dropdownToggle type="button"
                                                class="paymentDropBtn bgWhite btn cust-field font11 borderColorcbcbcb borderRadius10 color000 dropdown-toggle"
                                                aria-controls="dropdown-animated">{{creditLineName}}
                                                <span class="caret"></span>
                                            </button>
                                            <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu paymentDropUL"
                                                role="menu" aria-labelledby="button-animated">
                                                <li *ngFor="let cLine of creditLines;" (click)="changeCreditLine(cLine)"
                                                    role="menuitem"><a class="dropdown-item">{{cLine.credit_line}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="text-field">
                                        <label for="checkout-paymentDate">Date payment was realized</label>
                                        <input type="text" [(ngModel)]="paymentDate" placeholder="Month/Day/Year"
                                            (ngModelChange)="checkRealizedDate($event)"
                                            class="form-control cust-field font11 borderColorcbcbcb borderRadius10"
                                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                                            bsDatepicker placement="top" [isOpen]="isOpenpaymentDate">
                                        <span (click)="isOpenpaymentDate = !isOpenpaymentDate"
                                            class="datePickerIcon"></span>
                                    </div>
                                </div>
                                <div class="checkout-action">
                                    <div [ngClass]="{'non-click' : paymentProcessing}"
                                        (click)="pay(recordAnotherPayment, 'custModal wd300')" class="right"><a
                                            class="checkout-btn-pay">Record Payment</a> </div>
                                </div>
                            </div>
                            <div *ngIf="!isMethodAllowed('Store Credit')" class="ifDisable pt40">
                                <i class="fa fa-exclamation-triangle font64 color808080"></i>
                                <span
                                    class="color808080 pt15 pb15 mx-auto wd50percent font14 fontSemiBold dBlock fontPoppin">No
                                    access to this payment
                                    type. Please contact your system administrator.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Checkout Section-->
<section *ngIf="manageServices" class="manageService" id="section-manageService">
    <div class="row">
        <div class="col-lg-12 p0">
            <div class="serviceMainWrapper" >
                <div class="topInfo">
                    <div class="dtableCell wd50percent">
                        <h2>Manage Services</h2>
                    </div>
                    <div class="dtableCell wd50percent">
                        <div class="iconActions">
                            <a (click)="minOrder()" class="colorWhite"><i class="icon-minimized font16"></i></a>
                            <a class="colorWhite"><i class="icon-close font16"></i></a>
                        </div>
                    </div>
                </div>
                <div class="cut-search-area posRelative zIndex100 dtable wd100Percent">
                    <div class="dtableCell wd50percent text-left">
                        <div class="dInlinetable wd10percent valignMiddle"> 
                            <a (click)="backfromManageServices()" class="back-cust-list" href="JavaScript:void(0)">Back</a>
                        </div>
                        <div class="dInlinetable wd35percent">
                            <div id="discount-cat-btn" class="btn-group dInlineBlock wd100Percent">
                                <a class="btn wd50percent font11 active">Sort by Service</a>
                                <a class="btn wd50percent font11 notActive">Sort by Models</a>
                            </div>
                        </div>
                    </div>
                    <div class="dtableCell wd50percent text-right">
                        <div class="search-field input-group">
                            <input type="text" class="form-control" [formControl]="searchOrder"
                                placeholder="Search by name, phone number, email, address...">
                            <a href="JavaScript:void(0)" class="input-group-addon">
                                <i *ngIf="searchOrder.value" (click)="searchOrder.reset()"
                                    class="fas fa-times-circle"></i>
                                <i class="icon-search"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="servicesWrapper dtable wd100Percent">
                    <div class="servicesList dtableCell posRelative wd30percent pr10">
                        <h5 class="text-center font14 fontPoppin color000 fontSemiBold mb10">Services</h5>
                        <ul>
                            <li><a class="custlistItem active" href="JavaScript:void(0)">LCD Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Digitizer Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Battery Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Charging Port Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Home Button Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Back cover / Back Glass Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Back Camera Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Front Camera Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Proximity Sensor Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Camera Lens Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Speaker Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Microphone Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Antenna Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Power and Volume Button Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Sim Tray Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Vibrator Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Board Lever Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Keyboard Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Backlight Replacement</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Mid-Frame Replacement</a></li>
                        </ul>
                        <div class="addAnother noDisplay">
                             <!-- <a href="JavaScript:void(0)" class="innerStatusBtns dInlineBlock add-btn-item">Add Service</a> -->
                            <div class="input-group">
                                <input type="text" class="form-control"
                                    placeholder="add new service">
                                <a href="JavaScript:void(0)" class="input-group-addon">Save</a>
                            </div>
                        </div>
                    </div>
                    <div class="brandsList dtableCell posRelative wd15percent pr10">
                        <h5  class="text-center font14 fontPoppin color000 fontSemiBold mb10">Brands</h5>
                        <ul>
                            <li><a class="custlistItem active" href="JavaScript:void(0)">Apple</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Samsung</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Huawei</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Oppo</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Xiaomi</a></li>
                            <li><a class="custlistItem" href="JavaScript:void(0)">Lenovo</a></li>

                        </ul>
                        <div class="addAnother noDisplay">
                            <!-- <a href="JavaScript:void(0)" class="innerStatusBtns dInlineBlock add-btn-item">Add Brand</a> -->
                            <div class="input-group">
                                <input type="text" class="form-control"
                                    placeholder="add new brand">
                                <a href="JavaScript:void(0)" class="input-group-addon">Save</a>
                            </div>
                        </div>
                        
                    </div>
                    <div class="modelsList dtableCell posRelative wd55percent pl10 pr10">
                        <h5 class="text-center font14 fontPoppin color000 fontSemiBold mb10">Link services with devices</h5>
                        <div class="listHeader">
                            <div class="dtable wd100Percent">
                                <div class="inner wd33percent dtableCell">
                                    <span class="headerList text-left">Model Name</span>
                                </div>
                                <div class="inner wd33percent dtableCell">
                                    <span class="headerList text-center">Default Price</span>
                                </div>
                                <div class="inner wd33percent dtableCell">
                                    <span class="headerList text-center">Minimum Price</span>
                                </div>
                            </div>
                        </div>
                        <div class="listBody pt15">
                            <ul>
                                <li class="pb10">
                                    <div class="dtable wd100Percent">
                                        <div class="inner wd33percent dtableCell">
                                            <span class="text-left color000 fontSemiBold fontPoppin font14">iPhone 5</span>
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                    </div>
                                </li>
                                <li class="pb10">
                                    <div class="dtable wd100Percent">
                                        <div class="inner wd33percent dtableCell">
                                            <span class="text-left color000 fontSemiBold fontPoppin font14">iPhone 5s</span>
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                    </div>
                                </li>
                                <li class="pb10">
                                    <div class="dtable wd100Percent">
                                        <div class="inner wd33percent dtableCell">
                                            <span class="text-left color000 fontSemiBold fontPoppin font14">iPhone 5c</span>
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                    </div>
                                </li>
                                <li class="pb10">
                                    <div class="dtable wd100Percent">
                                        <div class="inner wd33percent dtableCell">
                                            <span class="text-left color000 fontSemiBold fontPoppin font14">iPhone 6</span>
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                    </div>
                                </li>
                                <li class="pb10">
                                    <div class="dtable wd100Percent">
                                        <div class="inner wd33percent dtableCell">
                                            <span class="text-left color000 fontSemiBold fontPoppin font14">iPhone 6 Plus</span>
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                    </div>
                                </li>
                                <li class="pb10">
                                    <div class="dtable wd100Percent">
                                        <div class="inner wd33percent dtableCell">
                                            <span class="text-left color000 fontSemiBold fontPoppin font14">iPhone 6s</span>
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                    </div>
                                </li>
                                <li class="pb10">
                                    <div class="dtable wd100Percent">
                                        <div class="inner wd33percent dtableCell">
                                            <span class="text-left color000 fontSemiBold fontPoppin font14">iPhone 6s Plus</span>
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                    </div>
                                </li>
                                <li class="pb10">
                                    <div class="dtable wd100Percent">
                                        <div class="inner wd33percent dtableCell">
                                            <span class="text-left color000 fontSemiBold fontPoppin font14">iPhone 7</span>
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                        <div class="inner wd33percent dtableCell pl5 pr5">
                                            <input type="text" class="form-control servicePriceInput" placeholder="$00.00">
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="addAnother noDisplay">
                             <!-- <a href="JavaScript:void(0)" class="innerStatusBtns dInlineBlock add-btn-item">Add Model</a> -->
                            <div class="input-group">
                                <input type="text" class="form-control"
                                    placeholder="add new model">
                                <a href="JavaScript:void(0)" class="input-group-addon">Save</a>
                            </div>
                        </div>
                       
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Print labels -->
<div class="labelPrintPreview">
    <ul *ngFor="let plabel of printLabelProduct; let i = index" class="dtable wd100Percent text-left ">
        <li *ngFor="let in of counter(printLabelProduct[i].quantity); let j = index"
            class="dInlinetable wd33percentfull border2px m1px borderRadius5">
            <h2 class="labelTitle fontPoppin font10 fontSemiBold color000 dBlock padding10px text-center">
                {{printLabelProduct[i]?.product_name ||'N/A' | titlecase}}</h2>
            <span
                class="dBlock wd100Percent bgcolorGreenLabel colorWhite fontPoppin font10 fontSemiBold padding5px text-center">SKU:
                {{printLabelProduct[i]?.sku ||'N/A'}} /
                {{printLabelProduct[i]?.sell_price | currency}}</span>
            <!-- <i class="fas fa-barcode font64 color000 dBlock text-center"></i>
            <span class="fontPoppin font10 mb5 mtMin5 color000 dBlock text-center">2938018</span> -->
            <ngx-barcode class="fontPoppin font10 mb5 mtMin5 color000 dBlock text-center"
                [bc-value]="printLabelProduct[i]?.sku" [bc-width]="3.5" [bc-height]="70" [bc-display-value]="true"
                [bc-margin]="4" [bc-margin-top]="4" [bc-margin-bottom]="4" [bc-margin-left]="4" [bc-margin-right]="4">
            </ngx-barcode>
        </li>
    </ul>
</div>

<!-- End here -->

<!-- Popups Section-->
<ng-template #open_invoiceorder>
    <div class="modal-header"></div>
    <div class="modal-body">
        <img src="../../../../assets/images/box-cart.png" alt="" width="50">
        <h2>Payment Completed</h2>
        <p>How would you like to sent this invoice?</p>
    </div>
    <div class="modal-footer">
        <div class="invoice_checks">
            <div class="inner">
                <input id="invoiceCheck1" checked class="checkbox-custom" name="invoiceCheck1" type="checkbox">
                <label for="invoiceCheck1" class="checkbox-custom-label">Print</label>
            </div>
            <div class="inner">
                <input id="invoiceCheck2" checked class="checkbox-custom" name="invoiceCheck2" type="checkbox">
                <label for="invoiceCheck2" class="checkbox-custom-label">Email</label>
            </div>
            <div class="inner">
                <input id="invoiceCheck3" checked class="checkbox-custom" name="invoiceCheck3" type="checkbox">
                <label for="invoiceCheck3" class="checkbox-custom-label">SMS</label>
            </div>
        </div>
        <div class="invoice_btns">
            <button (click)="closeInvoiceModel()" (click)="paymentCompletebtn()" type="button" class="btn btn-default"
                data-dismiss="modal">Skip</button>
            <button (click)="printPreview()" (click)="paymentCompletebtn()" type="button" class="btn btn-default"
                data-dismiss="modal">Send</button>
        </div>
    </div>
</ng-template>
<ng-template #open_ReceivedOrder>
    <div class="modal-header"></div>
    <div class="modal-body">
        <img src="../../../../assets/images/box-saveorder.png" alt="" width="40">
        <h2>Item Received</h2>
        <div class="order-info">
            <div class="row">
                <div class="col-lg-12">
                    <label for="order-reveiveQty">Received Quantity</label>
                    <input type="text" name="order-reveiveQty" id="order-reveiveQty" class="form-control cust-field"
                        placeholder="0">
                </div>
                <div class="col-lg-12">
                    <label for="order-reveiveNotes">Add Notes</label>
                    <textarea class="form-control" rows="10"
                        placeholder="Example: Device was brought back for warranty reasons."></textarea>
                </div>
            </div>

        </div>
    </div>
    <div class="modal-footer">
        <button (click)="closeModel()" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button (click)="closeModel()" type="button" class="btn btn-default" data-dismiss="modal">Received</button>
    </div>
</ng-template>
<ng-template #open_closeorder>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center">
            <img src="../../../../assets/images/box-closeorder.png" alt="" width="40">
            <h2 class="fontPoppin font24 fontSemiBold mb0 mt10 color000">
                Close Order</h2>
            <p class="fontPoppin font12 mb0 color000">Would you like to do this?</p>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5">
        <button (click)="closeModel()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Save</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_cancelPO>
    <app-toaster (closeToaster)="closeImportToaster()" [toasterType]="toasterType" [toasterMsg]="toasterMsg"
        [hideToster]="showImportToaster"></app-toaster>
    <div *ngIf="refundView" class="refundView">
        <div class="modal-header noborder pt30">
            <div class="modalTitle mx-auto text-center">
                <h2 *ngIf="!isReceiveRefund" class="fontPoppin font24 fontSemiBold color000">Receive Refund</h2>
                <h2 *ngIf="isReceiveRefund" class="fontPoppin font24 fontSemiBold color000">Receive Refund as Store
                    Credit</h2>
            </div>
        </div>
        <div class="modal-body pl40 pt0 pr40">
            <div class="items-form-content">
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label class="fontPoppin dBlock mb0 font12 fontSemiBold500 color000">Total Refund</label>
                        <span *ngIf="!isReceiveRefund"
                            class="fontPoppin dBlock mb0 font16 fontSemiBold color000">{{orderDetail?.total_amount | currency}}</span>
                        <span *ngIf="isReceiveRefund"
                            class="fontPoppin dBlock mb0 font16 fontSemiBold color000">{{totalRefund | currency}}</span>
                    </div>
                </div>
                <div *ngIf="!isReceiveRefund" class="row mb20">
                    <div class="col-lg-12">
                        <label class="fontPoppin dBlock mb0 font12 fontSemiBold500 color000 mb5">How is the amount going
                            to be refunded?</label>
                        <div id="discount-cat-btn" class="btn-group dInlineBlock">
                            <a [ngClass]="{'active':storeCreditSelected , 'notActive' : !storeCreditSelected }"
                                (click)="changePaymentReturnMethod(true)" class="btn wd50percent">Store Credit</a>
                            <a [ngClass]="{'active':!storeCreditSelected , 'notActive' : storeCreditSelected }"
                                (click)="changePaymentReturnMethod(false)" class="btn wd50percent">Original method of
                                payment</a>
                        </div>>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label [ngClass]="{'bounce colorRedError':cancelPOSubmitted && refundDate == null}"
                            class="fontPoppin dBlock mb0 font12 fontSemiBold500 color000 mb5">Refund Date</label>
                        <input [ngClass]="{'bounce colorRedError':cancelPOSubmitted && refundDate == null}" type="text"
                            [(ngModel)]="refundDate" placeholder="Month/Day/Year"
                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            bsDatepicker placement="top" [isOpen]="isOpenrefundDate">
                        <span (click)="isOpenrefundDate = !isOpenrefundDate" class="datePickerIcon"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer dBlock noborder text-center mx-auto">
            <button (click)="openRefundNextView()" type="button"
                class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20 mx-auto">Process Refund</button>
            <button (click)="closerefundView()" type="button"
                class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
        </div>
    </div>
    <div *ngIf="paymentView" class="paymentView">
        <div class="modal-header noborder pt30">
            <div class="modalTitle mx-auto text-center">
                <h2 class="fontPoppin font24 fontSemiBold color000">Refund successfully recorded</h2>
            </div>
        </div>
        <div class="modal-body">
            <div id="po-wrapper" class="paymentDetails">
                <div class="po-top-info">
                    <div class="inner wd30percent"><span class="text-center bgc4c4c4">Date</span></div>
                    <div class="inner wd40percent"><span class="text-center bgc4c4c4">Payment Method</span></div>
                    <div class="inner wd30percent"><span class="text-center bgc4c4c4">Amount</span></div>
                </div>
                <div class="po-inner-list">
                    <ul>
                        <li *ngFor="let payment of orderDetail?.TransactionPayment;">
                            <div class="inner text-center wd30percent">
                                <span class="mr15">{{payment?.paid_on | customDateFormat}}</span></div>
                            <div class="inner text-center wd40percent">
                                <span *ngIf="payment?.method != 'credit_card'" class=" ml15 mr15">
                                    <i *ngIf="payment?.method == 'cash'" class="icon-cash pr5 dtableCell"></i>
                                    <i *ngIf="payment?.method == 'cheque'" class="icon-check pr5 dtableCell"></i>
                                    <i *ngIf="payment?.method == 'paypal'" class="icon-paypal pr5 dtableCell"></i>
                                    <i *ngIf="payment?.method == 'net_term'" class="icon-net_terms pr5 dtableCell"></i>
                                    <i *ngIf="payment?.method == 'store_credit'"
                                        class="icon-store_credit pr5 dtableCell"></i>
                                    <i
                                        class="dtableCell fontStyleNormal">{{payment?.method.replace('_',' ') | titlecase}}</i>
                                </span>
                                <span *ngIf="payment?.method == 'credit_card'" class=" ml15 mr15">
                                    <i *ngIf="payment?.method == 'credit_card'"
                                        class="icon-credit_card pr5 dtableCell"></i>
                                    <i class="dtableCell fontStyleNormal">{{payment?.method.replace('_',' ') | titlecase}}
                                        ({{payment?.card_used_no}})</i>
                                </span>
                            </div>
                            <div class="inner text-center wd30percent"><span
                                    class="ml25">{{payment?.amount | currency}}</span></div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="modal-footer dBlock noborder text-center mx-auto">
            <button (click)="backToPrev('paymentView','userAuthorizationView')" type="button"
                class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20 mx-auto">Done</button>
            <button (click)="backToPrev('paymentView','refundView')" type="button"
                class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Back</button>
        </div>
    </div>
    <div *ngIf="userAuthorizationView" class="userAuthorizationView">
        <div class="modal-header noborder pt30">
            <div class="modalTitle mx-auto text-center">
                <h2 class="fontPoppin font24 fontSemiBold color000">Would you like to refund this payment?</h2>
                <p class="fontPoppin font12 mb0 color000">If so, type your manager password</p>
            </div>
        </div>
        <div class="modal-body">
            <form autocomplete="off">
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label [ngClass]="{'bounce colorRedError':cancelPOSubmitted && userEmail== ''}"
                            class="fontPoppin mb0 font12 fontSemiBold color000">User Name</label>
                        <input [ngClass]="{'bounce':cancelPOSubmitted && userEmail== ''}" [(ngModel)]="userEmail"
                            type="text" class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            placeholder="example@example.com" [ngModelOptions]="{standalone: true}">
                        <span [ngClass]="{'bounce colorRedError':cancelPOSubmitted && userEmail== ''}">User name is
                            required</span>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label [ngClass]="{'bounce colorRedError':cancelPOSubmitted && userPwd== ''}"
                            class="fontPoppin mb0 font12 fontSemiBold color000">Password Name</label>
                        <input [ngClass]="{'bounce':cancelPOSubmitted && userPwd== ''}" [(ngModel)]="userPwd"
                            type="password" class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            placeholder="Type the password here" [ngModelOptions]="{standalone: true}">
                        <span [ngClass]="{'bounce colorRedError':cancelPOSubmitted && userPwd== ''}">Password is
                            required</span>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer dBlock noborder text-center mx-auto">
            <button (click)="cancelPO()" type="button"
                class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20 mx-auto">Process Refund</button>
            <button (click)="backtoPaymentView()" type="button"
                class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Back</button>
        </div>
    </div>
</ng-template>
<ng-template #exportOrder>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <i class="fas fa-download font42 color000"></i>
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                How do you want to download your file?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb30">
        <button (click)="stockService.printAndExportOrders(selectedOrder,isExport = true, 'pdf'); closeModel()"
            type="button" class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">PDF</button>
        <button (click)="stockService.printAndExportOrders(selectedOrder,isExport = true, 'csv'); closeModel()"
            type="button" class="btn modalSaveBtnReceive mb5 fontPoppin borderRadius20">CSV</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #downloadOrder>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <i class="fas fa-download font42 color000"></i>
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                How do you want to download your file?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb30">
        <button (click)="downloadPO('pdf')" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">PDF</button>
        <button (click)="downloadPO('csv')" type="button"
            class="btn modalSaveBtnReceive mb5 fontPoppin borderRadius20">CSV</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_deletePO>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <i class="fa fa-trash font42 color000"></i>
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                Do you want to delete this order?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb30">
        <button (click)="deltePO()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">Yes,
            delete it</button>
        <button (click)="closeModel()" type="button" class="btn modalSaveBtnReceive fontPoppin borderRadius20">No,
            go back</button>
    </div>
</ng-template>
<ng-template #open_importPO>
    <div class="modal-header"></div>
    <div class="modal-body">
        <h2>Import P.O.</h2>
        <p>Upload your product order as a .CSV, .XSL or .PDF files.</p>
        <div class="download-sample"><a href="../../../../assets/file.csv" download>Download sample csv</a></div>
        <div class="import-file">
            <div class="input-group input-file" name="add-importPO">
                <label *ngIf="fileName != ''" for="add-importPO"><span>{{fileName}}</span></label>
                <label *ngIf="fileName == ''" for="add-importPO"><span>please select csv file</span></label>
                <input type="file" accept=".csv" #uploads (change)="onFileChanged(uploads.files)" multiple
                    value="process" name="add-importPO" id="add-importPO" class="form-control cust-field"
                    placeholder="Example: filename.csv">
                <span class="input-group-btn">
                    <button class="btn btn-default btn-choose" type="button">Browse</button>
                </span>
            </div>
        </div>

    </div>
    <div class="modal-footer">
        <button (click)="closeModel()" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button (click)="closeModel()" (click)="openModal(open_mapColumn, 'box-importPO box-width')" type="button"
            class="btn btn-default" data-dismiss="modal">Upload</button>
    </div>
</ng-template>
<ng-template #open_mapColumn>
    <div class="modal-header"></div>
    <div class="modal-body">
        <h2>Configure columns to import</h2>
        <p>Match the reserved attributes on Purchase Order to the columns header in your CSV</p>
        <p>Please note that you may not be importing all of these attributes. Feel free to "Skip" the ones that are not
            present in your file.</p>
        <div class="merge-columns">
            <carousel [itemsPerSlide]="itemsPerSlide" [singleSlideOffset]="singleSlideOffset" [noWrap]="!noWrap"
                [interval]="false" [startFromIndex]="0">
                <slide *ngFor="let field of fields; let i = index;" class="animated fadeIn">
                    <div class="column-box">
                        <div class="top">
                            <div class="left">
                                <p>Attribute: <span>{{field}}</span></p>
                                <!-- <p class="requiredone"> Required for importing</p> -->
                            </div>
                            <div class="right">
                                <a (click)="skipSlide(i)">Skip</a>
                            </div>
                        </div>
                        <div class="bottom">
                            <label>Mapped Column</label>
                            <div class="btn-group" dropdown>
                                <button id="button-animated" dropdownToggle type="button"
                                    class="btn btn-primary dropdown-toggle" aria-controls="dropdown-animated">{{col[i]}}
                                    <span class="caret"></span>
                                </button>
                                <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu"
                                    aria-labelledby="button-animated">
                                    <li *ngFor="let m_col of mappedColumns; let k = index;"
                                        (click)="changeValueOfMapColumns('mappedColumn',m_col,field,i)" role="menuitem">
                                        <a class="dropdown-item">{{m_col}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="view-column">
                            <label>{{field}}</label>
                            <div class="scroll-content">
                                <table class="table">
                                    <tbody>
                                        <tr *ngFor="let data of dataList;let j = index;" colspan="2">
                                            <td>{{j+1}}</td>
                                            <td>{{dataList[j][field]}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </slide>
            </carousel>
        </div>
    </div>
    <div class="modal-footer">
        <button (click)="closeModel()" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button (click)="checkFileProdusts()" (click)="openModal(open_importPODone, 'box-importPO')" type="button"
            class="btn btn-default" data-dismiss="modal">Done</button>
    </div>
</ng-template>
<ng-template #open_shareorder>
    <div class="modal-header"></div>
    <div class="modal-body">
        <img src="../../../../assets/images/box-shareorder.png" alt="" width="40">
        <h2>Share Order</h2>
        <p>Would you like to do this?</p>
    </div>
    <div class="modal-footer">
        <button (click)="closeModel()" type="button" class="btn btn-default" data-dismiss="modal">Print</button>
        <button (click)="closeModel()" type="button" class="btn btn-default" data-dismiss="modal">Email</button>
        <button (click)="closeModel()" type="button" class="btn btn-default" data-dismiss="modal">SMS</button>
    </div>
</ng-template>
<ng-template #open_removecustomer>
    <div class="modal-header"></div>
    <div class="modal-body">
        <img src="../../../../assets/images/box-removecustomer.png" alt="" width="40">
        <h2>
            Remove Supplier Cust
        </h2>
        <p>Remove supplier from the list?</p>
    </div>
    <div class="modal-footer">
        <button (click)="closeModel()" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button (click)="deleteSupplier()" type="button" class="btn btn-default" data-dismiss="modal">Yes</button>
    </div>
</ng-template>
<ng-template #open_removeproduct>
    <div class="modal-body">
        <div *ngIf='deleteSuppLoader' class="luna-loading"></div>
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 *ngIf="poDetails" class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> remove this
                product?</h2>
            <h2 *ngIf="!poDetails" class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> archive this
                product?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button (click)="removeProduct()" type="button" *ngIf="poDetails"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            remove it</button>
        <button (click)="removeProduct()" type="button" *ngIf="!poDetails"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            archive it</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_activeproduct>
    <div class="modal-body">
        <div *ngIf='deleteSuppLoader' class="luna-loading"></div>
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 *ngIf='ativeProducts.length == 1' class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to
                <br> active this product?</h2>
            <h2 *ngIf='ativeProducts.length > 1' class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to
                <br> active these products?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button *ngIf='ativeProducts.length == 1' (click)="activateProducts()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            active it</button>
        <button *ngIf='ativeProducts.length > 1' (click)="activateProducts()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            active them</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_removeProductSupplier>
    <div class="modal-body">
        <div *ngIf='deleteSuppLoader' class="luna-loading"></div>
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> remove this supplier?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button (click)="removeSupplierFromList(i)" (click)="modalRef.hide()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            remove it</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_removesupplier>
    <div class="modal-body">
        <div *ngIf='deleteSuppLoader' class="luna-loading"></div>
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> archive this supplier?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button (click)="deleteSupplier()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            archive it</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_removeAllSupplier>
    <div class="modal-body">
        <div *ngIf='deleteSuppLoader' class="luna-loading"></div>
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> archive suppliers?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button (click)="deleteMultiSupliers()" (click)="modalRef.hide()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            archive them</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_activeSupplier>
    <div class="modal-body">
        <div *ngIf='deleteSuppLoader' class="luna-loading"></div>
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> active suppliers?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button (click)="archiveToActiveSupplierFun()" (click)="modalRef.hide()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            active them</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_permanentDeleteSupplier>
    <div class="modal-body">
        <div *ngIf='deleteSuppLoader' class="luna-loading"></div>
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> Permanently delete supplier(s)?
            </h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button (click)="PermanentDeleteSupplierFun()" (click)="modalRef.hide()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            delete them</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_removeAllProducts>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 *ngIf="deleteProducts.length > 1" class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to
                <br> archive all products?</h2>
            <h2 *ngIf="deleteProducts.length == 1" class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to
                <br> archive this product?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button *ngIf="deleteProducts.length > 1" (click)="removeProduct()" (click)="modalRef.hide()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            archive them</button>
        <button *ngIf="deleteProducts.length == 1" (click)="removeProduct()" (click)="modalRef.hide()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            archive this product</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_archiveShippingMethod>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to archive<br>this shipping method?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button  (click)="modalRef.hide()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            archive this method</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_removeshippment>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center">
            <img src="../../../../assets/images/box-removecustomer.png" alt="" width="40">
            <h2 class="fontPoppin font24 fontSemiBold mb10 color000">
                Remove Shippment</h2>
            <p class="fontPoppin font12 mb10 color000">Remove shippment type from the list?</p>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5">
        <button (click)="deleteShippingTypeFun()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Yes</button>
        <button (click)="closeShipTypeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_removePOProduct>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center">
            <img src="../../../../assets/images/box-removecustomer.png" alt="" width="40">
            <h2 class="fontPoppin font24 fontSemiBold mb10 color000">
                Remove Item</h2>
            <p class="fontPoppin font12 mb10 color000">Remove item form the cart?</p>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5">
        <button (click)="removePoProduct()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Yes</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_importPODone>
    <div class="modal-header"></div>
    <div class="modal-body">
        <div *ngIf='productNotFoundLoader==true' class="luna-loading"></div>
        <h2 *ngIf='length2 !=0'>{{productNotFound}} Products are not in stock</h2>
        <h5 *ngIf='length2 !=0'>Do you want to import PO without these products?</h5>
        <h2 *ngIf='length2 ==0'>Products Not in Stock</h2>
        <h6 *ngIf='length2 ==0'>None of the products in the CSV file exist in the product catalog. Please confirm and
            try again.</h6>
        <br>
    </div>
    <div class="modal-footer">
        <button (click)="closeModel()" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button *ngIf='length2 !=0' (click)="doneMapping()" type="button" class="btn btn-default"
            data-dismiss="modal">Done</button>
        <button *ngIf='length2 ==0' (click)="closeModel()" type="button" class="btn btn-default"
            data-dismiss="modal">Ok</button>
    </div>
</ng-template>
<ng-template #open_profilePhoto>
    <div *ngIf='storeLogoDeleteLoader' class="luna-loading"></div>
    <div class="modal-header">
        <h4 class="fontPoppin fontSemiBold">Add your photo </h4>
        <div (click)="closePopup()" class="closePopup"><i class="fa fa-times"> </i></div>
    </div>
    <div class="modal-body p0">
        <div class="uploadWrapper settings-wrapper">
            <div class="col-md-3 p0 fl">
                <div class="left">
                    <ul class="nav nav-pills" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a [ngClass]="{'active':currentImg}" (click)="changeTab('currentImg')" class="nav-link"
                                id="currentImg-tab" href="javascript:void(0);">Current</a>
                        </li>
                        <li class="nav-item">
                            <a [ngClass]="{'active':defaultImg}" (click)="changeTab('defaultImg')" class="nav-link"
                                id="defaultImg-tab" href="javascript:void(0);">Default <i class="fa fa-picture-o fr"
                                    aria-hidden="true"></i></a>
                        </li>
                        <li class="nav-item">
                            <a [ngClass]="{'active':cameraImg}" (click)="changeTab('cameraImg')" class="nav-link"
                                id="cameraImg-tab" href="javascript:void(0);">Camera <i class="fa fa-camera fr"
                                    aria-hidden="true"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-md-9 p0 fl">
                <div class="right">
                    <div class="tab-content" id="myTabContent">
                        <div [ngClass]="{'noDisplay':!currentImg,'dBlock':currentImg}" class="equalHeight bgBlack" id="currentImg">
                            <div class="uploadLogo">
                                <div class="profile">
                                    <div class="photo">
                                        <input type="file" accept="image/*">
                                        <div class="photo__helper">
                                            <div class="photo__frame photo__frame--circle">
                                                <canvas class="photo__canvas"></canvas>
                                                <div class="message is-empty">
                                                    <p class="message--desktop">Drop your photo here or browse your
                                                        computer.</p>
                                                    <p class="message--mobile">Tap here to select your picture.</p>
                                                </div>
                                                <div class="message is-loading">
                                                    <i class="fa fa-2x fa-spin fa-spinner"></i>
                                                </div>
                                                <div class="message is-dragover">
                                                    <i class="fa fa-2x fa-cloud-upload"></i>
                                                    <p>Drop your photo</p>
                                                </div>
                                                <div class="message is-wrong-file-type">
                                                    <p>Only images allowed.</p>
                                                    <p class="message--desktop">Drop your photo here or browse your
                                                        computer.</p>
                                                    <p class="message--mobile">Tap here to select your picture.</p>
                                                </div>
                                                <div class="message is-wrong-image-size">
                                                    <p>Your photo must be larger than 350px.</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="photo__options hide">
                                            <div class="photo__zoom">
                                                <input type="range" class="zoom-handler">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="defaultImg" class="equalHeight bgWhite" id="defaultImg">
                            <div class="defaultImgList text-left">
                                <ul>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="defaultImgBG"
                                                style="background-image: url('../../../../assets/images/cash-register.jpg');">
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="defaultImgBG"
                                                style="background-image: url('../../../../assets/images/cash-register.jpg');">
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="defaultImgBG"
                                                style="background-image: url('../../../../assets/images/cash-register.jpg');">
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="defaultImgBG"
                                                style="background-image: url('../../../../assets/images/cash-register.jpg');">
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="defaultImgBG"
                                                style="background-image: url('../../../../assets/images/cash-register.jpg');">
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div *ngIf="cameraImg" class="equalHeight bgBlack empty" id="cameraImg">
                            <div class="empty-text">
                                <h2 class="colorWhite fontPoppin fontRegular textCaptilize font14"><i class="fas fa-exclamation-triangle font18" aria-hidden="true"></i>No Camera Detected</h2>
                            </div>
                            <webcam [mirrorImage]="never" [imageQuality]="1" (imageCapture)="handleImage($event)" (initError)="handleInitError($event)" [trigger]="triggerObservable"></webcam>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div *ngIf='currentImg == true || browserImg == true' class="left">
            <button (click)="deleteImage()" type="button" class="btn btn-default" data-dismiss="modal">Delete
            </button>
        </div>
        <div class="right">
            <div *ngIf='currentImg == true || browserImg == true' class="changeImage">
                <label for="add-logo" class="custom-file-upload">Change Photo</label>
                <input type="file" #imageInput name="add-logo" id="add-logo" accept="image/png, image/jpeg"
                    (change)="cahngeProductImage($event)">
            </div>
            <button (click)="savePhoto()" id="previewBtn" type="button" class="btn btn-default"
                data-dismiss="modal">Save Photo</button>
        </div>
    </div>
</ng-template>
<ng-template #open_inventoryAccount>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold mb10 color000">
                Add {{createAccountType}} account</h2>
            <p class="fontPoppin font12 mb10 color000">Please add the following data to add account</p>
        </div>
    </div>
    <div class="modal-body pl40 pt0 pr40">
        <div class="items-form-content">
            <form autocomplete="off" action="#" [formGroup]="addAcountForm">
                <div class="row mb15">
                    <div class="col-lg-6">
                        <label [ngClass]="{'bounce is-invalid':addAccountSubmitted && faddAccount.account_code.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="inv_category">Category</label>
                        <input [ngClass]="{'bounce':addAccountSubmitted && faddAccount.account_code.errors}"
                            formControlName="account_code" type="text" name="inv_category" id="inv_category"
                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            placeholder="Example: Accessories">
                        <label class="bounce is-invalid" *ngIf="addAccountSubmitted && faddAccount.account_code.errors">
                            Category is required
                        </label>
                    </div>
                    <div class="col-lg-6">
                        <label [ngClass]="{'bounce is-invalid':addAccountSubmitted && faddAccount.account_name.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="inv_accName">Account
                            Name</label>
                        <input [ngClass]="{'bounce':addAccountSubmitted && faddAccount.account_name.errors}" type="text"
                            formControlName="account_name" name="inv_accName" id="inv_accName"
                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            placeholder="Example: Computer">
                        <label class="bounce is-invalid"
                            *ngIf="addAccountSubmitted && faddAccount.account_name.errors">Account name is required
                        </label>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-6">
                        <!-- <label
                            [ngClass]="{'bounce is-invalid':addAccountSubmitted && faddAccount.Opening_balance.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="inv_detailType">Opening
                            balance</label>
                        <input appTwoDigitDecimaNumber
                            [ngClass]="{'bounce':addAccountSubmitted && faddAccount.Opening_balance.errors}" type="text"
                            formControlName="Opening_balance" name="inv_detailType" id="inv_detailType"
                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            placeholder="Example: Otterbox">
                        <label class="bounce is-invalid"
                            *ngIf="addAccountSubmitted && faddAccount.Opening_balance.errors"> Openinig balance is
                            required</label> -->
                        <label
                            [ngClass]="{'bounce is-invalid':addAccountSubmitted && faddAccount.account_type_Id.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="inv_detailType">Details
                            type</label>
                        <div class="btn-group wd100Percent" dropdown>
                            <button id="button-animated" dropdownToggle type="button"
                                class="btn cust-field wd100Percent font12 borderColorcbcbcb borderRadius5 dropdown-toggle"
                                aria-controls="dropdown-animated">{{selectedAccount}}
                                <span class="caret"></span>
                            </button>
                            <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu"
                                aria-labelledby="button-animated">
                                <li *ngFor="let type of allAccountTypes;" (click)="selectAccountType(type)"
                                    role="menuitem"><a class="dropdown-item">{{type.title}}</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <label class="color000 mb0 fontPoppin font12 fontSemiBold"
                            for="inv_description">Decription</label>
                        <input type="text" formControlName="description" name="inv_description" id="inv_description"
                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            placeholder="Example: Type a description">
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-6">
                    </div>
                    <div class="col-lg-6">
                        <div class="catRight">
                            <div class="checkParentAccount posRelative"
                                [ngClass]="{'subChecked':addAcountForm.controls.is_sub_account.value == true}">
                                <input (click)="subAccount()"
                                    [checked]="addAcountForm.controls.is_sub_account.value == true" id="subAccount"
                                    class="checkbox-custom" name="subAccount" type="checkbox">
                                <label
                                    [ngClass]="{'bounce is-invalid':addAccountSubmitted && addAcountForm.controls.is_sub_account.value && addAcountForm.controls.parent_account_Id.value == ''}"
                                    for="subAccount"
                                    class="checkbox-custom-label color000 fontPoppin font12 fontSemiBold">Is this a sub
                                    account?</label>
                            </div>
                        </div>
                        <div *ngIf="addAcountForm.controls.is_sub_account.value == true"
                            class="posRelative parentAccount">
                            <div class="btn-group wd100Percent" dropdown>
                                <button id="button-animated" dropdownToggle type="button"
                                    class="btn dropdown-toggle  cust-field font12 borderColorcbcbcb borderRadius5"
                                    aria-controls="dropdown-animated">{{parentAccount}}
                                    <span class="caret"></span>
                                </button>
                                <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu"
                                    aria-labelledby="button-animated">
                                    <li *ngFor="let acc of allAcounts" (click)="selectParentAccount(acc)"
                                        role="menuitem">
                                        <a class="dropdown-item">{{acc.account_name}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto">
        <button (click)="addAddAccount()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Save</button>
        <button (click)="closePopup()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_CompareProductSKU>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold color000">
                You have alrady used this SKU</h2>
            <p class="fontPoppin font12 mb10 color000">In which product would you preffer to use it?
            </p>
        </div>
    </div>
    <div class="modal-body pl40 pt0 pr40 pb30">
        <div class="items-form-content">
            <div class="row mb15">
                <div class="col-lg-6">
                    <div class="compareBox text-center posRelative">
                        <div class="innerCompare">
                            <!-- <h2 class="fontPoppin font16 fontSemiBold color000">iPhone 6s Battery Premium Replacement
                            </h2> -->
                            <a (click)="closePopup()" href="JavaScript:void(0)" class="mt20 font12 dInlineBlock">Use on
                                old product</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="compareBox text-center posRelative">
                        <div class="innerCompare">
                            <!-- <h2 class="fontPoppin font16 fontSemiBold color000">iPhone 6s Plus Battery Premium
                                Replacement</h2> -->
                            <a (click)="useSupplierSKUWithNew()" href="JavaScript:void(0)"
                                class="mt20 font12 dInlineBlock">Use on new product</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto">
        <!-- <button (click)="closePopup()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Save</button> -->
        <button (click)="closePopup()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_CompareSupplierData>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold color000">
                Supplier Data Verification</h2>
        </div>
    </div>
    <div *ngIf='dataVerificationLoader' class="luna-loading"></div>
    <div class="modal-body pl40 pt0 pr40">
        <div class="items-form-content">
            <div class="row mb15">
                <div class="col-lg-6">
                    <div class="compareBox posRelative nOcenter">
                        <div class="innerCompare">
                            <h2 class="fontPoppin font14 mb15 fontSemiBold color000 text-center">Address You Entered
                            </h2>
                            <div class="addressInfo">
                                <span class="dBlock color808080 fontSemiBold">Company</span>
                                <span
                                    class="dBlock color808080 mb10">{{UpdateCreateSupplierData.supplier_company}}</span>
                                <span class="dBlock color808080 fontSemiBold">Phone</span>
                                <span
                                    class="dBlock color808080 mb10">{{UpdateCreateSupplierData.supplier_company_phone}}</span>
                                <span class="dBlock color808080 fontSemiBold">Address</span>
                                <span class="dBlock color808080 mb10">{{UpdateCreateSupplierData.address_1}}</span>
                                <span class="dBlock color808080 fontSemiBold">Coutnry</span>
                                <span class="dBlock color808080 mb10">{{country}}</span>
                            </div>
                            <a href="JavaScript:void(0)"
                                (click)="createSupplierMutation(UpdateCreateSupplierData,'hide')"
                                class="mt20 font12 dBlock mx-auto text-center">Use Owned</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="compareBox posRelative nOcenter">
                        <div class="innerCompare">
                            <h2 class="fontPoppin font14 mb15 fontSemiBold color000 text-center">Verified Address</h2>
                            <div class="addressInfo">
                                <span class="dBlock color808080 fontSemiBold">Company</span>
                                <span class="dBlock color808080 mb10">{{compareSupplierData.supplier_company}}</span>
                                <span class="dBlock color808080 fontSemiBold">Phone</span>
                                <span
                                    class="dBlock color808080 mb10">{{compareSupplierData.supplier_company_phone}}</span>
                                <span class="dBlock color808080 fontSemiBold">Address</span>
                                <span class="dBlock color808080 mb10">{{compareSupplierData.address_1}}</span>
                                <span class="dBlock color808080 fontSemiBold">Coutnry</span>
                                <span class="dBlock color808080 mb10">{{compareSupplierCountry}}</span>
                            </div>
                            <a href="JavaScript:void(0)" (click)="createSupplierMutation(compareSupplierData,'hide')"
                                class="mt20 font12 dBlock mx-auto text-center">Use suggested</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #open_addShippment>
    <div *ngIf='shipTypeLoader' class="luna-loading"></div>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold mb10 color000">
                {{update+" "}} Shippment type</h2>
            <p class="fontPoppin font12 mb10 color000">Type all the shippment options that will have to be track</p>
        </div>
    </div>
    <div class="modal-body pl40 pt0 pr40">
        <div class="items-form-content">
            <form autocomplete="off" [formGroup]="shippingTypeForm" (ngSubmit)="shipTypeCreateFun()">
                <div class="row mb15">
                    <div class="col-lg-6">
                        <label [ngClass]="{ 'is-invalid': shipTypeSubmitted && fShippingTypeForm.shipment_name.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="ship_name">Shipment Name</label>
                        <input formControlName="shipment_name" type="text" name="ship_name" id="ship_name"
                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            (click)="shipTypeErrorMessageFun()" placeholder="Example: Ground"
                            [ngClass]="{ 'bounce': shipTypeSubmitted && fShippingTypeForm.shipment_name.errors}">
                        <span *ngIf="shipTypeSubmitted && fShippingTypeForm.shipment_name.errors"
                            class="field-error-msg">
                            Shipment Name required
                        </span>
                        <span *ngIf="shipTypeErrorMessage!=''" class="field-error-msg">
                            {{shipTypeErrorMessage | titlecase}}
                        </span>
                    </div>
                    <div class="col-lg-6">
                        <label [ngClass]="{ 'is-invalid': shipTypeSubmitted && fShippingTypeForm.shipment_price.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="ship_price">Shipment
                            Price</label>
                        <input appTwoDigitDecimaNumber formControlName="shipment_price" type="text" name="ship_price"
                            id="ship_price"
                            class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                            placeholder="$0.00"
                            [ngClass]="{ 'bounce': shipTypeSubmitted && fShippingTypeForm.shipment_price.errors}">
                        <span *ngIf="shipTypeSubmitted && fShippingTypeForm.shipment_price.errors"
                            class="field-error-msg">
                            Shipment Price required
                        </span>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-6">
                        <label
                            [ngClass]="{ 'is-invalid': shipTypeSubmitted && fShippingTypeForm.delivery_time_days.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="ship_deliverTime">Delivery time
                            in days </label>
                        <input (keypress)="numberOnly($event)" formControlName="delivery_time_days" type="text"
                            name="ship_deliverTime" id="ship_deliverTime"
                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            placeholder="Example: 2"
                            [ngClass]="{ 'bounce': shipTypeSubmitted && fShippingTypeForm.delivery_time_days.errors}">
                        <span *ngIf="shipTypeSubmitted && fShippingTypeForm.delivery_time_days.errors"
                            class="field-error-msg">
                            Deliver time required
                        </span>
                    </div>
                    <div class="col-lg-6">
                        <label [ngClass]="{ 'is-invalid': shipTypeSubmitted && fShippingTypeForm.threshold.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="threshold">Threshold for free
                            shipping</label>
                        <input appTwoDigitDecimaNumber formControlName="threshold" type="text" name="threshold"
                            id="threshold"
                            class="form-control text-right cust-field font12 borderColorcbcbcb borderRadius5"
                            placeholder="$0.00"
                            [ngClass]="{ 'bounce': shipTypeSubmitted && fShippingTypeForm.threshold.errors}">
                        <span *ngIf="shipTypeSubmitted && fShippingTypeForm.threshold.errors" class="field-error-msg">
                            Threshold required
                        </span>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-6">
                        <label [ngClass]="{ 'is-invalid': shipTypeSubmitted && (fShippingTypeForm.hours.errors)}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="CutHrs">
                            Cut off time</label>
                        <!-- <div class="col-lg-12 fl pl0 pr5">
                            <input formControlName="hours" (keypress)="numberOnly($event)" type="time" name="CutHrs"
                                id="CutHrs" class="form-control cust-field font12 borderColor000 borderRadius5"
                                placeholder="03">
                            <span
                                *ngIf="shipTypeSubmitted && (fShippingTypeForm.hours.errors)"
                                class="field-error-msg">
                                Cut off time is required
                            </span>
                        </div> -->
                        <div class="col-lg-4 fl pl0 pr5">
                            <div class="btn-group wd100Percent" dropdown>
                                <button id="button-animated" dropdownToggle type="button"
                                    class="btn cust-field text-center wd100Percent font12 borderColorcbcbcb borderRadius5 dropdown-toggle"
                                    aria-controls="dropdown-animated">{{changeHour}}
                                    <span class="caret"></span>
                                </button>
                                <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu timepickerUL" role="menu"
                                    aria-labelledby="button-animated">
                                    <li *ngFor="let hour of hoursList;" (click)="changeValue('changeHour',hour)" role="menuitem"><a
                                            class="dropdown-item">{{hour}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-4 fl pl0 pr5">
                            <div class="btn-group wd100Percent" dropdown>
                                <button id="button-animated" dropdownToggle type="button"
                                    class="btn cust-field text-center wd100Percent font12 borderColorcbcbcb borderRadius5 dropdown-toggle"
                                    aria-controls="dropdown-animated">{{changeMinute}}
                                    <span class="caret"></span>
                                </button>
                                <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu timepickerUL" role="menu"
                                    aria-labelledby="button-animated">
                                    <li *ngFor="let min of minutesList;" (click)="changeValue('changeMinute',min)" role="menuitem"><a
                                            class="dropdown-item">{{min}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-4 fl pl0 pr0">
                            <div class="btn-group wd100Percent" dropdown>
                                <button id="button-animated" dropdownToggle type="button"
                                    class="btn cust-field text-center wd100Percent font12 borderColorcbcbcb borderRadius5 dropdown-toggle"
                                    aria-controls="dropdown-animated">{{changeTimeAmPm}}
                                    <span class="caret"></span>
                                </button>
                                <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu timepickerUL ampmUL"
                                    role="menu" aria-labelledby="button-animated">
                                    <li (click)="changeValue('changeTimeAmPm','AM')" role="menuitem"><a
                                            class="dropdown-item">AM</a>
                                    </li>
                                    <li (click)="changeValue('changeTimeAmPm','PM')" role="menuitem"><a
                                            class="dropdown-item">PM</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <span
                            *ngIf="shipTypeSubmitted && (fShippingTypeForm.hours.errors || fShippingTypeForm.hours.errors )"
                            class="field-error-msg">
                            Cut off time is required
                        </span>
                    </div>
                    <div class="col-lg-6">
                        <label [ngClass]="{ 'is-invalid': shipTypeSubmitted && fShippingTypeForm.time_zone.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="timezone">Select time
                            zone</label>
                        <div class="btn-group wd100Percent" dropdown>
                            <button id="button-animated" dropdownToggle type="button"
                                class="btn cust-field font12 borderColorcbcbcb borderRadius5 dropdown-toggle"
                                aria-controls="dropdown-animated">{{selectedTimeZone}}
                                <span class="caret"></span>
                            </button>
                            <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu"
                                aria-labelledby="button-animated">
                                <li *ngFor="let timezone of timeZones; let i = index"
                                    (click)="changeTimeZoneFun(timezone.title)" role="menuitem"><a
                                        class="dropdown-item">{{timezone.title}}</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- <div class="col-lg-6">
                        <label [ngClass]="{ 'is-invalid': shipTypeSubmitted && fShippingTypeForm.time_zone.errors}"
                            class="color000 mb0 fontPoppin font12 fontSemiBold" for="timezone">Select time
                            zone</label>
                        <div  dropdown>
                                <ng-select [items]="timeZones"
                                   bindLabel="title"
                                   bindValue="_id"
                                   placeholder="Select time zone"
                                   name='zone'>
                        </ng-select>
                        </div>
                        <div class="btn-group wd100Percent" dropdown></div>
                            <button id="button-animated" dropdownToggle type="button"
                                class="btn cust-field font12 borderColorcbcbcb borderRadius5 dropdown-toggle"
                                aria-controls="dropdown-animated">{{selectedTimeZone}}
                                <span class="caret"></span>
                            </button>
                            <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu"
                                aria-labelledby="button-animated">
                                <li *ngFor="let timezone of timeZones; let i = index"
                                    (click)="changeTimeZoneFun(timezone.title)" role="menuitem"><a
                                        class="dropdown-item">{{timezone.title}}</a>
                                </li>
                            </ul>
                        </div> </div> -->
                </div>
                <div class="row mb15">
                    <div class="col-lg-6">
                        <label class="color000 mb0 fontPoppin font12 fontSemiBold" for="threshold">Shipping URL</label>
                        <input type="text" formControlName="tracking_url" name="ship_URL" id="ship_URL"
                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5" placeholder="Example: https://shippingcompanyurl/">
                        <!-- <span class="field-error-msg">Shipment URL is required</span> -->
                    </div>
                    <div class="col-lg-6">
                        <div class="shippIcon">
                            <!-- [ngClass]="{ 'is-invalid': shipTypeSubmitted && shipTypeIcon==''}" -->
                            <label class="color000 mb0 fontPoppin font12 fontSemiBold" for="ship_icon">Select an
                                icon</label>
                            <ul>
                                <li>
                                    <a (click)="selectShipTypeIcon('fas fa-cloud-moon')" href="JavaScript:void(0)"
                                        class="font24">
                                        <i [ngClass]="{ 'color000':shipTypeIcon=='fas fa-cloud-moon'}"
                                            class="fas fa-cloud-moon "></i></a>
                                </li>
                                <li>
                                    <a (click)="selectShipTypeIcon('fas fa-truck')" href="JavaScript:void(0)"
                                        class="font24 ">
                                        <i [ngClass]="{ 'color000': shipTypeIcon=='fas fa-truck'}"
                                            class="fas fa-truck "></i></a>
                                </li>
                                <li>
                                    <a (click)="selectShipTypeIcon('fas fa-plane')" href="JavaScript:void(0)"
                                        class="font24 ">
                                        <i [ngClass]="{ 'color000': shipTypeIcon=='fas fa-plane' }"
                                            class="fas fa-plane "></i></a>
                                </li>
                            </ul>
                        </div>
                        <!-- <span *ngIf="shipTypeSubmitted && shipTypeIcon==''" class="field-error-msg">
                            Icon is required
                        </span> -->
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto">
        <button type="button" (click)='shipTypeCreateFun()'
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Save</button>
        <button (click)="closeShipTypeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_editShippment>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold mb10 color000">
                Edit Shipment Type</h2>
            <p class="fontPoppin font12 mb10 color000">Type all the shipment options that wil have to be track</p>
        </div>
    </div>
    <div class="modal-body pl40 pt0 pr40">
        <div class="items-form-content">
            <form autocomplete="off" action="#">
                <div class="row mb15">
                    <div class="col-lg-6">
                        <label class="color000 mb0 fontPoppin font12 fontSemiBold" for="ship_name">Shipment Name</label>
                        <input type="text" name="ship_name" id="ship_name"
                            class="form-control cust-field font12 borderColor000 borderRadius5" value="Ground">
                    </div>
                    <div class="col-lg-6">
                        <label class="color000 mb0 fontPoppin font12 fontSemiBold" for="ship_price">Shipment
                            Price</label>
                        <input type="text" name="ship_price" id="ship_price"
                            class="form-control text-right cust-field font12 borderColor000 borderRadius5"
                            value="$10.89">
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-6">
                        <label class="color000 mb0 fontPoppin font12 fontSemiBold" for="ship_deliverTime">Deliver time
                            in days</label>
                        <input type="text" name="ship_deliverTime" id="ship_deliverTime"
                            class="form-control cust-field font12 borderColor000 borderRadius5" value="2">
                    </div>
                    <div class="col-lg-6">
                        <label class="color000 mb0 fontPoppin font12 fontSemiBold"
                            for="ship_threshold">Threshold</label>
                        <input type="text" name="ship_threshold" id="ship_threshold"
                            class="form-control text-right cust-field font12 borderColor000 borderRadius5"
                            value="$2.22">
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <div class="shippIcon">
                            <label class="color000 mb0 fontPoppin font12 fontSemiBold" for="ship_icon">Select an
                                icon</label>
                            <ul>
                                <li>
                                    <a href="JavaScript:void(0)" class="selectedIcon font24"><i
                                            class="fas fa-cloud-moon"></i></a>
                                </li>
                                <li>
                                    <a href="JavaScript:void(0)" class="font24 "><i class="fas fa-truck"></i></a>
                                </li>
                                <li>
                                    <a href="JavaScript:void(0)" class="font24 "><i class="fas fa-plane"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto">
        <button (click)="closePopup()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Save</button>
        <button (click)="closePopup()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_changeStatus>
    <div *ngIf='statusLoader' class="luna-loading"></div>
    <div class="modal-body p0 mt10">
        <div class="labelSelection stockLables text-center">
            <div class="pr10">
                <ul>
                    <li *ngFor="let status of allStatusses; let i = index">
                        <a (click)="changeOrderStatus(status)" href="javascript:void(0);" class="label"
                            [style.color]="status.status_font_color"
                            [style.background-color]="status.status_background_color">
                            {{status.status_name}}
                        </a>
                    </li>
                    <!-- <li *ngFor="let status of allStatusData; let i = index">
                        <a href="javascript:void(0);"
                            (click)='changeStatus(status.status_name,status.status_background_color)'
                            class="label colorfff {{status.status_background_color}}"> {{status.status_name}}</a>
                    </li> -->
                    <!-- *ngIf="afterClick" -->
                    <!-- <li>
                        <a href="javascript:void(0);" class="label {{newStatusColor}}">
                            <input [(ngModel)]="newStatusText" type="text" name="new-status" id="new-status"
                                class="form-control" placeholder="New">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:void(0);" class="label newStatus">
                            <input type="text" name="new-status" id="new-status" class="form-control" placeholder="New">
                        </a>
                    </li> -->
                </ul>
            </div>
            <div class="addNewLabel">
                <!-- *ngIf="beforeClick"  -->
                <!-- <div class="beforeClick">
                    <button (click)="closeModel()" type="button" class="btn btn-default"
                        data-dismiss="modal">Cancel</button>
                    <button (click)="loadaddLabel()" type="button" class="btn btn-default" data-dismiss="modal">Add
                        labels {{" "}}<i class="fa fa-plus"></i></button>
                </div> -->
                <!-- *ngIf="afterClick -->
                <div class="labelColors afterClick">
                    <!-- <ul>
                        <li><a (click)='createNewStatusColor("brown")' class="colorBox brown"></a></li>
                        <li><a (click)='createNewStatusColor("pink")' class="colorBox pink"></a></li>
                        <li><a (click)='createNewStatusColor("darkOrange")' class="colorBox darkOrange"></a></li>
                        <li><a (click)='createNewStatusColor("lightPurple")' class="colorBox lightPurple"></a></li>
                        <li><a (click)='createNewStatusColor("seeGreen")' class="colorBox seeGreen"></a></li>
                        <li><a (click)='createNewStatusColor("navyBlue")' class="colorBox navyBlue"></a></li>
                        <li><a (click)='createNewStatusColor("lightOrange")' class="colorBox lightOrange"></a></li>
                        <li><a (click)='createNewStatusColor("deepblue")' class="colorBox deepblue"></a></li>
                        <li><a (click)='createNewStatusColor("darkBlue")' class="colorBox darkBlue"></a></li>
                        <li><a (click)='createNewStatusColor("lightBrown")' class="colorBox lightBrown"></a></li>
                        <li><a (click)='createNewStatusColor("darkPurple")' class="colorBox darkPurple"></a></li>
                        <li><a (click)='createNewStatusColor("darkPink")' class="colorBox darkPink"></a></li>
                        <li><a (click)='createNewStatusColor("grey")' class="colorBox grey"></a></li>
                        <li><a (click)='createNewStatusColor("green")' class="colorBox green"></a></li>
                        <li><a (click)='createNewStatusColor("purple")' class="colorBox purple"></a></li>
                    </ul> -->
                    <!-- <a (click)="createNewStatus()" href="javascript:void(0);" class="doneLabel">Done</a> -->
                    <a (click)="closeModel()" href="javascript:void(0);" class="doneLabel">Cancel</a>
                    <!-- <button (click)="loaddoneLabel()" type="button" class="btn btn-default"
                        data-dismiss="modal">Cancel</button> -->
                </div>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #addTrackingNo>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold color000">
                Add Tracking number</h2>
        </div>
    </div>
    <div class="modal-body pl40 pt0 pr40">
        <div class="items-form-content popupList">
            <!-- <div *ngIf='addTrackingLoader' class="luna-loading"></div> -->
            <form autocomplete="off" [formGroup]="addTrackingForm">
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label [ngClass]="{ 'is-invalid': addTrackingSubmitted && fAddTrackingForm.company_name.errors}"
                            class="fontPoppin mb0 font12 fontSemiBold color000" for="track_company">Company Name</label>
                        <input [ngClass]="{ 'bounce': addTrackingSubmitted && fAddTrackingForm.company_name.errors}"
                            formControlName="company_name" type="text" name="track_company" id="track_company"
                            class="form-control font12 cust-field"
                            placeholder="Example: Type your company shipping name">
                        <span class="field-error-msg"
                            *ngIf="addTrackingSubmitted && fAddTrackingForm.company_name.errors?.required">
                            Company Name is required</span>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label
                            [ngClass]="{ 'is-invalid': addTrackingSubmitted && fAddTrackingForm.tracking_number.errors}"
                            class="fontPoppin mb0 font12 fontSemiBold color000" for="track_number">Tracking
                            Number</label>
                        <input [ngClass]="{ 'bounce': addTrackingSubmitted && fAddTrackingForm.tracking_number.errors}"
                            formControlName="tracking_number" type="text" name="track_number" id="track_number"
                            class="form-control font12 cust-field" placeholder="Example: Type your track number">
                        <span class="field-error-msg"
                            *ngIf="addTrackingSubmitted && fAddTrackingForm.tracking_number.errors?.required">
                            Tracking Number is required</span>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label
                            [ngClass]="{ 'is-invalid': addTrackingSubmitted && fAddTrackingForm.estimated_days.errors}"
                            class="fontPoppin mb0 font12 fontSemiBold color000" for="track_estimated">Estimated
                            Days</label>
                        <input (keypress)="numberOnly($event)"
                            [ngClass]="{ 'bounce': addTrackingSubmitted && fAddTrackingForm.estimated_days.errors}"
                            formControlName="estimated_days" type="text" name="track_estimated" id="track_estimated"
                            class="form-control font12 cust-field"
                            placeholder="Example: Type the number of days estimated">
                        <span class="field-error-msg"
                            *ngIf="addTrackingSubmitted && fAddTrackingForm.estimated_days.errors?.required">
                            Estimated Days is required</span>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto">
        <button (click)="addTrackingNumber('Add')" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Save</button>
        <button (click)="closeAddTrakingPopup()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #completeReceive>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <img src="../../../../assets/images/imgPlaceholder.png" alt="" width="40">
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                Your delivered order seems to be completed</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb15">
        <button (click)="setPOStatus('Delivered')" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20">Confirm
            my order</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #inCompleteReceive>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <img src="../../../../assets/images/imgPlaceholder.png" alt="" width="40">
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                That's not cool</h2>
            <p class="fontPoppin font12 mb0 color808080">Do you want to contact them?</p>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb15">
        <button (click)="setPOStatus('Contact')" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb10">Yes,
            call them</button>
        <button (click)="setPOStatus('Refund')" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20">No, I'm
            waiting my refund</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_DateRange>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold color000">
                Date Range</h2>
            <p class="fontPoppin font12 mb0 color808080">Set your date range of P.O arrivals</p>
        </div>
    </div>
    <div class="modal-body pl40 pt0 pr40">
        <div class="items-form-content popupList">
            <form autocomplete="off" action="#">
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label class="fontPoppin mb0 font12 fontSemiBold color000" for="startDate">Start date</label>
                        <!-- <datetime-popup [(value)]="myDate"></datetime-popup> -->
                        <input [(ngModel)]="fromDate" type="text" name="startDate" id="startDate"
                            placeholder="Select From Date" class="form-control font12 borderColorcbcbcb " bsDatepicker
                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            placeholder="MM/DD/YY" [isOpen]="isOpenfromDate">
                        <span (click)="isOpenfromDate = !isOpenfromDate" class="datePickerIcon"></span>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label class="fontPoppin mb0 font12 fontSemiBold color000" for="endDate">End Date</label>
                        <input type="text" [(ngModel)]="toDate" name="endDate" id="endDate" placeholder="Select To Date"
                            class="form-control font12 borderColorcbcbcb" bsDatepicker
                            [bsConfig]="{showWeekNumbers:false, minDate: fromDate , isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            placeholder="MM/DD/YY" [isOpen]="isOpentoDate">
                        <span (click)="isOpentoDate = !isOpentoDate" class="datePickerIcon"></span>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb15">
        <button (click)="applyFilterOnPOOrders()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Filter</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #alreadyOrder>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <i class="fa fa-exclamation-triangle font42 color000"></i>
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                You have already ordered this product</h2>
            <p class="fontPoppin font12 mb0 color808080">Do you still want to continue? </p>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb30">
        <button (click)="alreadyOrderFun()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5">Yes,
            continue</button>
        <button (click)="closeModel()" type="button" class="btn modalSaveBtnReceive fontPoppin borderRadius20">No,
            cancel</button>
    </div>
</ng-template>
<ng-template #backCheckout>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <i class="fa fa-exclamation-triangle font42 color000"></i>
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                Would you like to save this record payment?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb15">
        <button (click)="checkOutBackbtn()" (click)="closePopup()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20">Yes,
            save it!</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #restockSerachPop>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <img src="../../../../assets/images/imgPlaceholder.png" alt="" width="40">
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">Your entered quantity will be lost</h2>
            <p class="fontPoppin font12 mb0 color808080">Do you still want to continue? </p>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb15">
        <button (click)="restockSerachCheckFun()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20">Yes
        </button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #recordAnotherPayment>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <i class="fa fa-exclamation-triangle font42 color000"></i>
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                Would you like to record another payment?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb15">
        <button (click)="recordAnotherPayments(true)" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20">
            Yes
        </button>
        <button (click)="recordAnotherPayments(false)" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">
            No
        </button>
    </div>
</ng-template>
<ng-template #openPrintLabel>
    <div *ngIf="ifPrintInput" class="ifPrintInput">
        <div class="modal-header noborder pt30">
            <div class="modalTitle mx-auto text-center">
                <h2 class="fontPoppin font24 fontSemiBold color000">
                    Print Label(s)</h2>
                <p class="fontPoppin font12 mb10 color000">Select the number of lables that you want for each product
                </p>
            </div>
        </div>
        <div class="modal-body pl40 pt0 pr40">
            <div class="items-form-content popupList">
                <div id="po-wrapper">
                    <div class="po-top-info">
                        <div class="inner wd40percent"><span class="text-left bgBlack colorfff">Product name</span>
                        </div>
                        <div class="inner wd11percent text-center"><span
                                class="text-center bgBlack colorfff">Quantity</span></div>
                    </div>
                    <div class="po-inner-list">
                        <div class="ifBundleProduct">
                            <ul>
                                <li *ngFor="let print of printLabelProduct; let i = index" class="">
                                    <div class="inner wd40percent text-left">
                                        <span class="dBlock color000">{{print.product_name ||'N/A'}}</span>
                                        <span class="dBlock color808080">SKU: {{print.sku ||'N/A'}}</span>
                                    </div>
                                    <div class="inner wd11percent">
                                        <span class="text-center ml15 mr15">
                                            <div
                                                class="input-group borderWidth1pxSolid borderColorcbcbcb borderRadius5 bgWhite">
                                                <span class="input-group-btn m0" (click)='printLabelMiuns(i)'>
                                                    <button type="button"
                                                        class="btn btn-default btn-number borderBRR0 borderTRR0" data-type="minus" data-field="quant[1]">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                </span>
                                                <!-- <span (click)='printLabelQuantityInput(i)'
                                                    class="form-control input-number"
                                                    style="line-height:2.5">{{print.quantity}}</span> -->
                                                    
                                                <input  [value]="print.quantity" numeric 
                                                    (focusout)="donePrintLabelQuantity(i,$event.target.value)"
                                                    type="text" name="quant{{i}}" class="form-control input-number">

                                                <span class="input-group-btn m0" (click)='printLabelPluse(i)'>
                                                    <button type="button"
                                                        class="btn btn-default btn-number borderBLR0 borderTLR0"
                                                        data-type="plus" data-field="quant[1]">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </span>
                                            </div>
                                        </span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer dBlock noborder text-center mx-auto">
            <button (click)="openPrintPreview()" type="button"
                class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20 mx-auto">Print Preview</button>
            <button (click)="closePrintLabelPopup()" type="button"
                class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
        </div>
    </div>
    <div *ngIf="ifPrintPreview" class="ifPrintPreview">
        <div class="modal-body">
            <div class="labelPrintPreview">
                <ul *ngFor="let plabel of printLabelProduct; let i = index" class="dtable wd100Percent text-left ">
                    <li *ngFor="let in of counter(plabel.quantity); let j = index"
                        class="dInlinetable wd33percentfull border2px m1px borderRadius5">
                        <h2 class="labelTitle fontPoppin font10 fontSemiBold color000 dBlock padding10px text-center">
                            {{printLabelProduct[i]?.product_name ||'N/A' | titlecase}}</h2>
                        <span
                            class="dBlock wd100Percent bgcolorGreenLabel colorWhite fontPoppin font10 fontSemiBold padding5px text-center">SKU:
                            {{printLabelProduct[i]?.sku ||'N/A'}} /
                            {{printLabelProduct[i]?.sell_price | currency}}</span>
                        <!-- <i class="fas fa-barcode font64 color000 dBlock text-center"></i>
                        <span class="fontPoppin font10 mb5 mtMin5 color000 dBlock text-center">2938018</span> -->
                        <ngx-barcode class="fontPoppin font10 mb5 mtMin5 color000 dBlock text-center"
                            [bc-value]="printLabelProduct[i]?.sku" [bc-width]="3.5" [bc-height]="70"
                            [bc-display-value]="true" [bc-margin]="4" [bc-margin-top]="4" [bc-margin-bottom]="4"
                            [bc-margin-left]="4" [bc-margin-right]="4">
                        </ngx-barcode>
                    </li>
                </ul>
            </div>
        </div>
        <div class="modal-footer dBlock noborder text-center mx-auto">
            <button (click)="closePrintLabelPopup()" (click)='printPreview()' type="button"
                class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20 mx-auto">Print Labels</button>
            <button (click)="backPrintPreview()" type="button"
                class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Back</button>
        </div>
    </div>
</ng-template>
<ng-template #preview_printLabel>
    <div class="modal-body">
        <div class="labelPrintPreview">
            <ul class="dtable wd100Percent text-left ">
                <li class="dInlinetable wd33percentfull border2px m1px borderRadius5">
                    <h2 class="fontPoppin font12 fontSemiBold color000 dBlock padding10px text-center">Replacement
                        Battery For Techno 12 air (AMPSENTRIX)</h2>
                    <span
                        class="dBlock wd100Percent bgcolorGreenLabel colorWhite fontPoppin font12 fontSemiBold padding5px text-center">SKU:
                        107829318341131/ $12.61</span>
                    <i class="fas fa-barcode font64 color000 dBlock text-center"></i>
                    <span class="fontPoppin font10 mb5 mtMin5 color000 dBlock text-center">2938018</span>
                </li>
            </ul>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto">
        <button (click)="closePopup()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Print Labels</button>
        <button (click)="closePopup()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Back</button>
    </div>
</ng-template>
<ng-template #orderCancel>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20">
            <i class="icon-invoice font42 color000"></i>
            <h2 class="fontPoppin font18 fontSemiBold mt15 color000">Are you sure you want<br> to cancel this order?
            </h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb40">
        <button (click)="disgardproductsRestock()" (click)="closePopup()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            I'm sure</button>
        <button (click)="closeModel()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 wd140px">No,
            keep it</button>
    </div>
</ng-template>
<ng-template #orderCancelBundle>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20">
            <i class="icon-invoice font42 color000"></i>
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                Cancel Order</h2>
            <p class="fontPoppin font12 mb0 color808080">Are you sure you want to cancel this order?</p>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb30">
        <button (click)="cancelBtnBundelOrder()" (click)="closePopup()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">Yes,
            I'm sure</button>
        <button (click)="closeModel()" type="button" class="btn modalSaveBtnReceive fontPoppin borderRadius20">No,
            keep it</button>
    </div>
</ng-template>
<ng-template #finishLater>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt30">
            <i class="icon-invoice font42 color000"></i>
            <h2 class="fontPoppin font18 fontSemiBold mt15 color000">
                Do you want to finish<br> the P.O. later?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb40">
        <button (click)="saveSprInCart(true,false)" (click)="closePopup()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            finish later</button>
        <button (click)="closeModel()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 wd140px">No,
            go back</button>
    </div>
</ng-template>
<ng-template #finishLaterBundle>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20">
            <i class="icon-invoice font42 color000"></i>
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                Save Order</h2>
            <p class="fontPoppin font12 mb0 color808080"> Are you sure to want save order as draft?</p>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb30">
        <button (click)="saveMbpInCart(false)" (click)="closePopup()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">Yes,
            finish later</button>
        <button (click)="closeModel()" type="button" class="btn modalSaveBtnReceive fontPoppin borderRadius20">No,
            go back</button>
    </div>
</ng-template>
<ng-template #open_deletePay>
    <div class="modal-body">
        <div *ngIf='deleteSuppLoader' class="luna-loading"></div>
        <div class="modalTitle mx-auto text-center pt40">
            <img src="../../../../assets/images/box-removecustomer.png" alt="" width="40">
            <h2 class="fontPoppin font18 fontSemiBold mt10 color000 pl35 pr35">
                Do you want to delete this payment?</h2>
        </div>
    </div>

    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb30">
        <button (click)="deletePayment()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">Yes, delete it</button>
        <button (click)="closeModel()" type="button" class="btn modalSaveBtnReceive fontPoppin borderRadius20">No, go
            back</button>
    </div>
</ng-template>
<ng-template #openDeleteRMAList>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center pt40">
            <img src="../../../../assets/images/box-removecustomer.png" alt="" width="40">
            <h2 class="fontPoppin font18 fontSemiBold mt10 color000 pl35 pr35">
                Do you want to delete this?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb30">
        <button (click)="closeRMADeleteModel()" type="button" (click)="deleteItemFromRMA()"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">Yes, delete it</button>
        <button (click)="closeRMADeleteModel()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20">No, go
            back</button>
    </div>
</ng-template>
<ng-template #finishLaterRMA>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt30">
            <i class="icon-invoice font42 color000"></i>
            <h2 class="fontPoppin font18 fontSemiBold mt15 color000">
                Do you want to finish<br> the RMA later?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb40">
        <button (click)="createRMAOrderFun('later','')" (click)="closePopup()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            finish later</button>
        <button (click)="closeModel()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 wd140px">No,
            go back</button>
    </div>
</ng-template>
<ng-template #orderCancelRMA>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20">
            <i class="icon-invoice font42 color000"></i>
            <h2 class="fontPoppin font18 fontSemiBold mt15 color000">Are you sure you want to cancel this RMA?</h2>
            <!-- <p class="fontPoppin font12 mb0 color808080"> Are you sure you want to cancel this order?</p> -->
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb30">
        <button (click)="disgardRMA(); closePopup()" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">Yes,
            I'm sure</button>
        <button (click)="closeModel()" type="button" class="btn modalSaveBtnReceive fontPoppin borderRadius20">No,
            keep it</button>
    </div>
</ng-template>
<ng-template #open_deleteRMA>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt20 wd250">
            <i class="fa fa-trash font42 color000"></i>
            <h2 class="fontPoppin font20 fontSemiBold mt15 color000">
                Do you want to delete this RMA?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb30">
        <button (click)="updateRMAStatusFun('Deleted')" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">Yes,
            delete it</button>
        <button (click)="closeModel()" type="button" class="btn modalSaveBtnReceive fontPoppin borderRadius20">No,
            go back</button>
    </div>
</ng-template>
<ng-template #open_cancelRMA>
    <app-toaster (closeToaster)="userErrorForRMA()" [toasterType]="toasterType" [toasterMsg]="toasterMsg"
        [hideToster]="toasterMsgRMAInvalidPass"></app-toaster>
    <div class="modal-body" [ngClass]="{'bounce':userNotValid}">
        <div class="modalTitle mx-auto text-center mt30">
            <i class="icon-delete font42 color000"></i>
            <h2 class="fontPoppin font18 fontSemiBold mt15 color000">Are you sure you want<br> to cancel this RMA?</h2>
        </div>
        <br>
        <form autocomplete="off"> 
            <div class="row mb15">
                <div class="col-lg-12">
                    <label [ngClass]="{'bounce':cancelPOSubmitted && userEmail== ''}"
                        class="fontPoppin mb0 font12 fontSemiBold color000">User Name</label>
                    <input (click)='userErrorForRMA()' [ngClass]="{'bounce':cancelPOSubmitted && userEmail== ''}"
                        [(ngModel)]="userEmail" type="text"
                        class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                        placeholder="example@example.com" [ngModelOptions]="{standalone: true}">
                    <span *ngIf="userPwd== ''"
                        [ngClass]="{'bounce colorRedError':cancelPOSubmitted && userEmail== ''}">User name is
                        required</span>
                </div>
            </div>
            <div class="row mb15">
                <div class="col-lg-12">
                    <label [ngClass]="{'bounce':cancelPOSubmitted && userPwd== ''}"
                        class="fontPoppin mb0 font12 fontSemiBold color000">Password Name</label>
                    <input (click)='userErrorForRMA()' [ngClass]="{'bounce':cancelPOSubmitted && userPwd== ''}"
                        [(ngModel)]="userPwd" type="password"
                        class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                        placeholder="Type the password here" [ngModelOptions]="{standalone: true}">
                    <span *ngIf="userPwd== ''"
                        [ngClass]="{'bounce colorRedError':cancelPOSubmitted && userPwd== ''}">Password is
                        required</span>
                </div>
            </div>
        </form>
        <!-- <span *ngIf="userNotValid" class="bounce colorRed">{{userMsg}}</span> -->
    </div>
    <div [ngClass]="{'bounce':userNotValid}" class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb40">
        <button [ngClass]="{ 'disabled': cencleButtonDisable}" (click)="updateRMAStatusFun('Canceled')" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite">Yes,
            cancel it</button>
        <button (click)="closeModel()" type="button" class="btn modalSaveBtnReceive fontPoppin borderRadius20">No,
            go back</button>
    </div>
</ng-template>
<ng-template #open_confirmBundle>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center pt30">
            <i class="icon-bundle_product font64 color000"></i>
            <h2 class="fontPoppin font18 fontSemiBold mt10 color000">You have to add at<br>least 2 products to
                create<br>a bundle product</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb40">
        <button (click)="modalRef.hide()" type="button"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite">Continue</button>
    </div>
</ng-template>
<ng-template #open_SupplierPODateRange>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold color000">
                Date Range</h2>
            <p class="fontPoppin font12 mb0 color808080">Set your date range of P.O arrivals</p>
        </div>
    </div>
    <div class="modal-body pl40 pt0 pr40">
        <div class="items-form-content popupList">
            <form autocomplete="off" action="#">
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label class="fontPoppin mb0 font12 fontSemiBold color000" for="startDate">Start date</label>
                        <!-- <datetime-popup [(value)]="myDate"></datetime-popup> -->
                        <input [(ngModel)]="supplierFromDate" type="text" name="startDate" id="startDate"
                            placeholder="Select From Date" class="form-control font12 borderColorcbcbcb " bsDatepicker
                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            placeholder="MM/DD/YY" [isOpen]="isOpensupplierFromDate">
                        <span (click)="isOpensupplierFromDate = !isOpensupplierFromDate" class="datePickerIcon"></span>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label class="fontPoppin mb0 font12 fontSemiBold color000" for="endDate">End Date</label>
                        <input type="text" [(ngModel)]="supplierToDate" name="endDate" id="endDate"
                            placeholder="Select To Date" class="form-control font12 borderColorcbcbcb" bsDatepicker
                            [bsConfig]="{showWeekNumbers:false, minDate: fromDate , isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            placeholder="MM/DD/YY" [isOpen]="isOpensupplierToDate">
                        <span (click)="isOpensupplierToDate = !isOpensupplierToDate" class="datePickerIcon"></span>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb15">
        <button (click)="supplierDateRangeFilter()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Filter</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_SupplierRMADateRange>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold color000">
                Date Range</h2>
            <p class="fontPoppin font12 mb0 color808080">Set your date range of RMA arrivals</p>
        </div>
    </div>
    <div class="modal-body pl40 pt0 pr40">
        <div class="items-form-content popupList">
            <form autocomplete="off" action="#">
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label class="fontPoppin mb0 font12 fontSemiBold color000" for="startDate">Start date</label>
                        <!-- <datetime-popup [(value)]="myDate"></datetime-popup> -->
                        <input [(ngModel)]="supplierRMAFromDate" type="text" name="startDate" id="startDate"
                            placeholder="Select From Date" class="form-control font12 borderColorcbcbcb " bsDatepicker
                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            placeholder="MM/DD/YY" [isOpen]="supplierRMAFromDate">
                        <span (click)="supplierRMAFromDate = !supplierRMAFromDate" class="datePickerIcon"></span>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label class="fontPoppin mb0 font12 fontSemiBold color000" for="endDate">End Date</label>
                        <input type="text" [(ngModel)]="supplierRMAToDate" name="endDate" id="endDate"
                            placeholder="Select To Date" class="form-control font12 borderColorcbcbcb" bsDatepicker
                            [bsConfig]="{showWeekNumbers:false, minDate: fromDate , isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            placeholder="MM/DD/YY" [isOpen]="isOpensupplierRMAToDate">
                        <span (click)="isOpensupplierRMAToDate = !isOpensupplierRMAToDate"
                            class="datePickerIcon"></span>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb15">
        <button (click)="supplierRMADateRangeFilter()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Filter</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_SupplierBUYDateRange>
    <div class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin font24 fontSemiBold color000">
                Date Range</h2>
            <p class="fontPoppin font12 mb0 color808080">Set your date range of P.O arrivals</p>
        </div>
    </div>
    <div class="modal-body pl40 pt0 pr40">
        <div class="items-form-content popupList">
            <form autocomplete="off" action="#">
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label class="fontPoppin mb0 font12 fontSemiBold color000" for="startDate">Start date</label>
                        <!-- <datetime-popup [(value)]="myDate"></datetime-popup> -->
                        <input [(ngModel)]="supplierBBFromDate" type="text" name="startDate" id="startDate"
                            placeholder="Select From Date" class="form-control font12 borderColorcbcbcb " bsDatepicker
                            [bsConfig]="{ showWeekNumbers:false,isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            placeholder="MM/DD/YY" [isOpen]="supplierBBFromDate">
                        <span (click)="supplierBBFromDate = !supplierBBFromDate" class="datePickerIcon"></span>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label class="fontPoppin mb0 font12 fontSemiBold color000" for="endDate">End Date</label>
                        <input type="text" [(ngModel)]="supplierBBToDate" name="endDate" id="endDate"
                            placeholder="Select To Date" class="form-control font12 borderColorcbcbcb" bsDatepicker
                            [bsConfig]="{showWeekNumbers:false, minDate: fromDate , isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            placeholder="MM/DD/YY" [isOpen]="isOpensupplierBBToDate">
                        <span (click)="isOpensupplierBBToDate = !isOpensupplierBBToDate" class="datePickerIcon"></span>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb15">
        <button (click)="supplierBBDateRangeFilter()" type="button"
            class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20">Filter</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
    </div>
</ng-template>
<ng-template #open_importSupplier>
    <div class="modal-body">
        <h2 class="fontPoppin notextTransform font24 fontBold color000">Import {{importText}}</h2>
        <p>Upload your {{importText}} order as a .CSV or .XSL files.</p>
        <div *ngIf="importText=='Supplier(s)'" class="download-sample"><a
                href="../../../../assets/ImportSuppliersSample.csv" download>Download sample csv</a>
        </div>
        <div *ngIf="importText!='Supplier(s)'" class="download-sample"><a
                href="../../../../assets/ImportProductsSample.csv" download>Download sample csv</a>
        </div>
        <div class="import-file">
            <div class="input-group input-file" name="add-importPO">
                <label *ngIf="fileNameSupplier != ''" for="add-importPO"><span>{{fileNameSupplier}}</span></label>
                <label *ngIf="fileNameSupplier == ''" for="add-importPO"><span>Please select csv file</span></label>
                <input type="file" accept=".csv" #uploads (change)="onFileChangedSupplier(uploads.files)" multiple
                    value="process" name="add-importPO" id="add-importPO" class="form-control cust-field"
                    placeholder="Example: filename.csv">
                <span class="input-group-btn">
                    <button class="btn btn-default btn-choose" type="button">Browse</button>
                </span>
            </div>
        </div>

    </div>
    <div class="modal-footer">
        <button (click)="closeModel()" type="button"
            class="btn btn-default fontSemiBold fontPoppin notextTransform padding5px font13 ">Cancel</button>
        <button (click)="closeModel()" [ngClass]="{ 'disabled': fileNameSupplier == ''}"
            [disabled]="fileNameSupplier == ''"
            (click)="openModalImportModel(open_mapColumnSupplier, 'box-importPO box-width')" type="button"
            class="btn btn-default fontSemiBold fontPoppin notextTransform padding5px font13">Upload</button>
    </div>
</ng-template>
<ng-template #open_mapColumnSupplier>
    <div class="modal-header">
    </div>
    <app-toaster (closeToaster)="closeImportToaster()" [toasterType]="toasterType" [toasterMsg]="toasterMsg"
        [hideToster]="showImportToaster"></app-toaster>
    <div class="modal-body">
        <h2 class="fontPoppin notextTransform fontBold font24 color000">Configure columns to import</h2>
        <p>Match the reserved attributes on import {{importText}} to the columns header in your CSV</p>
        <p>Please note that you may not be importing all of these attributes. Feel free to "Skip" the ones that are not
            present in your file.</p>
        <div class="merge-columns scrollmenu">
            <carousel [noWrap]="!noWrap" [interval]="false" [startFromIndex]="0">
                <slide *ngFor="let field of fieldsSupplier; let i = index;" class="">
                    <div class="column-box">
                        <div class="bottom">
                            <div *ngIf="field.selectedBox && !field.skip" class="selectedBox text-center">
                                <div class="selectedData">
                                    <p class="fontBold fontPoppin font12">{{field.name }}<span
                                            class="dBlock fontRegular">Merge Field</span></p>
                                </div>
                                <div class="mergeAction">
                                    <a class="dInlineBlock colorGreen" (click)="editCol(i)">Edit</a>
                                    <a class="dInlineBlock colorGreen" (click)="skipSlideSupplier(i)">Skip</a>
                                </div>
                            </div>
                            <div *ngIf="field.skip && !field.selectionBox" class="selectedBox text-center">
                                <div class="selectedData">
                                    <p class="fontBold fontPoppin font12"><span class="dBlock fontRegular">Will not be
                                            imported</span></p>
                                </div>
                                <div class="mergeAction">
                                    <a class="dInlineBlock colorGreen" (click)="editCol(i)">Edit</a>
                                </div>
                            </div>
                            <div *ngIf="field.selectionBox" class="selectionBox text-center">
                                <div class="btn-group" dropdown>
                                    <button id="button-animated" dropdownToggle type="button"
                                        class="btn btn-primary dropdown-toggle"
                                        aria-controls="dropdown-animated">{{colSupplier[i]}}
                                        <span class="caret"></span>
                                    </button>
                                    <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu"
                                        aria-labelledby="button-animated">
                                        <li *ngFor="let m_col of mappedColumnsSupplier; let k = index;"
                                            (click)="changeColItemName(m_col,i)" role="menuitem">
                                            <a class="dropdown-item">{{m_col}}</a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- (click)="changeValueOfMapColumnsSupplier('mappedColumn',m_col,field.name,i)" -->
                                <div class="saveAction">
                                    <a *ngIf='field.name!="" &&  field.name!=Undefined' class="dInlineBlock"
                                        (click)="changeValueOfMapColumnsSupplier('mappedColumn',i)">Save</a>
                                    <a *ngIf='field.name=="" ||  field.name==Undefined' class="dInlineBlock"
                                        (click)="saveUnkownCol(i)">Add</a>
                                    <a *ngIf='field.name!="" &&  field.name!=Undefined' class="dInlineBlock"
                                        (click)="skipEditedCol(i)">Skip</a>
                                </div>
                            </div>
                        </div>
                        <div class="view-column">
                            <label>{{field.name  || field.csvName |titlecase}}</label>
                            <div class="scroll-content">
                                <table class="table">
                                    <tbody>
                                        <tr *ngFor="let data of dataListSupplier;let j = index;" colspan="2">
                                            <td>{{j+1}}</td>
                                            <td>{{dataListSupplier[j][suppFileFieldsName[i]]}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </slide>
            </carousel>
        </div>
    </div>
    <div class="modal-footer">
        <!-- <div class="csvInfo">
            <span>Columns: <i class="color000">10</i></span>
            <span>Mapped: <i class="colorGreen">06</i></span>
            <span>Skipped: <i class="colorOrange">03</i></span>
            <span>Undefined: <i class="colorRed">01</i></span>
        </div> (click)="openModal(open_importDoneSupplier, 'box-importPO')" -->
        <button (click)="closeModel()" type="button"
            class="btn btn-default fontSemiBold fontPoppin notextTransform padding5px font13">Cancel</button>
        <button *ngIf="importText=='Supplier(s)'" (click)="doneMappingSupplier()" type="button"
            (click)="closeModelSuppImported(open_CompareSupplierData2,'custModal wd600')"
            class="btn btn-default fontSemiBold fontPoppin notextTransform padding5px font13">Done</button>
        <button *ngIf="importText!='Supplier(s)'" (click)="doneMappingProducts()" type="button"
            (click)="openModal(open_importDoneProduct, 'box-importPO')"
            class="btn btn-default fontSemiBold fontPoppin notextTransform padding5px font13">Done</button>
    </div>
</ng-template>
<ng-template #open_importDoneProduct>
    <div *ngIf='importSupplierLoader==true' class="luna-loading"></div>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt30">
            <!-- <h2 *ngIf='alreadyExistSuppliers?.length !=0'>{{alreadyExistSuppliers?.length}} Supplier(s) already exist</h2> -->
            <h2 class="fontPoppin notextTransform fontSemiBold font18 color000 mb5" *ngIf='productsInvalidData !=0'>
                {{productsInvalidData}} Product(s) can't import due to invalid data.</h2>
            <h2 class="fontPoppin notextTransform fontSemiBold font18 color000 mb5" *ngIf='newlyAddedProducts!=0'>
                {{newlyAddedProducts}} Product(s) has been imported.</h2>
            <h2 class="fontPoppin notextTransform fontSemiBold font18 color000 mb5" *ngIf='alreadyExistProducts!=0'>
                {{alreadyExistProducts}} Product(s) already exist.</h2>
        </div>
        <br>
    </div>
    <div class="modal-footer dBlock noborder text-center pl40 pr40 pt10 pb30">
        <button (click)="closeImportModel()" type="button" class="btn importSupProbtns">Ok</button>
    </div>
</ng-template>
<ng-template #open_CompareSupplierData2>
    <div *ngIf='importSupplierLoader==true' class="luna-loading"></div>
    <div *ngIf='dataVerifyBox' class="modal-header noborder pt30">
        <div class="modalTitle mx-auto text-center">
            <h2 class="fontPoppin notextTransform fontBold font24 color000">Supplier Data Verification</h2>
            <p style="color: black;">Supplier to verify {{sentSupplierForImport[count]?.supplier_company}}. {{count+1}}
                of {{postVerifySuppForImport?.length}}</p>
        </div>
    </div>
    <app-toaster (closeToaster)="closePostToaster()" [toasterType]="toasterType" [toasterMsg]="toasterMsg"
        [hideToster]="postVerifyToaster"></app-toaster>
    <div *ngIf='dataVerifyBox' class="modal-body pl40 pt0 pr40">
        <div class="items-form-content">
            <div class="row mb15">
                <div class="col-lg-6">
                    <div class="compareBox posRelative nOcenter"
                        [ngClass]="{ 'boxSelected': sentSupplierForImport[count]?.selected=='given'}">
                        <div class="innerCompare">
                            <h2 class="fontPoppin font14 mb15 fontSemiBold color000 text-center">Information You Entered
                            </h2>
                            <div class="addressInfo">
                                <span class="dBlock color808080 fontSemiBold">Company Name</span>
                                <span
                                    class="dBlock color808080 mb10">{{sentSupplierForImport[count]?.supplier_company || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Website</span>
                                <span
                                    class="dBlock color808080 mb10">{{sentSupplierForImport[count]?.website || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Phone Number</span>
                                <span
                                    class="dBlock color808080 mb10">{{sentSupplierForImport[count]?.supplier_company_phone || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Company Email</span>
                                <span
                                    class="dBlock color808080 mb10">{{sentSupplierForImport[count]?.supplier_company_email || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Address</span>
                                <span
                                    class="dBlock color808080 mb10">{{sentSupplierForImport[count]?.address_1 || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">City</span>
                                <span
                                    class="dBlock color808080 mb10">{{sentSupplierForImport[count]?.city || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">State</span>
                                <span
                                    class="dBlock color808080 mb10">{{sentSupplierForImport[count]?.state || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Zip Code</span>
                                <span
                                    class="dBlock color808080 mb10">{{sentSupplierForImport[count]?.zip_code || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Coutnry</span>
                                <span
                                    class="dBlock color808080 mb10">{{sentSupplierForImport[count]?.Country || 'N/A'}}</span>
                            </div>
                            <a [ngClass]="{ 'suggGivenButton': sentSupplierForImport[count]?.selected=='given'}"
                                (click)='givenSupplierArrayFun(sentSupplierForImport[count])' href="JavaScript:void(0)"
                                class="mt20 font12 dBlock mx-auto text-center">Use given Information </a>
                            <!-- (click)="createSupplierMutation(sentSupplierForImport[count],'hide')" -->
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="compareBox posRelative nOcenter"
                        [ngClass]="{ 'boxSelected': postVerifySuppForImport[count]?.selected=='sugg'}">
                        <div class="innerCompare">
                            <h2 class="fontPoppin font14 mb15 fontSemiBold color000 text-center">Verified Information
                            </h2>
                            <div class="addressInfo">
                                <span class="dBlock color808080 fontSemiBold">Company Name</span>
                                <span
                                    class="dBlock color808080 mb10">{{postVerifySuppForImport[count]?.supplier_company || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Website</span>
                                <span
                                    class="dBlock color808080 mb10">{{postVerifySuppForImport[count]?.website || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Phone Number</span>
                                <span
                                    class="dBlock color808080 mb10">{{postVerifySuppForImport[count]?.supplier_company_phone|| 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Company Email</span>
                                <span
                                    class="dBlock color808080 mb10">{{postVerifySuppForImport[count]?.supplier_company_email|| 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Address</span>
                                <span
                                    class="dBlock color808080 mb10">{{postVerifySuppForImport[count]?.address_1|| 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">City</span>
                                <span
                                    class="dBlock color808080 mb10">{{postVerifySuppForImport[count]?.city || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">State</span>
                                <span
                                    class="dBlock color808080 mb10">{{postVerifySuppForImport[count]?.state|| 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Zip Code</span>
                                <span
                                    class="dBlock color808080 mb10">{{postVerifySuppForImport[count]?.zip_code || 'N/A'}}</span>
                                <span class="dBlock color808080 fontSemiBold">Coutnry</span>
                                <span
                                    class="dBlock color808080 mb10">{{postVerifySuppForImport[count]?.Country || 'N/A'}}</span>
                            </div>
                            <!-- (click)="createSupplierMutation(postVerifySuppForImport[count],'hide')" -->
                            <a [ngClass]="{ 'suggGivenButton': postVerifySuppForImport[count]?.selected=='sugg'}"
                                (click)='suggestedSupplierArrayFun(postVerifySuppForImport[count])'
                                href="JavaScript:void(0)" class="mt20 font12 dBlock mx-auto text-center">Use suggested
                                Information </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf='!dataVerifyBox' class="modal-body pl40 pt0 pr40">
        <div class="modalTitle mx-auto text-center mt30">
            <h2 *ngIf='suppliersInvalid!=0' class="fontPoppin notextTransform fontSemiBold font18 color000 mb5">
                {{suppliersInvalid}} Supplier(s) can't import due to invalid data.</h2>
            <h2 *ngIf='alreadyExistSuppliers!=0' class="fontPoppin notextTransform fontSemiBold font18 color000 mb5">
                {{alreadyExistSuppliers}} Supplier(s) already exist.</h2>
            <h2 *ngIf='newlyAddedSuppliers!=0' class="fontPoppin notextTransform fontSemiBold font18 color000 mb5">
                {{newlyAddedSuppliers}} Supplier(s) has been imported.</h2>
        </div>
    </div>
    <div *ngIf='!dataVerifyBox' class="modal-footer dBlock noborder text-center pl40 pr40 pt10 pb5 mb15">
        <button (click)="closeImportModel()" type="button" class="btn importSupProbtns">ok</button>
    </div>
    <div *ngIf='dataVerifyBox' class="modal-footer dBlock noborder text-center pl40 pr40 pt10 pb5 mb15">
        <button *ngIf='count!=0' (click)="backSupplierForCompare(count)" type="button"
            class="btn importSupProbtns fl">Back</button>
        <button (click)="createImportSuppliers(true)" *ngIf="postVerifySuppForImport?.length==count+1" type="button"
            class="btn importSupProbtns fr">Done</button>
        <button *ngIf='postVerifySuppForImport?.length!=count+1' (click)="nextSupplierForCompare(count)" type="button"
            class="btn importSupProbtns fr">Next</button>
    </div>
</ng-template>
<ng-template #saveAllchanges>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center mt30">
            <i class="icon-invoice font42 color000"></i>
            <h2 class="fontPoppin font18 fontSemiBold mt15 color000">
                Do you want to save<br> all changes?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb5 mb40">
        <button (click)="saveChanges(true)" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            please</button>
        <button (click)="saveChanges(false)" type="button"
            class="btn modalSaveBtnReceive fontPoppin borderRadius20 wd140px">No,
            thank you!</button>
    </div>
</ng-template>
<ng-template #open_Removelog>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> remove this Log?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button (click)="removeLog()" type="button" *ngIf="poDetails"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            remove it</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_MarkAsMissing>
    <app-toaster (closeToaster)="closeImportToaster()" [toasterType]="toasterType" [toasterMsg]="toasterMsg"
        [hideToster]="showImportToaster"></app-toaster>
    <div class="refundView">
        <div class="modal-header noborder pt30">
            <div class="modalTitle mx-auto text-center">
                <h2 class="fontPoppin font24 fontSemiBold color000">Receive Refund</h2>
            </div>
        </div>
        <div class="modal-body pl40 pt0 pr40">
            <div class="items-form-content">
                <div class="row mb20">
                    <div class="col-lg-12">
                        <!-- <div id="discount-cat-btn" class="btn-group dInlineBlock">
                            <a [ngClass]="{'active':storeCreditSelected , 'notActive' : !storeCreditSelected }"
                                (click)="changePaymentReturnMethod(true)" class="btn wd25percent">
                                Yes
                            </a>
                            <a [ngClass]="{'active':!storeCreditSelected , 'notActive' : storeCreditSelected }"
                                (click)="changePaymentReturnMethod(false)" class="btn wd25percent">
                                No
                            </a>
                            <input type="text" class="mt10 form-control cust-field font12 borderColorcbcbcb borderRadius5" placeholder="refund amount" name="refund" />
                        </div> -->
                        <label class="fontPoppin dBlock mb0 font12 fontSemiBold500 color000">Would there be a
                            refund?</label>
                        <div class="input-group">
                            <div id="discount-cat-btn" class="btn-group">
                                <a [ngClass]="{'active':storeCreditSelected , 'notActive' : !storeCreditSelected }"
                                    (click)="changePaymentReturnMethod(true)" class="btn wd25percent height32px">
                                    Yes
                                </a>
                                <a [ngClass]="{'active':!storeCreditSelected , 'notActive' : storeCreditSelected }"
                                    (click)="changePaymentReturnMethod(false)" class="btn wd25percent height32px">
                                    No
                                </a>
                                <input
                                    class="height32px wd60percent borderLeft0 form-control borderColor000 input-group-addon borderTLR0 borderBLR0 text-right padding5px"
                                    type="text" placeholder="0.00" [(ngModel)]="sprDiscountValue"
                                    (focusout)='sprDiscountFun()'>
                                <input type="hidden" name="dis-cat" id="dis-cat">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mb15">
                    <div class="col-lg-12">
                        <label [ngClass]="{'bounce colorRedError':cancelPOSubmitted && refundDate == null}"
                            class="fontPoppin dBlock mb0 font12 fontSemiBold500 color000 mb5">Refund Date</label>
                        <input [ngClass]="{'bounce colorRedError':cancelPOSubmitted && refundDate == null}" type="text"
                            [(ngModel)]="refundDate" placeholder="Month/Day/Year"
                            class="form-control cust-field font12 borderColorcbcbcb borderRadius5"
                            [bsConfig]="{showWeekNumbers:false, isAnimated: true  , dateInputFormat: 'MMM/DD/YYYY'}"
                            bsDatepicker placement="top" [isOpen]="isOpenrefundDate">
                        <span (click)="isOpenrefundDate = !isOpenrefundDate" class="datePickerIcon"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer dBlock noborder text-center mx-auto">
            <button (click)="closerefundView()" type="button"
                class="btn modalSaveBtn fontPoppin fontSemiBold borderRadius20 mx-auto">Process Refund</button>
            <button (click)="closerefundView()" type="button"
                class="btn modalCancelBtn font12 fontLato fontSemiBold mx-auto">Cancel</button>
        </div>
    </div>
</ng-template>
<ng-template #open_unlinkModel>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 *ngIf="unlinkService" class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> unlink this model?</h2>
            <h2 *ngIf="!unlinkService" class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> unlink this item?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button type="button" (click)="unlinkDevice()"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            unlink it</button>
        <button (click)="closeModalOnly()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>
<ng-template #open_unlinkItem>
    <div class="modal-body">
        <div class="modalTitle mx-auto text-center pt15">
            <i class="icon-archive font42 color000"></i>
            <h2 class="fontPoppin font14 fontSemiBold mt10 color000">Do you want to <br> unlink this item?</h2>
        </div>
    </div>
    <div class="modal-footer dBlock noborder text-center mx-auto pt10 pb20">
        <button type="button" (click)="openIsRemoveItem()"
            class="btn modalSaveBtnReceive font11 fontSemiBold borderRadius20 mb5 bgBlack colorWhite wd140px">Yes,
            unlink it</button>
        <button (click)="closeModel()" type="button"
            class="btn modalCancelBtn font10 fontLato fontSemiBold mx-auto p0">Cancel</button>
    </div>
</ng-template>